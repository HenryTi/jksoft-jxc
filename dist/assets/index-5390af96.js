var ub=Object.defineProperty;var cb=(e,t,n)=>t in e?ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var db=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var x=(e,t,n)=>(cb(e,typeof t!="symbol"?t+"":t,n),n);var SR=db((TR,$l)=>{function fb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function My(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fy={exports:{}},$o={},Ty={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),hb=Symbol.for("react.portal"),mb=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),yb=Symbol.for("react.profiler"),vb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),xb=Symbol.for("react.forward_ref"),wb=Symbol.for("react.suspense"),bb=Symbol.for("react.memo"),jb=Symbol.for("react.lazy"),tm=Symbol.iterator;function Sb(e){return e===null||typeof e!="object"?null:(e=tm&&e[tm]||e["@@iterator"],typeof e=="function"?e:null)}var Ry={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ly=Object.assign,qy={};function ss(e,t,n){this.props=e,this.context=t,this.refs=qy,this.updater=n||Ry}ss.prototype.isReactComponent={};ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uy(){}Uy.prototype=ss.prototype;function qd(e,t,n){this.props=e,this.context=t,this.refs=qy,this.updater=n||Ry}var Ud=qd.prototype=new Uy;Ud.constructor=qd;Ly(Ud,ss.prototype);Ud.isPureReactComponent=!0;var nm=Array.isArray,$y=Object.prototype.hasOwnProperty,$d={current:null},Vy={key:!0,ref:!0,__self:!0,__source:!0};function zy(e,t,n){var r,i={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)$y.call(t,r)&&!Vy.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Sa,type:e,key:s,ref:l,props:i,_owner:$d.current}}function kb(e,t){return{$$typeof:Sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sa}function Cb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rm=/\/+/g;function Mu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cb(""+e.key):t.toString(36)}function wl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Sa:case hb:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Mu(l,0):r,nm(i)?(n="",e!=null&&(n=e.replace(rm,"$&/")+"/"),wl(i,t,n,"",function(c){return c})):i!=null&&(Vd(i)&&(i=kb(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(rm,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",nm(e))for(var o=0;o<e.length;o++){s=e[o];var u=r+Mu(s,o);l+=wl(s,t,n,u,i)}else if(u=Sb(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=r+Mu(s,o++),l+=wl(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Xa(e,t,n){if(e==null)return e;var r=[],i=0;return wl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function _b(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},bl={transition:null},Nb={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:bl,ReactCurrentOwner:$d};ve.Children={map:Xa,forEach:function(e,t,n){Xa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xa(e,function(){t++}),t},toArray:function(e){return Xa(e,function(t){return t})||[]},only:function(e){if(!Vd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=ss;ve.Fragment=mb;ve.Profiler=yb;ve.PureComponent=qd;ve.StrictMode=pb;ve.Suspense=wb;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nb;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ly({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=$d.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)$y.call(t,u)&&!Vy.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Sa,type:e.type,key:i,ref:s,props:r,_owner:l}};ve.createContext=function(e){return e={$$typeof:gb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vb,_context:e},e.Consumer=e};ve.createElement=zy;ve.createFactory=function(e){var t=zy.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:xb,render:e}};ve.isValidElement=Vd;ve.lazy=function(e){return{$$typeof:jb,_payload:{_status:-1,_result:e},_init:_b}};ve.memo=function(e,t){return{$$typeof:bb,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=bl.transition;bl.transition={};try{e()}finally{bl.transition=t}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(e,t){return At.current.useCallback(e,t)};ve.useContext=function(e){return At.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return At.current.useDeferredValue(e)};ve.useEffect=function(e,t){return At.current.useEffect(e,t)};ve.useId=function(){return At.current.useId()};ve.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return At.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};ve.useRef=function(e){return At.current.useRef(e)};ve.useState=function(e){return At.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return At.current.useTransition()};ve.version="18.2.0";Ty.exports=ve;var E=Ty.exports;const re=My(E),jc=fb({__proto__:null,default:re},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=E,Ib=Symbol.for("react.element"),Eb=Symbol.for("react.fragment"),Pb=Object.prototype.hasOwnProperty,Ab=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ob={key:!0,ref:!0,__self:!0,__source:!0};function By(e,t,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Pb.call(t,r)&&!Ob.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ib,type:e,key:s,ref:l,props:i,_owner:Ab.current}}$o.Fragment=Eb;$o.jsx=By;$o.jsxs=By;Fy.exports=$o;var a=Fy.exports,Sc={},Yy={exports:{}},Qt={},Wy={exports:{}},Hy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,R){var B=O.length;O.push(R);e:for(;0<B;){var ee=B-1>>>1,ae=O[ee];if(0<i(ae,R))O[ee]=R,O[B]=ae,B=ee;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var R=O[0],B=O.pop();if(B!==R){O[0]=B;e:for(var ee=0,ae=O.length,Ee=ae>>>1;ee<Ee;){var fe=2*(ee+1)-1,_e=O[fe],Ne=fe+1,Se=O[Ne];if(0>i(_e,B))Ne<ae&&0>i(Se,_e)?(O[ee]=Se,O[Ne]=B,ee=Ne):(O[ee]=_e,O[fe]=B,ee=fe);else if(Ne<ae&&0>i(Se,B))O[ee]=Se,O[Ne]=B,ee=Ne;else break e}}return R}function i(O,R){var B=O.sortIndex-R.sortIndex;return B!==0?B:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],c=[],d=1,h=null,m=3,v=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=O)r(c),R.sortIndex=R.expirationTime,t(u,R);else break;R=n(c)}}function j(O){if(w=!1,p(O),!y)if(n(u)!==null)y=!0,z(b);else{var R=n(c);R!==null&&W(j,R.startTime-O)}}function b(O,R){y=!1,w&&(w=!1,g(C),C=-1),v=!0;var B=m;try{for(p(R),h=n(u);h!==null&&(!(h.expirationTime>R)||O&&!I());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,m=h.priorityLevel;var ae=ee(h.expirationTime<=R);R=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(u)&&r(u),p(R)}else r(u);h=n(u)}if(h!==null)var Ee=!0;else{var fe=n(c);fe!==null&&W(j,fe.startTime-R),Ee=!1}return Ee}finally{h=null,m=B,v=!1}}var k=!1,_=null,C=-1,N=5,D=-1;function I(){return!(e.unstable_now()-D<N)}function A(){if(_!==null){var O=e.unstable_now();D=O;var R=!0;try{R=_(!0,O)}finally{R?M():(k=!1,_=null)}}else k=!1}var M;if(typeof f=="function")M=function(){f(A)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=A,M=function(){q.postMessage(null)}}else M=function(){S(A,0)};function z(O){_=O,k||(k=!0,M())}function W(O,R){C=S(function(){O(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,z(b))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var B=m;m=R;try{return O()}finally{m=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=m;m=O;try{return R()}finally{m=B}},e.unstable_scheduleCallback=function(O,R,B){var ee=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=B+ae,O={id:d++,callback:R,priorityLevel:O,startTime:B,expirationTime:ae,sortIndex:-1},B>ee?(O.sortIndex=B,t(c,O),n(u)===null&&O===n(c)&&(w?(g(C),C=-1):w=!0,W(j,B-ee))):(O.sortIndex=ae,t(u,O),y||v||(y=!0,z(b))),O},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(O){var R=m;return function(){var B=m;m=R;try{return O.apply(this,arguments)}finally{m=B}}}})(Hy);Wy.exports=Hy;var Mb=Wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=E,Wt=Mb;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gy=new Set,ea={};function di(e,t){Zi(e,t),Zi(e+"Capture",t)}function Zi(e,t){for(ea[e]=t,e=0;e<t.length;e++)Gy.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=Object.prototype.hasOwnProperty,Fb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,im={},sm={};function Tb(e){return kc.call(sm,e)?!0:kc.call(im,e)?!1:Fb.test(e)?sm[e]=!0:(im[e]=!0,!1)}function Rb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lb(e,t,n,r){if(t===null||typeof t>"u"||Rb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,n,r,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var zd=/[\-:]([a-z])/g;function Bd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zd,Bd);pt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zd,Bd);pt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zd,Bd);pt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yd(e,t,n,r){var i=pt.hasOwnProperty(t)?pt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lb(t,n,i,r)&&(n=null),r||i===null?Tb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cr=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),_i=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),Cc=Symbol.for("react.profiler"),Ky=Symbol.for("react.provider"),Xy=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),_c=Symbol.for("react.suspense"),Nc=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),Zy=Symbol.for("react.offscreen"),am=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=am&&e[am]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Fu;function Ts(e){if(Fu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fu=t&&t[1]||""}return`
`+Fu+e}var Tu=!1;function Ru(e,t){if(!e||Tu)return"";Tu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,o=s.length-1;1<=l&&0<=o&&i[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==s[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==s[o]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=o);break}}}finally{Tu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ts(e):""}function qb(e){switch(e.tag){case 5:return Ts(e.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 2:case 15:return e=Ru(e.type,!1),e;case 11:return e=Ru(e.type.render,!1),e;case 1:return e=Ru(e.type,!0),e;default:return""}}function Dc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ni:return"Fragment";case _i:return"Portal";case Cc:return"Profiler";case Wd:return"StrictMode";case _c:return"Suspense";case Nc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xy:return(e.displayName||"Context")+".Consumer";case Ky:return(e._context.displayName||"Context")+".Provider";case Hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qd:return t=e.displayName||null,t!==null?t:Dc(e.type)||"Memo";case pr:t=e._payload,e=e._init;try{return Dc(e(t))}catch{}}return null}function Ub(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dc(t);case 8:return t===Wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $b(e){var t=Jy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=$b(e))}function ev(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ic(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tv(e,t){t=t.checked,t!=null&&Yd(e,"checked",t,!1)}function Ec(e,t){tv(e,t);var n=Fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pc(e,t.type,Fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function om(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pc(e,t,n){(t!=="number"||Vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Ui(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ac(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function um(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Rs(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fr(n)}}function nv(e,t){var n=Fr(t.value),r=Fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var el,iv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=el.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ta(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vb=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(e){Vb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$s[t]=$s[e]})});function sv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$s.hasOwnProperty(e)&&$s[e]?(""+t).trim():t+"px"}function av(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var zb=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mc(e,t){if(t){if(zb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Fc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=null;function Gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rc=null,$i=null,Vi=null;function dm(e){if(e=_a(e)){if(typeof Rc!="function")throw Error($(280));var t=e.stateNode;t&&(t=Wo(t),Rc(e.stateNode,e.type,t))}}function lv(e){$i?Vi?Vi.push(e):Vi=[e]:$i=e}function ov(){if($i){var e=$i,t=Vi;if(Vi=$i=null,dm(e),t)for(e=0;e<t.length;e++)dm(t[e])}}function uv(e,t){return e(t)}function cv(){}var Lu=!1;function dv(e,t,n){if(Lu)return e(t,n);Lu=!0;try{return uv(e,t,n)}finally{Lu=!1,($i!==null||Vi!==null)&&(cv(),ov())}}function na(e,t){var n=e.stateNode;if(n===null)return null;var r=Wo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Lc=!1;if(sr)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Lc=!1}function Bb(e,t,n,r,i,s,l,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Vs=!1,zl=null,Bl=!1,qc=null,Yb={onError:function(e){Vs=!0,zl=e}};function Wb(e,t,n,r,i,s,l,o,u){Vs=!1,zl=null,Bb.apply(Yb,arguments)}function Hb(e,t,n,r,i,s,l,o,u){if(Wb.apply(this,arguments),Vs){if(Vs){var c=zl;Vs=!1,zl=null}else throw Error($(198));Bl||(Bl=!0,qc=c)}}function fi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fm(e){if(fi(e)!==e)throw Error($(188))}function Qb(e){var t=e.alternate;if(!t){if(t=fi(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fm(i),e;if(s===r)return fm(i),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function hv(e){return e=Qb(e),e!==null?mv(e):null}function mv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mv(e);if(t!==null)return t;e=e.sibling}return null}var pv=Wt.unstable_scheduleCallback,hm=Wt.unstable_cancelCallback,Gb=Wt.unstable_shouldYield,Kb=Wt.unstable_requestPaint,Ze=Wt.unstable_now,Xb=Wt.unstable_getCurrentPriorityLevel,Kd=Wt.unstable_ImmediatePriority,yv=Wt.unstable_UserBlockingPriority,Yl=Wt.unstable_NormalPriority,Zb=Wt.unstable_LowPriority,vv=Wt.unstable_IdlePriority,Vo=null,Rn=null;function Jb(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:nj,ej=Math.log,tj=Math.LN2;function nj(e){return e>>>=0,e===0?32:31-(ej(e)/tj|0)|0}var tl=64,nl=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~i;o!==0?r=Ls(o):(s&=l,s!==0&&(r=Ls(s)))}else l=n&~i,l!==0?r=Ls(l):s!==0&&(r=Ls(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),i=1<<n,r|=e[n],t&=~i;return r}function rj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ij(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-wn(s),o=1<<l,u=i[l];u===-1?(!(o&n)||o&r)&&(i[l]=rj(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}function Uc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gv(){var e=tl;return tl<<=1,!(tl&4194240)&&(tl=64),e}function qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function sj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Xd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pe=0;function xv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wv,Zd,bv,jv,Sv,$c=!1,rl=[],kr=null,Cr=null,_r=null,ra=new Map,ia=new Map,gr=[],aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(t.pointerId)}}function js(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=_a(t),t!==null&&Zd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lj(e,t,n,r,i){switch(t){case"focusin":return kr=js(kr,e,t,n,r,i),!0;case"dragenter":return Cr=js(Cr,e,t,n,r,i),!0;case"mouseover":return _r=js(_r,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ra.set(s,js(ra.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ia.set(s,js(ia.get(s)||null,e,t,n,r,i)),!0}return!1}function kv(e){var t=Kr(e.target);if(t!==null){var n=fi(t);if(n!==null){if(t=n.tag,t===13){if(t=fv(n),t!==null){e.blockedOn=t,Sv(e.priority,function(){bv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tc=r,n.target.dispatchEvent(r),Tc=null}else return t=_a(n),t!==null&&Zd(t),e.blockedOn=n,!1;t.shift()}return!0}function pm(e,t,n){jl(e)&&n.delete(t)}function oj(){$c=!1,kr!==null&&jl(kr)&&(kr=null),Cr!==null&&jl(Cr)&&(Cr=null),_r!==null&&jl(_r)&&(_r=null),ra.forEach(pm),ia.forEach(pm)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,$c||($c=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,oj)))}function sa(e){function t(i){return Ss(i,e)}if(0<rl.length){Ss(rl[0],e);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kr!==null&&Ss(kr,e),Cr!==null&&Ss(Cr,e),_r!==null&&Ss(_r,e),ra.forEach(t),ia.forEach(t),n=0;n<gr.length;n++)r=gr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gr.length&&(n=gr[0],n.blockedOn===null);)kv(n),n.blockedOn===null&&gr.shift()}var zi=cr.ReactCurrentBatchConfig,Hl=!0;function uj(e,t,n,r){var i=Pe,s=zi.transition;zi.transition=null;try{Pe=1,Jd(e,t,n,r)}finally{Pe=i,zi.transition=s}}function cj(e,t,n,r){var i=Pe,s=zi.transition;zi.transition=null;try{Pe=4,Jd(e,t,n,r)}finally{Pe=i,zi.transition=s}}function Jd(e,t,n,r){if(Hl){var i=Vc(e,t,n,r);if(i===null)Gu(e,t,r,Ql,n),mm(e,r);else if(lj(i,e,t,n,r))r.stopPropagation();else if(mm(e,r),t&4&&-1<aj.indexOf(e)){for(;i!==null;){var s=_a(i);if(s!==null&&wv(s),s=Vc(e,t,n,r),s===null&&Gu(e,t,r,Ql,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gu(e,t,r,null,n)}}var Ql=null;function Vc(e,t,n,r){if(Ql=null,e=Gd(r),e=Kr(e),e!==null)if(t=fi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ql=e,null}function Cv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xb()){case Kd:return 1;case yv:return 4;case Yl:case Zb:return 16;case vv:return 536870912;default:return 16}default:return 16}}var wr=null,ef=null,Sl=null;function _v(){if(Sl)return Sl;var e,t=ef,n=t.length,r,i="value"in wr?wr.value:wr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[s-r];r++);return Sl=i.slice(e,1<r?1-r:void 0)}function kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function ym(){return!1}function Gt(e){function t(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?il:ym,this.isPropagationStopped=ym,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tf=Gt(as),Ca=He({},as,{view:0,detail:0}),dj=Gt(Ca),Uu,$u,ks,zo=He({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(Uu=e.screenX-ks.screenX,$u=e.screenY-ks.screenY):$u=Uu=0,ks=e),Uu)},movementY:function(e){return"movementY"in e?e.movementY:$u}}),vm=Gt(zo),fj=He({},zo,{dataTransfer:0}),hj=Gt(fj),mj=He({},Ca,{relatedTarget:0}),Vu=Gt(mj),pj=He({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),yj=Gt(pj),vj=He({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gj=Gt(vj),xj=He({},as,{data:0}),gm=Gt(xj),wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jj[e])?!!t[e]:!1}function nf(){return Sj}var kj=He({},Ca,{key:function(e){if(e.key){var t=wj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(e){return e.type==="keypress"?kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cj=Gt(kj),_j=He({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xm=Gt(_j),Nj=He({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),Dj=Gt(Nj),Ij=He({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ej=Gt(Ij),Pj=He({},zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Aj=Gt(Pj),Oj=[9,13,27,32],rf=sr&&"CompositionEvent"in window,zs=null;sr&&"documentMode"in document&&(zs=document.documentMode);var Mj=sr&&"TextEvent"in window&&!zs,Nv=sr&&(!rf||zs&&8<zs&&11>=zs),wm=String.fromCharCode(32),bm=!1;function Dv(e,t){switch(e){case"keyup":return Oj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function Fj(e,t){switch(e){case"compositionend":return Iv(t);case"keypress":return t.which!==32?null:(bm=!0,wm);case"textInput":return e=t.data,e===wm&&bm?null:e;default:return null}}function Tj(e,t){if(Di)return e==="compositionend"||!rf&&Dv(e,t)?(e=_v(),Sl=ef=wr=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nv&&t.locale!=="ko"?null:t.data;default:return null}}var Rj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rj[e.type]:t==="textarea"}function Ev(e,t,n,r){lv(r),t=Gl(t,"onChange"),0<t.length&&(n=new tf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bs=null,aa=null;function Lj(e){$v(e,0)}function Bo(e){var t=Pi(e);if(ev(t))return e}function qj(e,t){if(e==="change")return t}var Pv=!1;if(sr){var zu;if(sr){var Bu="oninput"in document;if(!Bu){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Bu=typeof Sm.oninput=="function"}zu=Bu}else zu=!1;Pv=zu&&(!document.documentMode||9<document.documentMode)}function km(){Bs&&(Bs.detachEvent("onpropertychange",Av),aa=Bs=null)}function Av(e){if(e.propertyName==="value"&&Bo(aa)){var t=[];Ev(t,aa,e,Gd(e)),dv(Lj,t)}}function Uj(e,t,n){e==="focusin"?(km(),Bs=t,aa=n,Bs.attachEvent("onpropertychange",Av)):e==="focusout"&&km()}function $j(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bo(aa)}function Vj(e,t){if(e==="click")return Bo(t)}function zj(e,t){if(e==="input"||e==="change")return Bo(t)}function Bj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:Bj;function la(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kc.call(t,i)||!Sn(e[i],t[i]))return!1}return!0}function Cm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _m(e,t){var n=Cm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cm(n)}}function Ov(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ov(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mv(){for(var e=window,t=Vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vl(e.document)}return t}function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yj(e){var t=Mv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ov(n.ownerDocument.documentElement,n)){if(r!==null&&sf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=_m(n,s);var l=_m(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wj=sr&&"documentMode"in document&&11>=document.documentMode,Ii=null,zc=null,Ys=null,Bc=!1;function Nm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bc||Ii==null||Ii!==Vl(r)||(r=Ii,"selectionStart"in r&&sf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ys&&la(Ys,r)||(Ys=r,r=Gl(zc,"onSelect"),0<r.length&&(t=new tf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ii)))}function sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ei={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},Yu={},Fv={};sr&&(Fv=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Yo(e){if(Yu[e])return Yu[e];if(!Ei[e])return e;var t=Ei[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fv)return Yu[e]=t[n];return e}var Tv=Yo("animationend"),Rv=Yo("animationiteration"),Lv=Yo("animationstart"),qv=Yo("transitionend"),Uv=new Map,Dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Uv.set(e,t),di(t,[e])}for(var Wu=0;Wu<Dm.length;Wu++){var Hu=Dm[Wu],Hj=Hu.toLowerCase(),Qj=Hu[0].toUpperCase()+Hu.slice(1);Lr(Hj,"on"+Qj)}Lr(Tv,"onAnimationEnd");Lr(Rv,"onAnimationIteration");Lr(Lv,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(qv,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gj=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function Im(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hb(r,t,void 0,e),e.currentTarget=null}function $v(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;Im(i,o,c),s=u}else for(l=0;l<r.length;l++){if(o=r[l],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;Im(i,o,c),s=u}}}if(Bl)throw e=qc,Bl=!1,qc=null,e}function Me(e,t){var n=t[Gc];n===void 0&&(n=t[Gc]=new Set);var r=e+"__bubble";n.has(r)||(Vv(t,e,2,!1),n.add(r))}function Qu(e,t,n){var r=0;t&&(r|=4),Vv(n,e,r,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function oa(e){if(!e[al]){e[al]=!0,Gy.forEach(function(n){n!=="selectionchange"&&(Gj.has(n)||Qu(n,!1,e),Qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,Qu("selectionchange",!1,t))}}function Vv(e,t,n,r){switch(Cv(t)){case 1:var i=uj;break;case 4:i=cj;break;default:i=Jd}n=i.bind(null,t,n,e),i=void 0,!Lc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;o!==null;){if(l=Kr(o),l===null)return;if(u=l.tag,u===5||u===6){r=s=l;continue e}o=o.parentNode}}r=r.return}dv(function(){var c=s,d=Gd(n),h=[];e:{var m=Uv.get(e);if(m!==void 0){var v=tf,y=e;switch(e){case"keypress":if(kl(n)===0)break e;case"keydown":case"keyup":v=Cj;break;case"focusin":y="focus",v=Vu;break;case"focusout":y="blur",v=Vu;break;case"beforeblur":case"afterblur":v=Vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=hj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Dj;break;case Tv:case Rv:case Lv:v=yj;break;case qv:v=Ej;break;case"scroll":v=dj;break;case"wheel":v=Aj;break;case"copy":case"cut":case"paste":v=gj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=xm}var w=(t&4)!==0,S=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var f=c,p;f!==null;){p=f;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,g!==null&&(j=na(f,g),j!=null&&w.push(ua(f,j,p)))),S)break;f=f.return}0<w.length&&(m=new v(m,y,null,n,d),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Tc&&(y=n.relatedTarget||n.fromElement)&&(Kr(y)||y[ar]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Kr(y):null,y!==null&&(S=fi(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=vm,j="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=xm,j="onPointerLeave",g="onPointerEnter",f="pointer"),S=v==null?m:Pi(v),p=y==null?m:Pi(y),m=new w(j,f+"leave",v,n,d),m.target=S,m.relatedTarget=p,j=null,Kr(d)===c&&(w=new w(g,f+"enter",y,n,d),w.target=p,w.relatedTarget=S,j=w),S=j,v&&y)t:{for(w=v,g=y,f=0,p=w;p;p=bi(p))f++;for(p=0,j=g;j;j=bi(j))p++;for(;0<f-p;)w=bi(w),f--;for(;0<p-f;)g=bi(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=bi(w),g=bi(g)}w=null}else w=null;v!==null&&Em(h,m,v,w,!1),y!==null&&S!==null&&Em(h,S,y,w,!0)}}e:{if(m=c?Pi(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var b=qj;else if(jm(m))if(Pv)b=zj;else{b=$j;var k=Uj}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=Vj);if(b&&(b=b(e,c))){Ev(h,b,n,d);break e}k&&k(e,m,c),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Pc(m,"number",m.value)}switch(k=c?Pi(c):window,e){case"focusin":(jm(k)||k.contentEditable==="true")&&(Ii=k,zc=c,Ys=null);break;case"focusout":Ys=zc=Ii=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,Nm(h,n,d);break;case"selectionchange":if(Wj)break;case"keydown":case"keyup":Nm(h,n,d)}var _;if(rf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Di?Dv(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Nv&&n.locale!=="ko"&&(Di||C!=="onCompositionStart"?C==="onCompositionEnd"&&Di&&(_=_v()):(wr=d,ef="value"in wr?wr.value:wr.textContent,Di=!0)),k=Gl(c,C),0<k.length&&(C=new gm(C,e,null,n,d),h.push({event:C,listeners:k}),_?C.data=_:(_=Iv(n),_!==null&&(C.data=_)))),(_=Mj?Fj(e,n):Tj(e,n))&&(c=Gl(c,"onBeforeInput"),0<c.length&&(d=new gm("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=_))}$v(h,t)})}function ua(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=na(e,n),s!=null&&r.unshift(ua(e,s,i)),s=na(e,t),s!=null&&r.push(ua(e,s,i))),e=e.return}return r}function bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Em(e,t,n,r,i){for(var s=t._reactName,l=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,i?(u=na(n,s),u!=null&&l.unshift(ua(n,u,o))):i||(u=na(n,s),u!=null&&l.push(ua(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Kj=/\r\n?/g,Xj=/\u0000|\uFFFD/g;function Pm(e){return(typeof e=="string"?e:""+e).replace(Kj,`
`).replace(Xj,"")}function ll(e,t,n){if(t=Pm(t),Pm(e)!==t&&n)throw Error($(425))}function Kl(){}var Yc=null,Wc=null;function Hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,Zj=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,Jj=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(e){return Am.resolve(null).then(e).catch(eS)}:Qc;function eS(e){setTimeout(function(){throw e})}function Ku(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sa(t)}function Nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Om(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),On="__reactFiber$"+ls,ca="__reactProps$"+ls,ar="__reactContainer$"+ls,Gc="__reactEvents$"+ls,tS="__reactListeners$"+ls,nS="__reactHandles$"+ls;function Kr(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[On]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Om(e);e!==null;){if(n=e[On])return n;e=Om(e)}return t}e=n,n=e.parentNode}return null}function _a(e){return e=e[On]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Wo(e){return e[ca]||null}var Kc=[],Ai=-1;function qr(e){return{current:e}}function Fe(e){0>Ai||(e.current=Kc[Ai],Kc[Ai]=null,Ai--)}function Oe(e,t){Ai++,Kc[Ai]=e.current,e.current=t}var Tr={},kt=qr(Tr),Rt=qr(!1),ai=Tr;function Ji(e,t){var n=e.type.contextTypes;if(!n)return Tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(e){return e=e.childContextTypes,e!=null}function Xl(){Fe(Rt),Fe(kt)}function Mm(e,t,n){if(kt.current!==Tr)throw Error($(168));Oe(kt,t),Oe(Rt,n)}function zv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,Ub(e)||"Unknown",i));return He({},n,r)}function Zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,ai=kt.current,Oe(kt,e),Oe(Rt,Rt.current),!0}function Fm(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=zv(e,t,ai),r.__reactInternalMemoizedMergedChildContext=e,Fe(Rt),Fe(kt),Oe(kt,e)):Fe(Rt),Oe(Rt,n)}var Xn=null,Ho=!1,Xu=!1;function Bv(e){Xn===null?Xn=[e]:Xn.push(e)}function rS(e){Ho=!0,Bv(e)}function Ur(){if(!Xu&&Xn!==null){Xu=!0;var e=0,t=Pe;try{var n=Xn;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xn=null,Ho=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(e+1)),pv(Kd,Ur),i}finally{Pe=t,Xu=!1}}return null}var Oi=[],Mi=0,Jl=null,eo=0,Jt=[],en=0,li=null,Zn=1,Jn="";function Wr(e,t){Oi[Mi++]=eo,Oi[Mi++]=Jl,Jl=e,eo=t}function Yv(e,t,n){Jt[en++]=Zn,Jt[en++]=Jn,Jt[en++]=li,li=e;var r=Zn;e=Jn;var i=32-wn(r)-1;r&=~(1<<i),n+=1;var s=32-wn(t)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Zn=1<<32-wn(t)+i|n<<i|r,Jn=s+e}else Zn=1<<s|n<<i|r,Jn=e}function af(e){e.return!==null&&(Wr(e,1),Yv(e,1,0))}function lf(e){for(;e===Jl;)Jl=Oi[--Mi],Oi[Mi]=null,eo=Oi[--Mi],Oi[Mi]=null;for(;e===li;)li=Jt[--en],Jt[en]=null,Jn=Jt[--en],Jt[en]=null,Zn=Jt[--en],Jt[en]=null}var Yt=null,Bt=null,$e=!1,vn=null;function Wv(e,t){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Bt=Nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=li!==null?{id:Zn,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yt=e,Bt=null,!0):!1;default:return!1}}function Xc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zc(e){if($e){var t=Bt;if(t){var n=t;if(!Tm(e,t)){if(Xc(e))throw Error($(418));t=Nr(n.nextSibling);var r=Yt;t&&Tm(e,t)?Wv(r,n):(e.flags=e.flags&-4097|2,$e=!1,Yt=e)}}else{if(Xc(e))throw Error($(418));e.flags=e.flags&-4097|2,$e=!1,Yt=e}}}function Rm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function ol(e){if(e!==Yt)return!1;if(!$e)return Rm(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hc(e.type,e.memoizedProps)),t&&(t=Bt)){if(Xc(e))throw Hv(),Error($(418));for(;t;)Wv(e,t),t=Nr(t.nextSibling)}if(Rm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bt=Nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Yt?Nr(e.stateNode.nextSibling):null;return!0}function Hv(){for(var e=Bt;e;)e=Nr(e.nextSibling)}function es(){Bt=Yt=null,$e=!1}function of(e){vn===null?vn=[e]:vn.push(e)}var iS=cr.ReactCurrentBatchConfig;function pn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var to=qr(null),no=null,Fi=null,uf=null;function cf(){uf=Fi=no=null}function df(e){var t=to.current;Fe(to),e._currentValue=t}function Jc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bi(e,t){no=e,uf=Fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(uf!==e)if(e={context:e,memoizedValue:t,next:null},Fi===null){if(no===null)throw Error($(308));Fi=e,no.dependencies={lanes:0,firstContext:e}}else Fi=Fi.next=e;return t}var Xr=null;function ff(e){Xr===null?Xr=[e]:Xr.push(e)}function Qv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ff(t)):(n.next=i.next,i.next=n),t.interleaved=n,lr(e,r)}function lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yr=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,lr(e,n)}return i=r.interleaved,i===null?(t.next=t,ff(r)):(t.next=i.next,i.next=t),r.interleaved=t,lr(e,n)}function Cl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xd(e,n)}}function Lm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ro(e,t,n,r){var i=e.updateQueue;yr=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,l===null?s=c:l.next=c,l=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;l=0,d=c=u=null,o=s;do{var m=o.lane,v=o.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(m=t,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,m=typeof y=="function"?y.call(v,h,m):y,m==null)break e;h=He({},h,m);break e;case 2:yr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,l|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ui|=l,e.lanes=l,e.memoizedState=h}}function qm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Kv=new Qy.Component().refs;function ed(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qo={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pt(),i=Er(e),s=nr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Dr(e,s,i),t!==null&&(bn(t,e,i,r),Cl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pt(),i=Er(e),s=nr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Dr(e,s,i),t!==null&&(bn(t,e,i,r),Cl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pt(),r=Er(e),i=nr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Dr(e,i,r),t!==null&&(bn(t,e,r,n),Cl(t,e,r))}};function Um(e,t,n,r,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!la(n,r)||!la(i,s):!0}function Xv(e,t,n){var r=!1,i=Tr,s=t.contextType;return typeof s=="object"&&s!==null?s=ln(s):(i=Lt(t)?ai:kt.current,r=t.contextTypes,s=(r=r!=null)?Ji(e,i):Tr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function $m(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qo.enqueueReplaceState(t,t.state,null)}function td(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Kv,hf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ln(s):(s=Lt(t)?ai:kt.current,i.context=Ji(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ed(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qo.enqueueReplaceState(i,i.state,null),ro(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var o=i.refs;o===Kv&&(o=i.refs={}),l===null?delete o[s]:o[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function ul(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vm(e){var t=e._init;return t(e._payload)}function Zv(e){function t(g,f){if(e){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function i(g,f){return g=Pr(g,f),g.index=0,g.sibling=null,g}function s(g,f,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,f,p,j){return f===null||f.tag!==6?(f=ic(p,g.mode,j),f.return=g,f):(f=i(f,p),f.return=g,f)}function u(g,f,p,j){var b=p.type;return b===Ni?d(g,f,p.props.children,j,p.key):f!==null&&(f.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pr&&Vm(b)===f.type)?(j=i(f,p.props),j.ref=Cs(g,f,p),j.return=g,j):(j=Pl(p.type,p.key,p.props,null,g.mode,j),j.ref=Cs(g,f,p),j.return=g,j)}function c(g,f,p,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=sc(p,g.mode,j),f.return=g,f):(f=i(f,p.children||[]),f.return=g,f)}function d(g,f,p,j,b){return f===null||f.tag!==7?(f=ri(p,g.mode,j,b),f.return=g,f):(f=i(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ic(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Za:return p=Pl(f.type,f.key,f.props,null,g.mode,p),p.ref=Cs(g,null,f),p.return=g,p;case _i:return f=sc(f,g.mode,p),f.return=g,f;case pr:var j=f._init;return h(g,j(f._payload),p)}if(Rs(f)||ws(f))return f=ri(f,g.mode,p,null),f.return=g,f;ul(g,f)}return null}function m(g,f,p,j){var b=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:o(g,f,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Za:return p.key===b?u(g,f,p,j):null;case _i:return p.key===b?c(g,f,p,j):null;case pr:return b=p._init,m(g,f,b(p._payload),j)}if(Rs(p)||ws(p))return b!==null?null:d(g,f,p,j,null);ul(g,p)}return null}function v(g,f,p,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(p)||null,o(f,g,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Za:return g=g.get(j.key===null?p:j.key)||null,u(f,g,j,b);case _i:return g=g.get(j.key===null?p:j.key)||null,c(f,g,j,b);case pr:var k=j._init;return v(g,f,p,k(j._payload),b)}if(Rs(j)||ws(j))return g=g.get(p)||null,d(f,g,j,b,null);ul(f,j)}return null}function y(g,f,p,j){for(var b=null,k=null,_=f,C=f=0,N=null;_!==null&&C<p.length;C++){_.index>C?(N=_,_=null):N=_.sibling;var D=m(g,_,p[C],j);if(D===null){_===null&&(_=N);break}e&&_&&D.alternate===null&&t(g,_),f=s(D,f,C),k===null?b=D:k.sibling=D,k=D,_=N}if(C===p.length)return n(g,_),$e&&Wr(g,C),b;if(_===null){for(;C<p.length;C++)_=h(g,p[C],j),_!==null&&(f=s(_,f,C),k===null?b=_:k.sibling=_,k=_);return $e&&Wr(g,C),b}for(_=r(g,_);C<p.length;C++)N=v(_,g,C,p[C],j),N!==null&&(e&&N.alternate!==null&&_.delete(N.key===null?C:N.key),f=s(N,f,C),k===null?b=N:k.sibling=N,k=N);return e&&_.forEach(function(I){return t(g,I)}),$e&&Wr(g,C),b}function w(g,f,p,j){var b=ws(p);if(typeof b!="function")throw Error($(150));if(p=b.call(p),p==null)throw Error($(151));for(var k=b=null,_=f,C=f=0,N=null,D=p.next();_!==null&&!D.done;C++,D=p.next()){_.index>C?(N=_,_=null):N=_.sibling;var I=m(g,_,D.value,j);if(I===null){_===null&&(_=N);break}e&&_&&I.alternate===null&&t(g,_),f=s(I,f,C),k===null?b=I:k.sibling=I,k=I,_=N}if(D.done)return n(g,_),$e&&Wr(g,C),b;if(_===null){for(;!D.done;C++,D=p.next())D=h(g,D.value,j),D!==null&&(f=s(D,f,C),k===null?b=D:k.sibling=D,k=D);return $e&&Wr(g,C),b}for(_=r(g,_);!D.done;C++,D=p.next())D=v(_,g,C,D.value,j),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?C:D.key),f=s(D,f,C),k===null?b=D:k.sibling=D,k=D);return e&&_.forEach(function(A){return t(g,A)}),$e&&Wr(g,C),b}function S(g,f,p,j){if(typeof p=="object"&&p!==null&&p.type===Ni&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Za:e:{for(var b=p.key,k=f;k!==null;){if(k.key===b){if(b=p.type,b===Ni){if(k.tag===7){n(g,k.sibling),f=i(k,p.props.children),f.return=g,g=f;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pr&&Vm(b)===k.type){n(g,k.sibling),f=i(k,p.props),f.ref=Cs(g,k,p),f.return=g,g=f;break e}n(g,k);break}else t(g,k);k=k.sibling}p.type===Ni?(f=ri(p.props.children,g.mode,j,p.key),f.return=g,g=f):(j=Pl(p.type,p.key,p.props,null,g.mode,j),j.ref=Cs(g,f,p),j.return=g,g=j)}return l(g);case _i:e:{for(k=p.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=i(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=sc(p,g.mode,j),f.return=g,g=f}return l(g);case pr:return k=p._init,S(g,f,k(p._payload),j)}if(Rs(p))return y(g,f,p,j);if(ws(p))return w(g,f,p,j);ul(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=i(f,p),f.return=g,g=f):(n(g,f),f=ic(p,g.mode,j),f.return=g,g=f),l(g)):n(g,f)}return S}var ts=Zv(!0),Jv=Zv(!1),Na={},Ln=qr(Na),da=qr(Na),fa=qr(Na);function Zr(e){if(e===Na)throw Error($(174));return e}function mf(e,t){switch(Oe(fa,t),Oe(da,e),Oe(Ln,Na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oc(t,e)}Fe(Ln),Oe(Ln,t)}function ns(){Fe(Ln),Fe(da),Fe(fa)}function eg(e){Zr(fa.current);var t=Zr(Ln.current),n=Oc(t,e.type);t!==n&&(Oe(da,e),Oe(Ln,n))}function pf(e){da.current===e&&(Fe(Ln),Fe(da))}var Ye=qr(0);function io(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zu=[];function yf(){for(var e=0;e<Zu.length;e++)Zu[e]._workInProgressVersionPrimary=null;Zu.length=0}var _l=cr.ReactCurrentDispatcher,Ju=cr.ReactCurrentBatchConfig,oi=0,We=null,st=null,ut=null,so=!1,Ws=!1,ha=0,sS=0;function gt(){throw Error($(321))}function vf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function gf(e,t,n,r,i,s){if(oi=s,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_l.current=e===null||e.memoizedState===null?uS:cS,e=n(r,i),Ws){s=0;do{if(Ws=!1,ha=0,25<=s)throw Error($(301));s+=1,ut=st=null,t.updateQueue=null,_l.current=dS,e=n(r,i)}while(Ws)}if(_l.current=ao,t=st!==null&&st.next!==null,oi=0,ut=st=We=null,so=!1,t)throw Error($(300));return e}function xf(){var e=ha!==0;return ha=0,e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?We.memoizedState=ut=e:ut=ut.next=e,ut}function on(){if(st===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=ut===null?We.memoizedState:ut.next;if(t!==null)ut=t,st=e;else{if(e===null)throw Error($(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ut===null?We.memoizedState=ut=e:ut=ut.next=e}return ut}function ma(e,t){return typeof t=="function"?t(e):t}function ec(e){var t=on(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=l=null,u=null,c=s;do{var d=c.lane;if((oi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,l=r):u=u.next=h,We.lanes|=d,ui|=d}c=c.next}while(c!==null&&c!==s);u===null?l=r:u.next=o,Sn(r,t.memoizedState)||(Tt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,We.lanes|=s,ui|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tc(e){var t=on(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);Sn(s,t.memoizedState)||(Tt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function tg(){}function ng(e,t){var n=We,r=on(),i=t(),s=!Sn(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,wf(sg.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,pa(9,ig.bind(null,n,r,i,t),void 0,null),ct===null)throw Error($(349));oi&30||rg(n,t,i)}return i}function rg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ig(e,t,n,r){t.value=n,t.getSnapshot=r,ag(t)&&lg(e)}function sg(e,t,n){return n(function(){ag(t)&&lg(e)})}function ag(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function lg(e){var t=lr(e,1);t!==null&&bn(t,e,1,-1)}function zm(e){var t=An();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t.queue=e,e=e.dispatch=oS.bind(null,We,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function og(){return on().memoizedState}function Nl(e,t,n,r){var i=An();We.flags|=e,i.memoizedState=pa(1|t,n,void 0,r===void 0?null:r)}function Go(e,t,n,r){var i=on();r=r===void 0?null:r;var s=void 0;if(st!==null){var l=st.memoizedState;if(s=l.destroy,r!==null&&vf(r,l.deps)){i.memoizedState=pa(t,n,s,r);return}}We.flags|=e,i.memoizedState=pa(1|t,n,s,r)}function Bm(e,t){return Nl(8390656,8,e,t)}function wf(e,t){return Go(2048,8,e,t)}function ug(e,t){return Go(4,2,e,t)}function cg(e,t){return Go(4,4,e,t)}function dg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fg(e,t,n){return n=n!=null?n.concat([e]):null,Go(4,4,dg.bind(null,t,e),n)}function bf(){}function hg(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mg(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pg(e,t,n){return oi&21?(Sn(n,t)||(n=gv(),We.lanes|=n,ui|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=n)}function aS(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=Ju.transition;Ju.transition={};try{e(!1),t()}finally{Pe=n,Ju.transition=r}}function yg(){return on().memoizedState}function lS(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vg(e))gg(t,n);else if(n=Qv(e,t,n,r),n!==null){var i=Pt();bn(n,e,r,i),xg(n,t,r)}}function oS(e,t,n){var r=Er(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vg(e))gg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,o=s(l,n);if(i.hasEagerState=!0,i.eagerState=o,Sn(o,l)){var u=t.interleaved;u===null?(i.next=i,ff(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Qv(e,t,i,r),n!==null&&(i=Pt(),bn(n,e,r,i),xg(n,t,r))}}function vg(e){var t=e.alternate;return e===We||t!==null&&t===We}function gg(e,t){Ws=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xd(e,n)}}var ao={readContext:ln,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},uS={readContext:ln,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:Bm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Nl(4194308,4,dg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nl(4,2,e,t)},useMemo:function(e,t){var n=An();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=An();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lS.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:zm,useDebugValue:bf,useDeferredValue:function(e){return An().memoizedState=e},useTransition:function(){var e=zm(!1),t=e[0];return e=aS.bind(null,e[1]),An().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,i=An();if($e){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),ct===null)throw Error($(349));oi&30||rg(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Bm(sg.bind(null,r,s,e),[e]),r.flags|=2048,pa(9,ig.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=An(),t=ct.identifierPrefix;if($e){var n=Jn,r=Zn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ha++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cS={readContext:ln,useCallback:hg,useContext:ln,useEffect:wf,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:ec,useRef:og,useState:function(){return ec(ma)},useDebugValue:bf,useDeferredValue:function(e){var t=on();return pg(t,st.memoizedState,e)},useTransition:function(){var e=ec(ma)[0],t=on().memoizedState;return[e,t]},useMutableSource:tg,useSyncExternalStore:ng,useId:yg,unstable_isNewReconciler:!1},dS={readContext:ln,useCallback:hg,useContext:ln,useEffect:wf,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:tc,useRef:og,useState:function(){return tc(ma)},useDebugValue:bf,useDeferredValue:function(e){var t=on();return st===null?t.memoizedState=e:pg(t,st.memoizedState,e)},useTransition:function(){var e=tc(ma)[0],t=on().memoizedState;return[e,t]},useMutableSource:tg,useSyncExternalStore:ng,useId:yg,unstable_isNewReconciler:!1};function rs(e,t){try{var n="",r=t;do n+=qb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function nc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fS=typeof WeakMap=="function"?WeakMap:Map;function wg(e,t,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oo||(oo=!0,fd=r),nd(e,t)},n}function bg(e,t,n){n=nr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nd(e,t),typeof r!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Ym(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_S.bind(null,e,t,n),t.then(e,e))}function Wm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nr(-1,1),t.tag=2,Dr(n,t,1))),n.lanes|=1),e)}var hS=cr.ReactCurrentOwner,Tt=!1;function Dt(e,t,n,r){t.child=e===null?Jv(t,null,n,r):ts(t,e.child,n,r)}function Qm(e,t,n,r,i){n=n.render;var s=t.ref;return Bi(t,i),r=gf(e,t,n,r,s,i),n=xf(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):($e&&n&&af(t),t.flags|=1,Dt(e,t,r,i),t.child)}function Gm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!If(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,jg(e,t,s,r,i)):(e=Pl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:la,n(l,r)&&e.ref===t.ref)return or(e,t,i)}return t.flags|=1,e=Pr(s,r),e.ref=t.ref,e.return=t,t.child=e}function jg(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(la(s,r)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,or(e,t,i)}return rd(e,t,n,r,i)}function Sg(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Ri,Vt),Vt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Ri,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(Ri,Vt),Vt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Oe(Ri,Vt),Vt|=r;return Dt(e,t,i,n),t.child}function kg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rd(e,t,n,r,i){var s=Lt(n)?ai:kt.current;return s=Ji(t,s),Bi(t,i),n=gf(e,t,n,r,s,i),r=xf(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):($e&&r&&af(t),t.flags|=1,Dt(e,t,n,i),t.child)}function Km(e,t,n,r,i){if(Lt(n)){var s=!0;Zl(t)}else s=!1;if(Bi(t,i),t.stateNode===null)Dl(e,t),Xv(t,n,r),td(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var u=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=ln(c):(c=Lt(n)?ai:kt.current,c=Ji(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||u!==c)&&$m(t,l,r,c),yr=!1;var m=t.memoizedState;l.state=m,ro(t,r,l,i),u=t.memoizedState,o!==r||m!==u||Rt.current||yr?(typeof d=="function"&&(ed(t,n,d,r),u=t.memoizedState),(o=yr||Um(t,n,o,r,m,u,c))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=c,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Gv(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:pn(t.type,o),l.props=c,h=t.pendingProps,m=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=ln(u):(u=Lt(n)?ai:kt.current,u=Ji(t,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==u)&&$m(t,l,r,u),yr=!1,m=t.memoizedState,l.state=m,ro(t,r,l,i);var y=t.memoizedState;o!==h||m!==y||Rt.current||yr?(typeof v=="function"&&(ed(t,n,v,r),y=t.memoizedState),(c=yr||Um(t,n,c,r,m,y,u)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),l.props=r,l.state=y,l.context=u,r=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return id(e,t,n,r,s,i)}function id(e,t,n,r,i,s){kg(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Fm(t,n,!1),or(e,t,s);r=t.stateNode,hS.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=ts(t,e.child,null,s),t.child=ts(t,null,o,s)):Dt(e,t,o,s),t.memoizedState=r.state,i&&Fm(t,n,!0),t.child}function Cg(e){var t=e.stateNode;t.pendingContext?Mm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mm(e,t.context,!1),mf(e,t.containerInfo)}function Xm(e,t,n,r,i){return es(),of(i),t.flags|=256,Dt(e,t,n,r),t.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function ad(e){return{baseLanes:e,cachePool:null,transitions:null}}function _g(e,t,n){var r=t.pendingProps,i=Ye.current,s=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Oe(Ye,i&1),e===null)return Zc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Zo(l,r,0,null),e=ri(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ad(n),t.memoizedState=sd,e):jf(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return mS(e,t,l,r,o,i,n);if(s){s=r.fallback,l=t.mode,i=e.child,o=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Pr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Pr(o,s):(s=ri(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?ad(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=sd,r}return s=e.child,e=s.sibling,r=Pr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jf(e,t){return t=Zo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cl(e,t,n,r){return r!==null&&of(r),ts(t,e.child,null,n),e=jf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mS(e,t,n,r,i,s,l){if(n)return t.flags&256?(t.flags&=-257,r=nc(Error($(422))),cl(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Zo({mode:"visible",children:r.children},i,0,null),s=ri(s,i,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ts(t,e.child,null,l),t.child.memoizedState=ad(l),t.memoizedState=sd,s);if(!(t.mode&1))return cl(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error($(419)),r=nc(s,r,void 0),cl(e,t,l,r)}if(o=(l&e.childLanes)!==0,Tt||o){if(r=ct,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,lr(e,i),bn(r,e,i,-1))}return Df(),r=nc(Error($(421))),cl(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=NS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Bt=Nr(i.nextSibling),Yt=t,$e=!0,vn=null,e!==null&&(Jt[en++]=Zn,Jt[en++]=Jn,Jt[en++]=li,Zn=e.id,Jn=e.overflow,li=t),t=jf(t,r.children),t.flags|=4096,t)}function Zm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jc(e.return,t,n)}function rc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ng(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Dt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zm(e,n,t);else if(e.tag===19)Zm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oe(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&io(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&io(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rc(t,!0,n,null,s);break;case"together":rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ui|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pS(e,t,n){switch(t.tag){case 3:Cg(t),es();break;case 5:eg(t);break;case 1:Lt(t.type)&&Zl(t);break;case 4:mf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oe(to,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?_g(e,t,n):(Oe(Ye,Ye.current&1),e=or(e,t,n),e!==null?e.sibling:null);Oe(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ng(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Sg(e,t,n)}return or(e,t,n)}var Dg,ld,Ig,Eg;Dg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ld=function(){};Ig=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zr(Ln.current);var s=null;switch(n){case"input":i=Ic(e,i),r=Ic(e,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=Ac(e,i),r=Ac(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kl)}Mc(n,r);var l;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&o[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ea.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Me("scroll",e),s||o===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Eg=function(e,t,n,r){n!==r&&(t.flags|=4)};function _s(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yS(e,t,n){var r=t.pendingProps;switch(lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return Lt(t.type)&&Xl(),xt(t),null;case 3:return r=t.stateNode,ns(),Fe(Rt),Fe(kt),yf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(pd(vn),vn=null))),ld(e,t),xt(t),null;case 5:pf(t);var i=Zr(fa.current);if(n=t.type,e!==null&&t.stateNode!=null)Ig(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return xt(t),null}if(e=Zr(Ln.current),ol(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[On]=t,r[ca]=s,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<qs.length;i++)Me(qs[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":lm(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":um(r,s),Me("invalid",r)}Mc(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var o=s[l];l==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&ll(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ll(r.textContent,o,e),i=["children",""+o]):ea.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Me("scroll",r)}switch(n){case"input":Ja(r),om(r,s,!0);break;case"textarea":Ja(r),cm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[On]=t,e[ca]=r,Dg(e,t,!1,!1),t.stateNode=e;e:{switch(l=Fc(n,r),n){case"dialog":Me("cancel",e),Me("close",e),i=r;break;case"iframe":case"object":case"embed":Me("load",e),i=r;break;case"video":case"audio":for(i=0;i<qs.length;i++)Me(qs[i],e);i=r;break;case"source":Me("error",e),i=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),i=r;break;case"details":Me("toggle",e),i=r;break;case"input":lm(e,r),i=Ic(e,r),Me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Me("invalid",e);break;case"textarea":um(e,r),i=Ac(e,r),Me("invalid",e);break;default:i=r}Mc(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?av(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&iv(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ta(e,u):typeof u=="number"&&ta(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ea.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Me("scroll",e):u!=null&&Yd(e,s,u,l))}switch(n){case"input":Ja(e),om(e,r,!1);break;case"textarea":Ja(e),cm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ui(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ui(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xt(t),null;case 6:if(e&&t.stateNode!=null)Eg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=Zr(fa.current),Zr(Ln.current),ol(t)){if(r=t.stateNode,n=t.memoizedProps,r[On]=t,(s=r.nodeValue!==n)&&(e=Yt,e!==null))switch(e.tag){case 3:ll(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ll(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=t,t.stateNode=r}return xt(t),null;case 13:if(Fe(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Bt!==null&&t.mode&1&&!(t.flags&128))Hv(),es(),t.flags|=98560,s=!1;else if(s=ol(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[On]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),s=!1}else vn!==null&&(pd(vn),vn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?at===0&&(at=3):Df())),t.updateQueue!==null&&(t.flags|=4),xt(t),null);case 4:return ns(),ld(e,t),e===null&&oa(t.stateNode.containerInfo),xt(t),null;case 10:return df(t.type._context),xt(t),null;case 17:return Lt(t.type)&&Xl(),xt(t),null;case 19:if(Fe(Ye),s=t.memoizedState,s===null)return xt(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)_s(s,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=io(e),l!==null){for(t.flags|=128,_s(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(Ye,Ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ze()>is&&(t.flags|=128,r=!0,_s(s,!1),t.lanes=4194304)}else{if(!r)if(e=io(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_s(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!$e)return xt(t),null}else 2*Ze()-s.renderingStartTime>is&&n!==1073741824&&(t.flags|=128,r=!0,_s(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=Ye.current,Oe(Ye,r?n&1|2:n&1),t):(xt(t),null);case 22:case 23:return Nf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vt&1073741824&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function vS(e,t){switch(lf(t),t.tag){case 1:return Lt(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(),Fe(Rt),Fe(kt),yf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pf(t),null;case 13:if(Fe(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Ye),null;case 4:return ns(),null;case 10:return df(t.type._context),null;case 22:case 23:return Nf(),null;case 24:return null;default:return null}}var dl=!1,jt=!1,gS=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ti(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function od(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var Jm=!1;function xS(e,t){if(Yc=Hl,e=Mv(),sf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,o=-1,u=-1,c=0,d=0,h=e,m=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(o=l+i),h!==s||r!==0&&h.nodeType!==3||(u=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===n&&++c===i&&(o=l),m===s&&++d===r&&(u=l),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wc={focusedElem:e,selectionRange:n},Hl=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:pn(t.type,w),S);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(j){Ge(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return y=Jm,Jm=!1,y}function Hs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&od(t,n,s)}i=i.next}while(i!==r)}}function Ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ud(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pg(e){var t=e.alternate;t!==null&&(e.alternate=null,Pg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[ca],delete t[Gc],delete t[tS],delete t[nS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ag(e){return e.tag===5||e.tag===3||e.tag===4}function ep(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ag(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kl));else if(r!==4&&(e=e.child,e!==null))for(cd(e,t,n),e=e.sibling;e!==null;)cd(e,t,n),e=e.sibling}function dd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dd(e,t,n),e=e.sibling;e!==null;)dd(e,t,n),e=e.sibling}var ft=null,yn=!1;function mr(e,t,n){for(n=n.child;n!==null;)Og(e,t,n),n=n.sibling}function Og(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:jt||Ti(n,t);case 6:var r=ft,i=yn;ft=null,mr(e,t,n),ft=r,yn=i,ft!==null&&(yn?(e=ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(yn?(e=ft,n=n.stateNode,e.nodeType===8?Ku(e.parentNode,n):e.nodeType===1&&Ku(e,n),sa(e)):Ku(ft,n.stateNode));break;case 4:r=ft,i=yn,ft=n.stateNode.containerInfo,yn=!0,mr(e,t,n),ft=r,yn=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&od(n,t,l),i=i.next}while(i!==r)}mr(e,t,n);break;case 1:if(!jt&&(Ti(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ge(n,t,o)}mr(e,t,n);break;case 21:mr(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,mr(e,t,n),jt=r):mr(e,t,n);break;default:mr(e,t,n)}}function tp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gS),t.forEach(function(r){var i=DS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ft=o.stateNode,yn=!1;break e;case 3:ft=o.stateNode.containerInfo,yn=!0;break e;case 4:ft=o.stateNode.containerInfo,yn=!0;break e}o=o.return}if(ft===null)throw Error($(160));Og(s,l,i),ft=null,yn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ge(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mg(t,e),t=t.sibling}function Mg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),Pn(e),r&4){try{Hs(3,e,e.return),Ko(3,e)}catch(w){Ge(e,e.return,w)}try{Hs(5,e,e.return)}catch(w){Ge(e,e.return,w)}}break;case 1:mn(t,e),Pn(e),r&512&&n!==null&&Ti(n,n.return);break;case 5:if(mn(t,e),Pn(e),r&512&&n!==null&&Ti(n,n.return),e.flags&32){var i=e.stateNode;try{ta(i,"")}catch(w){Ge(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&tv(i,s),Fc(o,l);var c=Fc(o,s);for(l=0;l<u.length;l+=2){var d=u[l],h=u[l+1];d==="style"?av(i,h):d==="dangerouslySetInnerHTML"?iv(i,h):d==="children"?ta(i,h):Yd(i,d,h,c)}switch(o){case"input":Ec(i,s);break;case"textarea":nv(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ui(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ui(i,!!s.multiple,s.defaultValue,!0):Ui(i,!!s.multiple,s.multiple?[]:"",!1))}i[ca]=s}catch(w){Ge(e,e.return,w)}}break;case 6:if(mn(t,e),Pn(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Ge(e,e.return,w)}}break;case 3:if(mn(t,e),Pn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sa(t.containerInfo)}catch(w){Ge(e,e.return,w)}break;case 4:mn(t,e),Pn(e);break;case 13:mn(t,e),Pn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cf=Ze())),r&4&&tp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(c=jt)||d,mn(t,e),jt=c):mn(t,e),Pn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(h=Z=d;Z!==null;){switch(m=Z,v=m.child,m.tag){case 0:case 11:case 14:case 15:Hs(4,m,m.return);break;case 1:Ti(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Ge(r,n,w)}}break;case 5:Ti(m,m.return);break;case 22:if(m.memoizedState!==null){rp(h);continue}}v!==null?(v.return=m,Z=v):rp(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,u=h.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=sv("display",l))}catch(w){Ge(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Ge(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mn(t,e),Pn(e),r&4&&tp(e);break;case 21:break;default:mn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ag(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ta(i,""),r.flags&=-33);var s=ep(e);dd(e,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,o=ep(e);cd(e,o,l);break;default:throw Error($(161))}}catch(u){Ge(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wS(e,t,n){Z=e,Fg(e)}function Fg(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||dl;if(!l){var o=i.alternate,u=o!==null&&o.memoizedState!==null||jt;o=dl;var c=jt;if(dl=l,(jt=u)&&!c)for(Z=i;Z!==null;)l=Z,u=l.child,l.tag===22&&l.memoizedState!==null?ip(i):u!==null?(u.return=l,Z=u):ip(i);for(;s!==null;)Z=s,Fg(s),s=s.sibling;Z=i,dl=o,jt=c}np(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):np(e)}}function np(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&qm(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qm(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&sa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}jt||t.flags&512&&ud(t)}catch(m){Ge(t,t.return,m)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function rp(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function ip(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ko(4,t)}catch(u){Ge(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ge(t,i,u)}}var s=t.return;try{ud(t)}catch(u){Ge(t,s,u)}break;case 5:var l=t.return;try{ud(t)}catch(u){Ge(t,l,u)}}}catch(u){Ge(t,t.return,u)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var bS=Math.ceil,lo=cr.ReactCurrentDispatcher,Sf=cr.ReactCurrentOwner,an=cr.ReactCurrentBatchConfig,be=0,ct=null,nt=null,ht=0,Vt=0,Ri=qr(0),at=0,ya=null,ui=0,Xo=0,kf=0,Qs=null,Ft=null,Cf=0,is=1/0,Gn=null,oo=!1,fd=null,Ir=null,fl=!1,br=null,uo=0,Gs=0,hd=null,Il=-1,El=0;function Pt(){return be&6?Ze():Il!==-1?Il:Il=Ze()}function Er(e){return e.mode&1?be&2&&ht!==0?ht&-ht:iS.transition!==null?(El===0&&(El=gv()),El):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Cv(e.type)),e):1}function bn(e,t,n,r){if(50<Gs)throw Gs=0,hd=null,Error($(185));ka(e,n,r),(!(be&2)||e!==ct)&&(e===ct&&(!(be&2)&&(Xo|=n),at===4&&xr(e,ht)),qt(e,r),n===1&&be===0&&!(t.mode&1)&&(is=Ze()+500,Ho&&Ur()))}function qt(e,t){var n=e.callbackNode;ij(e,t);var r=Wl(e,e===ct?ht:0);if(r===0)n!==null&&hm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hm(n),t===1)e.tag===0?rS(sp.bind(null,e)):Bv(sp.bind(null,e)),Jj(function(){!(be&6)&&Ur()}),n=null;else{switch(xv(r)){case 1:n=Kd;break;case 4:n=yv;break;case 16:n=Yl;break;case 536870912:n=vv;break;default:n=Yl}n=zg(n,Tg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tg(e,t){if(Il=-1,El=0,be&6)throw Error($(327));var n=e.callbackNode;if(Yi()&&e.callbackNode!==n)return null;var r=Wl(e,e===ct?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=co(e,r);else{t=r;var i=be;be|=2;var s=Lg();(ct!==e||ht!==t)&&(Gn=null,is=Ze()+500,ni(e,t));do try{kS();break}catch(o){Rg(e,o)}while(1);cf(),lo.current=s,be=i,nt!==null?t=0:(ct=null,ht=0,t=at)}if(t!==0){if(t===2&&(i=Uc(e),i!==0&&(r=i,t=md(e,i))),t===1)throw n=ya,ni(e,0),xr(e,r),qt(e,Ze()),n;if(t===6)xr(e,r);else{if(i=e.current.alternate,!(r&30)&&!jS(i)&&(t=co(e,r),t===2&&(s=Uc(e),s!==0&&(r=s,t=md(e,s))),t===1))throw n=ya,ni(e,0),xr(e,r),qt(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Hr(e,Ft,Gn);break;case 3:if(xr(e,r),(r&130023424)===r&&(t=Cf+500-Ze(),10<t)){if(Wl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Pt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qc(Hr.bind(null,e,Ft,Gn),t);break}Hr(e,Ft,Gn);break;case 4:if(xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-wn(r);s=1<<l,l=t[l],l>i&&(i=l),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bS(r/1960))-r,10<r){e.timeoutHandle=Qc(Hr.bind(null,e,Ft,Gn),r);break}Hr(e,Ft,Gn);break;case 5:Hr(e,Ft,Gn);break;default:throw Error($(329))}}}return qt(e,Ze()),e.callbackNode===n?Tg.bind(null,e):null}function md(e,t){var n=Qs;return e.current.memoizedState.isDehydrated&&(ni(e,t).flags|=256),e=co(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&pd(t)),e}function pd(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function jS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~kf,t&=~Xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function sp(e){if(be&6)throw Error($(327));Yi();var t=Wl(e,0);if(!(t&1))return qt(e,Ze()),null;var n=co(e,t);if(e.tag!==0&&n===2){var r=Uc(e);r!==0&&(t=r,n=md(e,r))}if(n===1)throw n=ya,ni(e,0),xr(e,t),qt(e,Ze()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,Ft,Gn),qt(e,Ze()),null}function _f(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(is=Ze()+500,Ho&&Ur())}}function ci(e){br!==null&&br.tag===0&&!(be&6)&&Yi();var t=be;be|=1;var n=an.transition,r=Pe;try{if(an.transition=null,Pe=1,e)return e()}finally{Pe=r,an.transition=n,be=t,!(be&6)&&Ur()}}function Nf(){Vt=Ri.current,Fe(Ri)}function ni(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zj(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xl();break;case 3:ns(),Fe(Rt),Fe(kt),yf();break;case 5:pf(r);break;case 4:ns();break;case 13:Fe(Ye);break;case 19:Fe(Ye);break;case 10:df(r.type._context);break;case 22:case 23:Nf()}n=n.return}if(ct=e,nt=e=Pr(e.current,null),ht=Vt=t,at=0,ya=null,kf=Xo=ui=0,Ft=Qs=null,Xr!==null){for(t=0;t<Xr.length;t++)if(n=Xr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}Xr=null}return e}function Rg(e,t){do{var n=nt;try{if(cf(),_l.current=ao,so){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}so=!1}if(oi=0,ut=st=We=null,Ws=!1,ha=0,Sf.current=null,n===null||n.return===null){at=1,ya=t,nt=null;break}e:{var s=e,l=n.return,o=n,u=t;if(t=ht,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Wm(l);if(v!==null){v.flags&=-257,Hm(v,l,o,s,t),v.mode&1&&Ym(s,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){Ym(s,c,t),Df();break e}u=Error($(426))}}else if($e&&o.mode&1){var S=Wm(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Hm(S,l,o,s,t),of(rs(u,o));break e}}s=u=rs(u,o),at!==4&&(at=2),Qs===null?Qs=[s]:Qs.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=wg(s,u,t);Lm(s,g);break e;case 1:o=u;var f=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ir===null||!Ir.has(p)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=bg(s,o,t);Lm(s,j);break e}}s=s.return}while(s!==null)}Ug(n)}catch(b){t=b,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function Lg(){var e=lo.current;return lo.current=ao,e===null?ao:e}function Df(){(at===0||at===3||at===2)&&(at=4),ct===null||!(ui&268435455)&&!(Xo&268435455)||xr(ct,ht)}function co(e,t){var n=be;be|=2;var r=Lg();(ct!==e||ht!==t)&&(Gn=null,ni(e,t));do try{SS();break}catch(i){Rg(e,i)}while(1);if(cf(),be=n,lo.current=r,nt!==null)throw Error($(261));return ct=null,ht=0,at}function SS(){for(;nt!==null;)qg(nt)}function kS(){for(;nt!==null&&!Gb();)qg(nt)}function qg(e){var t=Vg(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?Ug(e):nt=t,Sf.current=null}function Ug(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vS(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,nt=null;return}}else if(n=yS(n,t,Vt),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);at===0&&(at=5)}function Hr(e,t,n){var r=Pe,i=an.transition;try{an.transition=null,Pe=1,CS(e,t,n,r)}finally{an.transition=i,Pe=r}return null}function CS(e,t,n,r){do Yi();while(br!==null);if(be&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(sj(e,s),e===ct&&(nt=ct=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fl||(fl=!0,zg(Yl,function(){return Yi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=an.transition,an.transition=null;var l=Pe;Pe=1;var o=be;be|=4,Sf.current=null,xS(e,n),Mg(n,e),Yj(Wc),Hl=!!Yc,Wc=Yc=null,e.current=n,wS(n),Kb(),be=o,Pe=l,an.transition=s}else e.current=n;if(fl&&(fl=!1,br=e,uo=i),s=e.pendingLanes,s===0&&(Ir=null),Jb(n.stateNode),qt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oo)throw oo=!1,e=fd,fd=null,e;return uo&1&&e.tag!==0&&Yi(),s=e.pendingLanes,s&1?e===hd?Gs++:(Gs=0,hd=e):Gs=0,Ur(),null}function Yi(){if(br!==null){var e=xv(uo),t=an.transition,n=Pe;try{if(an.transition=null,Pe=16>e?16:e,br===null)var r=!1;else{if(e=br,br=null,uo=0,be&6)throw Error($(331));var i=be;for(be|=4,Z=e.current;Z!==null;){var s=Z,l=s.child;if(Z.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Hs(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var m=d.sibling,v=d.return;if(Pg(d),d===c){Z=null;break}if(m!==null){m.return=v,Z=m;break}Z=v}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}Z=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Z=l;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hs(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Z=g;break e}Z=s.return}}var f=e.current;for(Z=f;Z!==null;){l=Z;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,Z=p;else e:for(l=f;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ko(9,o)}}catch(b){Ge(o,o.return,b)}if(o===l){Z=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,Z=j;break e}Z=o.return}}if(be=i,Ur(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Vo,e)}catch{}r=!0}return r}finally{Pe=n,an.transition=t}}return!1}function ap(e,t,n){t=rs(n,t),t=wg(e,t,1),e=Dr(e,t,1),t=Pt(),e!==null&&(ka(e,1,t),qt(e,t))}function Ge(e,t,n){if(e.tag===3)ap(e,e,n);else for(;t!==null;){if(t.tag===3){ap(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ir===null||!Ir.has(r))){e=rs(n,e),e=bg(t,e,1),t=Dr(t,e,1),e=Pt(),t!==null&&(ka(t,1,e),qt(t,e));break}}t=t.return}}function _S(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&n,ct===e&&(ht&n)===n&&(at===4||at===3&&(ht&130023424)===ht&&500>Ze()-Cf?ni(e,0):kf|=n),qt(e,t)}function $g(e,t){t===0&&(e.mode&1?(t=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):t=1);var n=Pt();e=lr(e,t),e!==null&&(ka(e,t,n),qt(e,n))}function NS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$g(e,n)}function DS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),$g(e,n)}var Vg;Vg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)Tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tt=!1,pS(e,t,n);Tt=!!(e.flags&131072)}else Tt=!1,$e&&t.flags&1048576&&Yv(t,eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dl(e,t),e=t.pendingProps;var i=Ji(t,kt.current);Bi(t,n),i=gf(null,t,r,e,i,n);var s=xf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(r)?(s=!0,Zl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hf(t),i.updater=Qo,t.stateNode=i,i._reactInternals=t,td(t,r,e,n),t=id(null,t,r,!0,s,n)):(t.tag=0,$e&&s&&af(t),Dt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ES(r),e=pn(r,e),i){case 0:t=rd(null,t,r,e,n);break e;case 1:t=Km(null,t,r,e,n);break e;case 11:t=Qm(null,t,r,e,n);break e;case 14:t=Gm(null,t,r,pn(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),rd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Km(e,t,r,i,n);case 3:e:{if(Cg(t),e===null)throw Error($(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Gv(e,t),ro(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=rs(Error($(423)),t),t=Xm(e,t,r,n,i);break e}else if(r!==i){i=rs(Error($(424)),t),t=Xm(e,t,r,n,i);break e}else for(Bt=Nr(t.stateNode.containerInfo.firstChild),Yt=t,$e=!0,vn=null,n=Jv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(es(),r===i){t=or(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 5:return eg(t),e===null&&Zc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,Hc(r,i)?l=null:s!==null&&Hc(r,s)&&(t.flags|=32),kg(e,t),Dt(e,t,l,n),t.child;case 6:return e===null&&Zc(t),null;case 13:return _g(e,t,n);case 4:return mf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ts(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Qm(e,t,r,i,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,Oe(to,r._currentValue),r._currentValue=l,s!==null)if(Sn(s.value,l)){if(s.children===i.children&&!Rt.current){t=or(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){l=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=nr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Jc(s.return,n,t),o.lanes|=n;break}u=u.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error($(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Jc(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Dt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bi(t,n),i=ln(i),r=r(i),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return r=t.type,i=pn(r,t.pendingProps),i=pn(r.type,i),Gm(e,t,r,i,n);case 15:return jg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Dl(e,t),t.tag=1,Lt(r)?(e=!0,Zl(t)):e=!1,Bi(t,n),Xv(t,r,i),td(t,r,i,n),id(null,t,r,!0,e,n);case 19:return Ng(e,t,n);case 22:return Sg(e,t,n)}throw Error($(156,t.tag))};function zg(e,t){return pv(e,t)}function IS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,t,n,r){return new IS(e,t,n,r)}function If(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ES(e){if(typeof e=="function")return If(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hd)return 11;if(e===Qd)return 14}return 2}function Pr(e,t){var n=e.alternate;return n===null?(n=nn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,i,s){var l=2;if(r=e,typeof e=="function")If(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ni:return ri(n.children,i,s,t);case Wd:l=8,i|=8;break;case Cc:return e=nn(12,n,t,i|2),e.elementType=Cc,e.lanes=s,e;case _c:return e=nn(13,n,t,i),e.elementType=_c,e.lanes=s,e;case Nc:return e=nn(19,n,t,i),e.elementType=Nc,e.lanes=s,e;case Zy:return Zo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ky:l=10;break e;case Xy:l=9;break e;case Hd:l=11;break e;case Qd:l=14;break e;case pr:l=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=nn(l,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ri(e,t,n,r){return e=nn(7,e,r,t),e.lanes=n,e}function Zo(e,t,n,r){return e=nn(22,e,r,t),e.elementType=Zy,e.lanes=n,e.stateNode={isHidden:!1},e}function ic(e,t,n){return e=nn(6,e,null,t),e.lanes=n,e}function sc(e,t,n){return t=nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qu(0),this.expirationTimes=qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ef(e,t,n,r,i,s,l,o,u){return e=new PS(e,t,n,o,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=nn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hf(s),e}function AS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bg(e){if(!e)return Tr;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Lt(n))return zv(e,n,t)}return t}function Yg(e,t,n,r,i,s,l,o,u){return e=Ef(n,r,!0,e,i,s,l,o,u),e.context=Bg(null),n=e.current,r=Pt(),i=Er(n),s=nr(r,i),s.callback=t??null,Dr(n,s,i),e.current.lanes=i,ka(e,i,r),qt(e,r),e}function Jo(e,t,n,r){var i=t.current,s=Pt(),l=Er(i);return n=Bg(n),t.context===null?t.context=n:t.pendingContext=n,t=nr(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dr(i,t,l),e!==null&&(bn(e,i,l,s),Cl(e,i,l)),l}function fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pf(e,t){lp(e,t),(e=e.alternate)&&lp(e,t)}function OS(){return null}var Wg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Af(e){this._internalRoot=e}eu.prototype.render=Af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Jo(e,t,null,null)};eu.prototype.unmount=Af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ci(function(){Jo(null,e,null,null)}),t[ar]=null}};function eu(e){this._internalRoot=e}eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=jv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gr.length&&t!==0&&t<gr[n].priority;n++);gr.splice(n,0,e),n===0&&kv(e)}};function Of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function op(){}function MS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fo(l);s.call(c)}}var l=Yg(t,r,e,0,null,!1,!1,"",op);return e._reactRootContainer=l,e[ar]=l.current,oa(e.nodeType===8?e.parentNode:e),ci(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=fo(u);o.call(c)}}var u=Ef(e,0,!1,null,null,!1,!1,"",op);return e._reactRootContainer=u,e[ar]=u.current,oa(e.nodeType===8?e.parentNode:e),ci(function(){Jo(t,u,n,r)}),u}function nu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var o=i;i=function(){var u=fo(l);o.call(u)}}Jo(t,l,e,i)}else l=MS(n,t,e,i,r);return fo(l)}wv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ls(t.pendingLanes);n!==0&&(Xd(t,n|1),qt(t,Ze()),!(be&6)&&(is=Ze()+500,Ur()))}break;case 13:ci(function(){var r=lr(e,1);if(r!==null){var i=Pt();bn(r,e,1,i)}}),Pf(e,1)}};Zd=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var n=Pt();bn(t,e,134217728,n)}Pf(e,134217728)}};bv=function(e){if(e.tag===13){var t=Er(e),n=lr(e,t);if(n!==null){var r=Pt();bn(n,e,t,r)}Pf(e,t)}};jv=function(){return Pe};Sv=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Rc=function(e,t,n){switch(t){case"input":if(Ec(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wo(r);if(!i)throw Error($(90));ev(r),Ec(r,i)}}}break;case"textarea":nv(e,n);break;case"select":t=n.value,t!=null&&Ui(e,!!n.multiple,t,!1)}};uv=_f;cv=ci;var FS={usingClientEntryPoint:!1,Events:[_a,Pi,Wo,lv,ov,_f]},Ns={findFiberByHostInstance:Kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TS={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hv(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||OS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Vo=hl.inject(TS),Rn=hl}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FS;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Of(t))throw Error($(200));return AS(e,t,null,n)};Qt.createRoot=function(e,t){if(!Of(e))throw Error($(299));var n=!1,r="",i=Wg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ef(e,1,!1,null,null,n,!1,r,i),e[ar]=t.current,oa(e.nodeType===8?e.parentNode:e),new Af(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=hv(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return ci(e)};Qt.hydrate=function(e,t,n){if(!tu(t))throw Error($(200));return nu(null,e,t,!0,n)};Qt.hydrateRoot=function(e,t,n){if(!Of(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=Wg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Yg(t,null,e,1,n??null,i,!1,s,l),e[ar]=t.current,oa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)};Qt.render=function(e,t,n){if(!tu(t))throw Error($(200));return nu(null,e,t,!1,n)};Qt.unmountComponentAtNode=function(e){if(!tu(e))throw Error($(40));return e._reactRootContainer?(ci(function(){nu(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};Qt.unstable_batchedUpdates=_f;Qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tu(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return nu(e,t,n,!1,r)};Qt.version="18.2.0-next-9e3b772b8-20220608";function Hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hg)}catch(e){console.error(e)}}Hg(),Yy.exports=Qt;var Qg=Yy.exports;const RS=My(Qg);var up=Qg;Sc.createRoot=up.createRoot,Sc.hydrateRoot=up.hydrateRoot;var ru={};(function(e){(function(t){t([],function(){var n=-1,r=-2,i=-3,s=-4,l=-5,o=function(y,w){w=w||{};var S=w.verbose||!1;S&&console.log("Normalize the JSON Object"),y=typeof y=="string"?this.JSON.parse(y):y,S&&console.log("Creating a empty dictionary");var g={strings:[],integers:[],floats:[]};S&&console.log("Creating the AST");var f=function k(_){S&&console.log("Calling recursiveAstBuilder with "+this.JSON.stringify(_));var C=typeof _;if(_===null)return{type:"null",index:i};if(typeof _>"u")return{type:"undefined",index:l};if(_ instanceof Array){var N=["@"];for(var D in _)_.hasOwnProperty(D)&&N.push(k(_[D]));return N}if(C==="object"){var N=["$"];for(var I in _)_.hasOwnProperty(I)&&(N.push(k(I)),N.push(k(_[I])));return N}if(_==="")return{type:"empty",index:s};if(C==="string"){var A=v.call(g.strings,_);return A==-1&&(g.strings.push(c(_)),A=g.strings.length-1),{type:"strings",index:A}}if(C==="number"&&_%1===0){var A=v.call(g.integers,_);return A==-1&&(g.integers.push(h(_)),A=g.integers.length-1),{type:"integers",index:A}}if(C==="number"){var A=v.call(g.floats,_);return A==-1&&(g.floats.push(_),A=g.floats.length-1),{type:"floats",index:A}}if(C==="boolean")return{type:"boolean",index:_?n:r};throw new Error("Unexpected argument of type "+typeof _)}(y),p=g.strings.length,j=g.integers.length;g.floats.length,S&&console.log("Parsing the dictionary");var b=g.strings.join("|");return b+="^"+g.integers.join("|"),b+="^"+g.floats.join("|"),S&&console.log("Parsing the structure"),b+="^"+function k(_){if(S&&console.log("Calling a recursiveParser with "+this.JSON.stringify(_)),_ instanceof Array){var C=_.shift();for(var N in _)_.hasOwnProperty(N)&&(C+=k(_[N])+"|");return(C[C.length-1]==="|"?C.slice(0,-1):C)+"]"}var D=_.type,I=_.index;if(D==="strings")return h(I);if(D==="integers")return h(p+I);if(D==="floats")return h(p+j+I);if(D==="boolean")return _.index;if(D==="null")return i;if(D==="undefined")return l;if(D==="empty")return s;throw new TypeError("The item is alien!")}(f),S&&console.log("Ending parser"),w.debug?{dictionary:g,ast:f,packed:b}:b},u=function(y,w){w=w||{};var S=y.split("^");w.verbose&&console.log("Building dictionary");var g=[],f=S[0];if(f!==""){f=f.split("|"),w.verbose&&console.log("Parse the strings dictionary");for(var p=0,j=f.length;p<j;p++)g.push(d(f[p]))}if(f=S[1],f!==""){f=f.split("|"),w.verbose&&console.log("Parse the integers dictionary");for(var p=0,j=f.length;p<j;p++)g.push(m(f[p]))}if(f=S[2],f!==""){f=f.split("|"),w.verbose&&console.log("Parse the floats dictionary");for(var p=0,j=f.length;p<j;p++)g.push(parseFloat(f[p]))}f=null,w.verbose&&console.log("Tokenizing the structure");for(var b="",k=[],_=S[3].length,p=0;p<_;p++){var C=S[3].charAt(p);C==="|"||C==="$"||C==="@"||C==="]"?(b&&(k.push(m(b)),b=""),C!=="|"&&k.push(C)):b+=C}var N=k.length,D=0;return w.verbose&&console.log("Starting recursive parser"),function I(){var A=k[D++];if(w.verbose&&console.log("Reading collection type "+(A==="$"?"object":"Array")),A==="@"){for(var M=[];D<N;D++){var F=k[D];if(w.verbose&&console.log("Read "+F+" symbol"),F==="]")return M;if(F==="@"||F==="$")M.push(I());else switch(F){case n:M.push(!0);break;case r:M.push(!1);break;case i:M.push(null);break;case l:M.push(void 0);break;case s:M.push("");break;default:M.push(g[F])}}return w.verbose&&console.log("Parsed "+this.JSON.stringify(M)),M}if(A==="$"){for(var M={};D<N;D++){var q=k[D];if(q==="]")return M;q===s?q="":q=g[q];var F=k[++D];if(F==="@"||F==="$")M[q]=I();else switch(F){case n:M[q]=!0;break;case r:M[q]=!1;break;case i:M[q]=null;break;case l:M[q]=void 0;break;case s:M[q]="";break;default:M[q]=g[F]}}return w.verbose&&console.log("Parsed "+this.JSON.stringify(M)),M}throw new TypeError("Bad token "+A+" isn't a type")}()},c=function(y){return typeof y!="string"?y:y.replace(/[\+ \|\^\%]/g,function(w){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[w]})},d=function(y){return typeof y!="string"?y:y.replace(/\+|%2B|%7C|%5E|%25/g,function(w){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[w]})},h=function(y){return Number.prototype.toString.call(y,36).toUpperCase()},m=function(y){return parseInt(y,36)},v=Array.prototype.indexOf||function(y,w){for(var S=w||0,g=this.length;S<g;S++)if(this[S]===y)return S;return-1};return{JSON,pack:o,unpack:u}})})(function(t,n){var r=n();for(var i in r)e[i]=r[i]})})(ru);let LS=0;function ze(e,t){const n=`atom${++LS}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=i=>i(r),r.write=(i,s,l)=>s(r,typeof l=="function"?l(i(r)):l)),t&&(r.write=t),r}const cp=e=>"init"in e,dp=e=>!!e.write,ho=new WeakMap,qS=(e,t)=>{ho.set(e,t),e.catch(()=>{}).finally(()=>ho.delete(e))},fp=(e,t)=>{const n=ho.get(e);n&&(ho.delete(e),n(t))},hp=(e,t)=>{e.status="fulfilled",e.value=t},mp=(e,t)=>{e.status="rejected",e.reason=t},US=e=>typeof(e==null?void 0:e.then)=="function",ml=(e,t)=>"v"in e&&"v"in t&&Object.is(e.v,t.v),pp=(e,t)=>"e"in e&&"e"in t&&Object.is(e.e,t.e),Ds=e=>"v"in e&&e.v instanceof Promise,$S=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,pl=e=>{if("e"in e)throw e.e;return e.v},VS=()=>{const e=new WeakMap,t=new WeakMap,n=new Map;let r,i;const s=C=>e.get(C),l=(C,N)=>{const D=e.get(C);if(e.set(C,N),n.has(C)||n.set(C,D),D&&Ds(D)){const I="v"in N?N.v instanceof Promise?N.v:Promise.resolve(N.v):Promise.reject(N.e);D.v!==I&&fp(D.v,I)}},o=(C,N,D)=>{const I=new Map;let A=!1;D.forEach((M,F)=>{!M&&F===C&&(M=N),M&&(I.set(F,M),N.d.get(F)!==M&&(A=!0))}),(A||N.d.size!==I.size)&&(N.d=I)},u=(C,N,D)=>{const I=s(C),A={d:(I==null?void 0:I.d)||new Map,v:N};if(D&&o(C,A,D),I&&ml(I,A)&&I.d===A.d)return I;if(I&&Ds(I)&&Ds(A)&&$S(I,A)){if(I.d===A.d)return I;A.v=I.v}return l(C,A),A},c=(C,N,D,I)=>{if(US(N)){let A;const M=new Promise((F,q)=>{let z=!1;N.then(W=>{if(!z){z=!0;const O=s(C),R=u(C,M,D);hp(M,W),F(W),t.has(C)&&(O==null?void 0:O.d)!==R.d&&b(C,R,O==null?void 0:O.d)}},W=>{if(!z){z=!0;const O=s(C),R=u(C,M,D);mp(M,W),q(W),t.has(C)&&(O==null?void 0:O.d)!==R.d&&b(C,R,O==null?void 0:O.d)}}),A=W=>{z||(z=!0,W.then(O=>hp(M,O),O=>mp(M,O)),F(W))}});return M.orig=N,M.status="pending",qS(M,F=>{F&&A(F),I==null||I()}),u(C,M,D)}return u(C,N,D)},d=(C,N,D)=>{const I=s(C),A={d:(I==null?void 0:I.d)||new Map,e:N};return D&&o(C,A,D),I&&pp(I,A)&&I.d===A.d?I:(l(C,A),A)},h=(C,N)=>{const D=s(C);if(!N&&D&&(t.has(C)||Array.from(D.d).every(([W,O])=>W===C||h(W)===O)))return D;const I=new Map;let A=!0;const M=W=>{if(W===C){const R=s(W);if(R)return I.set(W,R),pl(R);if(cp(W))return I.set(W,void 0),W.init;throw new Error("no atom init")}const O=h(W);return I.set(W,O),pl(O)};let F,q;const z={get signal(){return F||(F=new AbortController),F.signal},get setSelf(){return!q&&dp(C)&&(q=(...W)=>{if(!A)return f(C,...W)}),q}};try{const W=C.read(M,z);return c(C,W,I,()=>F==null?void 0:F.abort())}catch(W){return d(C,W,I)}finally{A=!1}},m=C=>pl(h(C)),v=C=>{let N=t.get(C);return N||(N=p(C)),N},y=(C,N)=>!N.l.size&&(!N.t.size||N.t.size===1&&N.t.has(C)),w=C=>{const N=t.get(C);N&&y(C,N)&&j(C)},S=C=>{const N=new Map,D=new WeakMap,I=F=>{var q;const z=new Set((q=t.get(F))==null?void 0:q.t);return n.forEach((W,O)=>{var R;(R=s(O))!=null&&R.d.has(F)&&z.add(O)}),z},A=F=>{I(F).forEach(q=>{q!==F&&(N.set(q,(N.get(q)||new Set).add(F)),D.set(q,(D.get(q)||0)+1),A(q))})};A(C);const M=F=>{I(F).forEach(q=>{var z;if(q!==F){let W=D.get(q);if(W&&D.set(q,--W),!W){let O=!!((z=N.get(q))!=null&&z.size);if(O){const R=s(q),B=h(q,!0);O=!R||!ml(R,B)}O||N.forEach(R=>R.delete(q))}M(q)}})};M(C)},g=(C,...N)=>{let D=!0;const I=F=>pl(h(F)),A=(F,...q)=>{let z;if(F===C){if(!cp(F))throw new Error("atom not writable");const W=s(F),O=c(F,q[0]);(!W||!ml(W,O))&&S(F)}else z=g(F,...q);if(!D){const W=k()}return z},M=C.write(I,A,...N);return D=!1,M},f=(C,...N)=>{const D=g(C,...N),I=k();return D},p=(C,N,D)=>{var I;const A=D||[];(I=s(C))==null||I.d.forEach((F,q)=>{const z=t.get(q);z?z.t.add(C):q!==C&&p(q,C,A)}),h(C);const M={t:new Set(N&&[N]),l:new Set};if(t.set(C,M),dp(C)&&C.onMount){const{onMount:F}=C;A.push(()=>{const q=F((...z)=>f(C,...z));q&&(M.u=q)})}return D||A.forEach(F=>F()),M},j=C=>{var N;const D=(N=t.get(C))==null?void 0:N.u;D&&D(),t.delete(C);const I=s(C);I&&(Ds(I)&&fp(I.v),I.d.forEach((A,M)=>{if(M!==C){const F=t.get(M);F&&(F.t.delete(C),y(M,F)&&j(M))}}))},b=(C,N,D)=>{const I=new Set(N.d.keys());D==null||D.forEach((A,M)=>{if(I.has(M)){I.delete(M);return}const F=t.get(M);F&&(F.t.delete(C),y(M,F)&&j(M))}),I.forEach(A=>{const M=t.get(A);M?M.t.add(C):t.has(C)&&p(A,C)})},k=()=>{let C;for(;n.size;){const N=Array.from(n);n.clear(),N.forEach(([D,I])=>{const A=s(D);if(A){const M=t.get(D);M&&A.d!==(I==null?void 0:I.d)&&b(D,A,I==null?void 0:I.d),M&&!(I&&!Ds(I)&&(ml(I,A)||pp(I,A)))&&M.l.forEach(F=>F())}})}};return{get:m,set:f,sub:(C,N)=>{const D=v(C),I=k(),A=D.l;return A.add(N),()=>{A.delete(N),w(C)}}}};let ac;const Gg=()=>(ac||(ac=VS()),ac),zS=E.createContext(void 0),Kg=e=>{const t=E.useContext(zS);return(e==null?void 0:e.store)||t||Gg()},BS=e=>typeof(e==null?void 0:e.then)=="function",YS=re.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function je(e,t){const n=Kg(t),[[r,i,s],l]=E.useReducer(c=>{const d=n.get(e);return Object.is(c[0],d)&&c[1]===n&&c[2]===e?c:[d,n,e]},void 0,()=>[n.get(e),n,e]);let o=r;(i!==n||s!==e)&&(l(),o=n.get(e));const u=t==null?void 0:t.delay;return E.useEffect(()=>{const c=n.sub(e,()=>{if(typeof u=="number"){setTimeout(l,u);return}l()});return l(),c},[n,e,u]),E.useDebugValue(o),BS(o)?YS(o):o}function WS(e,t){const n=Kg(t);return E.useCallback((...i)=>n.set(e,...i),[n,e])}function Mf(e,t){return[je(e,t),WS(e,t)]}function Xg(e){return new Promise((t,n)=>{setTimeout(()=>t(),e)})}const iu=function(){let e,t,n=navigator.languages&&navigator.languages[0]||navigator.language;if(!n)e="zh",t="CN";else{let o=n.split("-");e=o[0],o.length>1&&(t=o[1].toUpperCase())}let r=-new Date().getTimezoneOffset()/60;const s=new RegExp("Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(navigator.userAgent),l=HS();return{lang:e,district:t,timeZone:r,isMobile:s,browser:l}}();function HS(){let e=navigator;if(e)return(e.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))>=0?"Opera":e.userAgent.indexOf("Chrome")>=0?"Chrome":e.userAgent.indexOf("Safari")>=0?"Safari":e.userAgent.indexOf("Firefox")>=0?"Firefox":e.userAgent.indexOf("MSIE")>=0||document.documentMode?"IE":"Unknown"}const hi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",yp=hi.charCodeAt(0),QS=hi.charCodeAt(9),vp=hi.charCodeAt(10),GS=hi.charCodeAt(35),gp=hi.charCodeAt(36),KS=hi.charCodeAt(61);function kn(e){if(e===null)return null;if(e===void 0)return;if(typeof e!="string")return Number.NaN;let t=e.length;if(t===0)return Number.NaN;let n=0;for(let r=0;r<t;r++){let i=e.charCodeAt(r),s;if(i<yp)return Number.NaN;if(i<=QS)s=i-yp;else{if(i<vp)return Number.NaN;if(i<=GS)s=i-vp+10;else{if(i<gp)return Number.NaN;if(i<=KS)s=i-gp+36;else return Number.NaN}}n*=62,n+=s}return n}function jn(e){if(e===null)return null;if(e===void 0)return;if(typeof e!="number"||e<0)return"";let t="";for(;t=hi[e%62]+t,e=Math.floor(e/62),e!==0;);return t}function $t(e){const t=E.useRef(e),n=E.useRef(),r=E.useRef(!1),i=E.useRef(!1),[,s]=E.useState(0);r.current&&(i.current=!0),E.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(1),()=>{i.current!==!1&&n.current&&n.current()}),[])}function xp(e,...t){return e.replace(/{([0-9]+)}/g,function(n,r){let i=Number(n.substring(1,n.length-1));return t[i]??""})}const Zg=Gg();function ye(e){return Zg.get(e)}function oe(e,t){Zg.set(e,t)}class XS{constructor(t,n){x(this,"container");x(this,"errors",ze([]));x(this,"memos");x(this,"fields");x(this,"readOnly",!1);this.container=t,this.memos=n,this.fields={},t==null||t.bands.push(this)}setError(t,n){if(this.fields[t]===!0){let r=ye(this.errors);return n?(oe(this.errors,[...r,...n.map(i=>({name:t,error:i}))]),!0):r.length>0}return!1}clearError(t){this.fields[t]===!0&&oe(this.errors,[])}clearAllErrors(){oe(this.errors,[])}}const Jg=re.createContext(void 0);function ex(){return E.useContext(Jg)}function J(e){let{name:t,className:n,size:r,spin:i,fixWidth:s,border:l,pull:o,pulse:u,rotate:c,flip:d,inverse:h}=e,m="fa";return n&&(m+=" "+n),t&&(m+=" fa-"+t),r&&(m+=" fa-"+r),s&&(m+=" fa-fw"),l&&(m+=" fa-border"),o&&(m+=" fa-pull-"+o),i&&(m+=" fa-spin"),u&&(m+=" fa-pulse"),c&&(m+=" fa-rotate-"+c),d&&(m+=" fa-flip-"+d),h&&(m+=" fa-inverse"),a.jsx("i",{className:m})}function Ve(e){let{className:t,children:n,onClick:r}=e,i=t??"";r!==void 0&&(i+=" cursor-pointer ");let s=E.Children.toArray(n),l=s.length;return l>1&&s.splice(l-1,0,a.jsx("div",{className:"flex-fill"})),a.jsx("div",{className:"d-flex "+i,onClick:r,children:s.map((o,u)=>a.jsx(E.Fragment,{children:o},u))})}function os({size:e,className:t}){let n;if(e!==void 0){let i=`${(Number(e??2)+1)*.5}em`;n={width:i,height:i}}let r="spinner-border "+(t??"");return a.jsx("div",{className:r,role:"status",style:n,children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}function Ff(){return a.jsx(os,{className:"text-info spinner-border-sm"})}function Tf({isWaiting:e}){let t={zIndex:30001,background:"rgba(0, 0, 0, 0.3)",left:0,top:0,right:0,bottom:0};return e!==!0?null:a.jsx("div",{className:"d-flex position-absolute align-items-center justify-content-center",style:t,children:a.jsx("i",{className:"fa fa-spinner fa-spin"})})}function mi(e){const[t,n]=E.useState(!1);let{children:r,onClick:i,tag:s,overtime:l}=e,o=E.useRef(!1),u;if(E.useEffect(()=>(o.current=!0,()=>{o.current=!1})),i&&(u=async c=>{l!==void 0&&setTimeout(()=>{n(!1)},l*1e3),n(!0);try{await i(c)}catch(d){throw console.error(d),d}finally{o.current===!0&&n(!1)}}),t===!0){let{className:c}=e;return c=(c??"")+" position-relative",a.jsxs("button",{...e,disabled:!0,className:c,children:[r,a.jsx(Tf,{isWaiting:!0})]})}else return s!==void 0?re.createElement(s,{...e,onClick:u},r):a.jsx("button",{...e,onClick:u,children:r})}function ZS({className:e,isSubmiting:t,children:n,disabled:r}){return a.jsxs("button",{type:"submit",disabled:t||(r??!1),className:(e??"")+" position-relative",children:[n,t&&a.jsx(Tf,{isWaiting:!0})]})}function Rf(e){let{onCheckChanged:t,children:n,labelClassName:r,inputClassName:i,gapClassName:s,name:l,defaultChecked:o}=e,[u,c]=E.useState(!1);async function d(m){if(t===void 0||u===!0)return;c(!0);let{name:v,checked:y}=m.currentTarget;await t(v,y),c(!1)}s===void 0&&(s=" me-3 ");let h;return u===!0&&(h=a.jsx(J,{name:"spinner",spin:!0,className:s+" text-info position-absolute mt-1 "})),a.jsxs("label",{className:(r??"")+" d-inline-block position-relative ",children:[h,a.jsx("input",{type:"checkbox",className:(i??" form-check-input ")+s,name:l,disabled:u,defaultChecked:o,onChange:d}),n]})}function tx(e){let{name:t,items:n,onCheckChanged:r}=e,[i,s]=E.useState(!1);async function l(u){r!==void 0&&(s(!0),await r(u),s(!1))}let o;return i===!0&&(o=a.jsx("div",{className:"position-absolute d-flex align-items-center",style:{left:0,top:0,right:0,bottom:0},children:a.jsx(Ff,{})})),a.jsxs(a.Fragment,{children:[o,a.jsx(JS,{name:t,items:n,onCheckChanged:l,disabled:i})]})}function JS(e){let{name:t,items:n,onCheckChanged:r,disabled:i}=e,s="me-4 ";return i===!0&&(s+="text-light invisible "),a.jsx(a.Fragment,{children:n.map((l,o)=>{let[u,c,d,h]=l;async function m(){await r(u)}return a.jsxs("label",{className:s,children:[a.jsx("input",{className:"form-check-input",onChange:m,disabled:i,type:"radio",name:t,value:d,defaultChecked:h})," ",c]},o)})})}function Ar({className:e,children:t}){return a.jsx("small",{className:"text-muted "+(e??""),children:t})}function ge({sep:e,className:t,children:n}){return e===null?null:(t=t??"",typeof e=="number"?t+=" border-top border-"+e:re.isValidElement(e)===!0&&(n=a.jsxs(a.Fragment,{children:[e,n]})),n||(t+=" border-top border-1"),a.jsx("div",{className:t,children:n}))}function nx(e){let{className:t,inputClassName:n,onFocus:r,label:i,placeholder:s,buttonText:l,maxLength:o,size:u}=e;const[c,d]=E.useState(!1);let h=E.useRef(null),m=E.useRef(null),v=null;function y(f){v=f.target.value,v!==void 0&&(v=v.trim(),v===""&&(v=void 0)),e.allowEmptySearch===!0||(m.current.disabled=v===void 0||v.length===0)}async function w(f){if(f.preventDefault(),v===null&&(v=e.initKey||""),e.allowEmptySearch!==!0){if(!v)return;h.current&&(h.current.disabled=!0),m.current&&(m.current.disabled=!0)}d(!0),await e.onSearch(v),h.current&&(h.current.disabled=!1),m.current&&(m.current.disabled=!1),d(!1)}let S;switch(u){default:case"sm":S="input-group-sm";break;case"md":S="input-group-md";break;case"lg":S="input-group-lg";break}let g;return iu.isMobile===!0&&(g="off"),a.jsx("form",{className:t,onSubmit:w,autoComplete:g,children:a.jsxs("div",{className:"input-group "+S,children:[i&&a.jsx("div",{className:"input-group-addon align-self-center me-2",children:i}),a.jsx("input",{ref:h,onChange:y,type:"text",name:"key",onFocus:r,className:"form-control "+(n??"border-primary"),placeholder:s,defaultValue:e.initKey,maxLength:o}),a.jsx("div",{className:"input-group-append",children:a.jsxs("button",{ref:m,className:"btn btn-primary position-relative",type:"submit",disabled:e.allowEmptySearch!==!0,children:[a.jsx("i",{className:"fa fa-search"}),l,a.jsx(Tf,{isWaiting:c})]})})]})})}var De=(e=>(e[e.rule_required=0]="rule_required",e[e.rule_mustBeInteger=1]="rule_mustBeInteger",e[e.rule_mustBeDecimal=2]="rule_mustBeDecimal",e[e.rule_belowMin=3]="rule_belowMin",e[e.rule_overMax=4]="rule_overMax",e[e.placeholder_pick=5]="placeholder_pick",e[e.placeholder_select=6]="placeholder_select",e[e.string_submit=7]="string_submit",e[e.time_yesterday=8]="time_yesterday",e[e.time_today=9]="time_today",e[e.time_tomorrow=10]="time_tomorrow",e))(De||{});const Lf={strings:{[De.rule_required]:"Is required",[De.rule_mustBeInteger]:"Must be integer",[De.rule_mustBeDecimal]:"Must be number",[De.rule_belowMin]:"Min is ",[De.rule_overMax]:"Max is ",[De.placeholder_pick]:"Click to pick",[De.placeholder_select]:"Click to select",[De.string_submit]:"Submit",[De.time_yesterday]:"Yday",[De.time_today]:"Today",[De.time_tomorrow]:"Tmw"},funcs:{time_md:(e,t)=>`${e}-${t}`,time_ymd:(e,t,n)=>`${e}-${t}-${n}`}},e1={strings:{[De.rule_required]:"请填内容",[De.rule_mustBeInteger]:"必须是整数",[De.rule_mustBeDecimal]:"必须是数字",[De.rule_belowMin]:"最小值",[De.rule_overMax]:"最大值",[De.placeholder_pick]:"请点击选择",[De.placeholder_select]:"请点击选择",[De.string_submit]:"提交",[De.time_yesterday]:"昨天",[De.time_today]:"今天",[De.time_tomorrow]:"明天"},funcs:{time_md:(e,t)=>`${e}-${t}`,time_ymd:(e,t,n)=>`${e}-${t}-${n}`}};function rx(e,t){return E.useCallback(r=>{let i=e(r);return i||((t==null?void 0:t(r))??r)},[e])}function ix(e){let t=e[iu.lang];return function(n){return t[n]}}const t1={en:Lf,zh:e1};let ii=Lf.strings,Us=Lf.funcs;(function(){let t=t1[iu.lang];t&&(ii=t.strings,Us=t.funcs)})();function wp(e){return ii[e]}function n1(e,t,n=!1){if(!e)return null;let r;switch(typeof e){default:r=e;break;case"string":r=new Date(e);break;case"number":r=new Date(e*1e3);break}let i=new Date,s,l,o,u,c,d,h=r;s=i.getTime()-h.getTime();let m=h.getHours(),v=h.getMinutes();l=i.getDate(),o=h.getDate(),u=h.getMonth()+1,c=h.getFullYear(),d=i.getFullYear();let y=!1,w=function(){return s<-24*3600*1e3?c===d?(y=!0,Us.time_md(u,o)):(y=!0,Us.time_ymd(c,u,o)):s<24*3600*1e3?o!==l?(y=!0,wp(s<0?De.time_tomorrow:De.time_yesterday)):t===!0?(y=!0,""):wp(De.time_today):c===d?Us.time_md(u,o):Us.time_ymd(c,u,o)}();if(t===!0&&(y===!0||n===!0)){let S=m+((v<10?":0":":")+v);return w+" "+S}return w}function su(e){let{date:t,always:n}=e;return a.jsx(a.Fragment,{children:n1(t,!0,n)})}/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}var rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rn||(rn={}));const bp="popstate";function r1(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:l,hash:o}=r.location;return yd("",{pathname:s,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mo(i)}return s1(t,n,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function i1(){return Math.random().toString(36).substr(2,8)}function jp(e,t){return{usr:e.state,key:e.key,idx:t}}function yd(e,t,n,r){return n===void 0&&(n=null),va({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?us(t):t,{state:n,key:t&&t.key||r||i1()})}function mo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function us(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function s1(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,o=rn.Pop,u=null,c=d();c==null&&(c=0,l.replaceState(va({},l.state,{idx:c}),""));function d(){return(l.state||{idx:null}).idx}function h(){o=rn.Pop;let S=d(),g=S==null?null:S-c;c=S,u&&u({action:o,location:w.location,delta:g})}function m(S,g){o=rn.Push;let f=yd(w.location,S,g);n&&n(f,S),c=d()+1;let p=jp(f,c),j=w.createHref(f);try{l.pushState(p,"",j)}catch{i.location.assign(j)}s&&u&&u({action:o,location:w.location,delta:1})}function v(S,g){o=rn.Replace;let f=yd(w.location,S,g);n&&n(f,S),c=d();let p=jp(f,c),j=w.createHref(f);l.replaceState(p,"",j),s&&u&&u({action:o,location:w.location,delta:0})}function y(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof S=="string"?S:mo(S);return rt(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let w={get action(){return o},get location(){return e(i,l)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(bp,h),u=S,()=>{i.removeEventListener(bp,h),u=null}},createHref(S){return t(i,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(S){return l.go(S)}};return w}var Sp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sp||(Sp={}));function a1(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?us(t):t,i=Uf(r.pathname||"/",n);if(i==null)return null;let s=sx(e);l1(s);let l=null;for(let o=0;l==null&&o<s.length;++o)l=y1(s[o],x1(i));return l}function sx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(rt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Or([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sx(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:m1(c,s.index),routesMeta:d})};return e.forEach((s,l)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,l);else for(let u of ax(s.path))i(s,l,u)}),t}function ax(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=ax(r.join("/")),o=[];return o.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function l1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:p1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o1=/^:\w+$/,u1=3,c1=2,d1=1,f1=10,h1=-2,kp=e=>e==="*";function m1(e,t){let n=e.split("/"),r=n.length;return n.some(kp)&&(r+=h1),t&&(r+=c1),n.filter(i=>!kp(i)).reduce((i,s)=>i+(o1.test(s)?u1:s===""?d1:f1),r)}function p1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function y1(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let l=0;l<n.length;++l){let o=n[l],u=l===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=v1({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let h=o.route;s.push({params:r,pathname:Or([i,d.pathname]),pathnameBase:S1(Or([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Or([i,d.pathnameBase]))}return s}function v1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=g1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let m=o[h]||"";l=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return c[d]=w1(o[h]||"",d),c},{}),pathname:s,pathnameBase:l,pattern:e}}function g1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,o)=>(r.push(o),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function x1(e){try{return decodeURI(e)}catch(t){return qf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function w1(e,t){try{return decodeURIComponent(e)}catch(n){return qf(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Uf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function b1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?us(e):e;return{pathname:n?n.startsWith("/")?n:j1(n,t):t,search:k1(r),hash:C1(i)}}function j1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ox(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=us(e):(i=va({},e),rt(!i.pathname||!i.pathname.includes("?"),lc("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),lc("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),lc("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,o;if(r||l==null)o=n;else{let h=t.length-1;if(l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}o=h>=0?t[h]:"/"}let u=b1(i,o),c=l&&l!=="/"&&l.endsWith("/"),d=(s||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Or=e=>e.join("/").replace(/\/\/+/g,"/"),S1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,C1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ux=["post","put","patch","delete"];new Set(ux);const N1=["get",...ux];new Set(N1);/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const I1=typeof Object.is=="function"?Object.is:D1,{useState:E1,useEffect:P1,useLayoutEffect:A1,useDebugValue:O1}=jc;function M1(e,t,n){const r=t(),[{inst:i},s]=E1({inst:{value:r,getSnapshot:t}});return A1(()=>{i.value=r,i.getSnapshot=t,oc(i)&&s({inst:i})},[e,r,t]),P1(()=>(oc(i)&&s({inst:i}),e(()=>{oc(i)&&s({inst:i})})),[e]),O1(r),r}function oc(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!I1(n,r)}catch{return!0}}function F1(e,t,n){return t()}const T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R1=!T1,L1=R1?F1:M1;"useSyncExternalStore"in jc&&(e=>e.useSyncExternalStore)(jc);const cx=E.createContext(null),au=E.createContext(null),cs=E.createContext(null),Da=E.createContext(null),$r=E.createContext({outlet:null,matches:[]}),dx=E.createContext(null);function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vd.apply(this,arguments)}function q1(e,t){let{relative:n}=t===void 0?{}:t;ds()||rt(!1);let{basename:r,navigator:i}=E.useContext(cs),{hash:s,pathname:l,search:o}=$f(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:Or([r,l])),i.createHref({pathname:u,search:o,hash:s})}function ds(){return E.useContext(Da)!=null}function Vr(){return ds()||rt(!1),E.useContext(Da).location}function fx(){return E.useContext(Da).navigationType}function Dn(){ds()||rt(!1);let{basename:e,navigator:t}=E.useContext(cs),{matches:n}=E.useContext($r),{pathname:r}=Vr(),i=JSON.stringify(lx(n).map(o=>o.pathnameBase)),s=E.useRef(!1);return E.useEffect(()=>{s.current=!0}),E.useCallback(function(o,u){if(u===void 0&&(u={}),!s.current)return;if(typeof o=="number"){t.go(o);return}let c=ox(o,JSON.parse(i),r,u.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:Or([e,c.pathname])),(u.replace?t.replace:t.push)(c,u.state,u)},[e,t,i,r])}const U1=E.createContext(null);function $1(e){let t=E.useContext($r).outlet;return t&&E.createElement(U1.Provider,{value:e},t)}function un(){let{matches:e}=E.useContext($r),t=e[e.length-1];return t?t.params:{}}function $f(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=E.useContext($r),{pathname:i}=Vr(),s=JSON.stringify(lx(r).map(l=>l.pathnameBase));return E.useMemo(()=>ox(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function V1(e,t){ds()||rt(!1);let{navigator:n}=E.useContext(cs),r=E.useContext(au),{matches:i}=E.useContext($r),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let o=s?s.pathnameBase:"/";s&&s.route;let u=Vr(),c;if(t){var d;let w=typeof t=="string"?us(t):t;o==="/"||(d=w.pathname)!=null&&d.startsWith(o)||rt(!1),c=w}else c=u;let h=c.pathname||"/",m=o==="/"?h:h.slice(o.length)||"/",v=a1(e,{pathname:m}),y=W1(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Or([o,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?o:Or([o,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return t&&y?E.createElement(Da.Provider,{value:{location:vd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:rn.Pop}},y):y}function z1(){let e=K1(),t=_1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,s)}class B1 extends E.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement($r.Provider,{value:this.props.routeContext},E.createElement(dx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y1(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(cx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement($r.Provider,{value:t},r)}function W1(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id]));s>=0||rt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,l,o)=>{let u=l.route.id?i==null?void 0:i[l.route.id]:null,c=null;n&&(l.route.ErrorBoundary?c=E.createElement(l.route.ErrorBoundary,null):l.route.errorElement?c=l.route.errorElement:c=E.createElement(z1,null));let d=t.concat(r.slice(0,o+1)),h=()=>{let m=s;return u?m=c:l.route.Component?m=E.createElement(l.route.Component,null):l.route.element&&(m=l.route.element),E.createElement(Y1,{match:l,routeContext:{outlet:s,matches:d},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||o===0)?E.createElement(B1,{location:n.location,component:c,error:u,children:h(),routeContext:{outlet:null,matches:d}}):h()},null)}var Cp;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Cp||(Cp={}));var po;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(po||(po={}));function H1(e){let t=E.useContext(au);return t||rt(!1),t}function Q1(e){let t=E.useContext($r);return t||rt(!1),t}function G1(e){let t=Q1(),n=t.matches[t.matches.length-1];return n.route.id||rt(!1),n.route.id}function K1(){var e;let t=E.useContext(dx),n=H1(po.UseRouteError),r=G1(po.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function X1(e){let{to:t,replace:n,state:r,relative:i}=e;ds()||rt(!1);let s=E.useContext(au),l=Dn();return E.useEffect(()=>{s&&s.navigation.state!=="idle"||l(t,{replace:n,state:r,relative:i})}),null}function hx(e){return $1(e.context)}function ie(e){rt(!1)}function Z1(e){let{basename:t="/",children:n=null,location:r,navigationType:i=rn.Pop,navigator:s,static:l=!1}=e;ds()&&rt(!1);let o=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:o,navigator:s,static:l}),[o,s,l]);typeof r=="string"&&(r=us(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:v="default"}=r,y=E.useMemo(()=>{let w=Uf(c,o);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:v},navigationType:i}},[o,c,d,h,m,v,i]);return y==null?null:E.createElement(cs.Provider,{value:u},E.createElement(Da.Provider,{children:n,value:y}))}function Vf(e){let{children:t,location:n}=e,r=E.useContext(cx),i=r&&!t?r.router.routes:gd(t);return V1(i,n)}var _p;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(_p||(_p={}));new Promise(()=>{});function gd(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;if(r.type===E.Fragment){n.push.apply(n,gd(r.props.children,t));return}r.type!==ie&&rt(!1),!r.props.index||!r.props.children||rt(!1);let s=[...t,i],l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=gd(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(this,arguments)}function mx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function J1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ek(e,t){return e.button===0&&(!t||t==="_self")&&!J1(e)}const tk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],nk=["aria-current","caseSensitive","className","end","style","to","children"];function rk(e){let{basename:t,children:n,window:r}=e,i=E.useRef();i.current==null&&(i.current=r1({window:r,v5Compat:!0}));let s=i.current,[l,o]=E.useState({action:s.action,location:s.location});return E.useLayoutEffect(()=>s.listen(o),[s]),E.createElement(Z1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s})}const ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:o,target:u,to:c,preventScrollReset:d}=t,h=mx(t,tk),{basename:m}=E.useContext(cs),v,y=!1;if(typeof c=="string"&&sk.test(c)&&(v=c,ik)){let f=new URL(window.location.href),p=c.startsWith("//")?new URL(f.protocol+c):new URL(c),j=Uf(p.pathname,m);p.origin===f.origin&&j!=null?c=j+p.search+p.hash:y=!0}let w=q1(c,{relative:i}),S=lk(c,{replace:l,state:o,target:u,preventScrollReset:d,relative:i});function g(f){r&&r(f),f.defaultPrevented||S(f)}return E.createElement("a",yo({},h,{href:v||w,onClick:y||s?r:g,ref:n,target:u}))}),ak=E.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:l=!1,style:o,to:u,children:c}=t,d=mx(t,nk),h=$f(u,{relative:d.relative}),m=Vr(),v=E.useContext(au),{navigator:y}=E.useContext(cs),w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,S=m.pathname,g=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),g=g?g.toLowerCase():null,w=w.toLowerCase());let f=S===w||!l&&S.startsWith(w)&&S.charAt(w.length)==="/",p=g!=null&&(g===w||!l&&g.startsWith(w)&&g.charAt(w.length)==="/"),j=f?r:void 0,b;typeof s=="function"?b=s({isActive:f,isPending:p}):b=[s,f?"active":null,p?"pending":null].filter(Boolean).join(" ");let k=typeof o=="function"?o({isActive:f,isPending:p}):o;return E.createElement(xe,yo({},d,{"aria-current":j,className:b,ref:n,style:k,to:u}),typeof c=="function"?c({isActive:f,isPending:p}):c)});var Np;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Np||(Np={}));var Dp;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dp||(Dp={}));function lk(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l}=t===void 0?{}:t,o=Dn(),u=Vr(),c=$f(e,{relative:l});return E.useCallback(d=>{if(ek(d,n)){d.preventDefault();let h=r!==void 0?r:mo(u)===mo(c);o(e,{replace:h,state:i,preventScrollReset:s,relative:l})}},[u,o,c,r,i,n,e,s,l])}class CR extends re.Component{constructor(n){super(n);x(this,"menu");x(this,"button");x(this,"handleDocumentClick",n=>{document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("touchstart",this.handleDocumentClick),this.state.dropdownOpen!==!1&&this.menu&&this.toggle()});x(this,"toggle",()=>{let{dropdownOpen:n}=this.state;n=!n,this.setState({dropdownOpen:n}),n===!0&&setTimeout(()=>{document.addEventListener("click",this.handleDocumentClick),document.addEventListener("touchstart",this.handleDocumentClick)},10)});this.state={dropdownOpen:!1}}render(){let{icon:n,content:r,actions:i,isRight:s,className:l,containerClass:o,itemIconClass:u,itemCaptionClass:c}=this.props;o=o??"",s===void 0&&(s=!0);let d=i.some(y=>y?y.icon!==void 0:!1),{dropdownOpen:h}=this.state,m=l??"cursor-pointer dropdown-toggle btn btn-sm",v="dropdown-menu";return s===!0&&(v+=" dropend dropdown-menu-end"),h===!0&&(v+=" show"),a.jsxs("div",{className:"btn-group "+o,children:[a.jsxs("button",{ref:y=>this.button=y,className:m,"data-toggle":"dropdown","aria-expanded":h,onClick:this.toggle,children:[n!==null&&a.jsx("i",{className:"fa fa-fw fa-"+(n??"ellipsis-v")}),r&&a.jsx("span",{className:"ms-1",children:r})]}),a.jsx("div",{ref:y=>this.menu=y,className:v,children:i.map((y,w)=>{if(!y)return a.jsx("div",{className:"dropdown-divider"},w);let{icon:S,caption:g,action:f,iconClass:p,captionClass:j}=y;if(S===void 0&&g===void 0)return a.jsx("div",{className:"dropdown-divider"});let b;if(d===!0&&(S!==void 0&&(S="fa-"+S),p||(p="text-info"),b=a.jsx("i",{className:"me-2  fa-fw fa "+S+" "+p,"aria-hidden":!0})),f===void 0)return a.jsxs("h6",{className:"dropdown-header",children:[b," ",g]});let k=a.jsxs(a.Fragment,{children:[b," ",a.jsx("span",{className:j||c,children:g})]});if(typeof f=="function"){let _=N=>{N.preventDefault(),f(y)},C=N=>{f(y)};return a.jsx("a",{className:"dropdown-item",href:"#/",onClick:_,onTouchStart:C,children:k},w)}else{let _=f;return a.jsx(xe,{className:"dropdown-item",to:_,children:k},w)}})})]})}}const ok=3,uk=" py-1 tonwa-bg-gray-1 fw-bold col-form-label border-end",ck=" ";function dk({children:e}){return a.jsx(a.Fragment,{children:e})}function fk({children:e}){return a.jsx(a.Fragment,{children:e})}function hk({children:e}){return a.jsx(a.Fragment,{children:e})}function ga({className:e,labelSize:t,labelAlign:n,labelClassName:r,LabelContainer:i,midClassName:s,MidContainer:l,RightContainer:o,vAlign:u,to:c,children:d}){t=t??ok;let h;i?h="":h=`justify-content-sm-${n??"end"}`,r=r??uk,s=s??ck;let m="align-items-"+(u??"center"),v=re.Children.toArray(d),y=v.length;if(y<2)return a.jsx("div",{className:"text-danger",children:"children count must > 2"});i=i??dk,l=l??fk,o=o??hk;let w,S;y>2?(S=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-fill"}),a.jsx(o,{children:v[y-1]})]}),w=y-1):w=2;let g=v.slice(1,w),f="row mx-0 "+(e??"bg-white"),p=a.jsxs("div",{className:f,children:[a.jsx("div",{className:`col-sm-${t} d-flex ${m} ${h} ${r}`,children:a.jsx(i,{children:v[0]})}),a.jsxs("div",{className:`col-sm-${12-t} gx-0 d-flex ${m} ${s}`,children:[a.jsx(l,{children:g.map((j,b)=>a.jsx(re.Fragment,{children:j},b))}),S]})]});return c?a.jsx(xe,{to:c,children:p}):p}const mk="form-control",pk="form-check-input",yk="form-select",vk="form-control",gk="form-range";class px{constructor(t){x(this,"valueAtoms");x(this,"defaultStringClassName",mk);x(this,"defaultCheckClassName",pk);x(this,"defaultSelectClassName",yk);x(this,"defaultPickClassName",vk);x(this,"defaultRangeClassName",gk);x(this,"defaultNone","-");x(this,"fields");x(this,"fieldStates");x(this,"bands");x(this,"BandTemplate");x(this,"props");x(this,"readOnly");x(this,"onValuesChanged",async t=>{var n,r;for(let i in t){let s=t[i],l=this.getValue(i);s!==l&&(await((r=(n=this.props).onValuesChanged)==null?void 0:r.call(n,{name:i,value:s,preValue:l},this)),this.setValue(i,s))}});let{values:n,BandTemplate:r,readOnly:i}=t;if(this.bands=[],this.BandTemplate=r,this.props=t,this.readOnly=i,this.valueAtoms={},n)for(let l in n)this.valueAtoms[l]=ze(n[l]);this.fields={},this.fieldStates={};let s=l=>{re.Children.forEach(l,o=>{if(!o||re.isValidElement(o)===!1)return;let u=o,{props:c}=u;if(c){let{name:d}=c;d&&(this.fieldStates[d]=ze({readOnly:!1,disabled:!1})),s(c.children)}})};s(t.children)}getValue(t){let n=this.valueAtoms[t];if(n)return ye(n)}getAtom(t){return this.valueAtoms[t]}setValue(t,n){let r=this.valueAtoms[t];r?oe(r,n):this.valueAtoms[t]=ze(n);let i={};i[t]=n,this.onValuesChanged(i)}getValues(){let t={};for(let n in this.valueAtoms)t[n]=ye(this.valueAtoms[n]);return t}setError(t,n){let r=!1;for(let i of this.bands)i.setError(t,n)!==!1&&(r=!0);return r}clearError(t){for(let n of this.bands)n.clearError(t)}clearAllErrors(){for(let t of this.bands)t.clearAllErrors()}setReadonly(t,n){let r=this.fieldStates[t],i=ye(r);i&&oe(r,{...i,readOnly:n})}setDisabled(t,n){let r=this.fieldStates[t],i=ye(r);i&&oe(r,{...i,disabled:n})}}const zf=re.createContext(void 0);function fs(){return E.useContext(zf)}var xd=(e=>(e[e.check=0]="check",e[e.com=1]="com",e))(xd||{});function yx({error:e}){return a.jsxs("div",{className:"px-2 py-1 small",children:[a.jsx(J,{name:"exclamation-circle",className:"me-2 text-danger"}),a.jsx("span",{className:"text-info",children:e})]})}function lu({errors:e}){if(!e||e.length===0)return null;let t=[];for(let n of e){let{error:r}=n;t.findIndex(s=>s===r)<0&&t.push(r)}return a.jsx(a.Fragment,{children:t.map((n,r)=>a.jsx(yx,{error:n},r))})}function xk({memo:e}){return typeof e=="string"?a.jsxs("div",{className:"px-2 py-1 small text-muted",children:[a.jsx(J,{name:"caret-right",className:"me-2"}),e]}):e}function ou({memos:e}){return e?a.jsx(a.Fragment,{children:e.map((t,n)=>a.jsx(xk,{memo:t},n))}):null}function wk(e){let t=[];function n(r){re.Children.forEach(r,i=>{if(!i||re.isValidElement(i)===!1)return;let s=i,{props:l}=s;if(l){let{memo:o}=l;o&&typeof o=="string"&&t.push(o),n(l.children)}})}if(n(e),t.length!==0)return t}function bk(e){let t=!0;function n(r){let i=[];return re.Children.forEach(r,s=>{if(s.type===re.Fragment)debugger;if(re.isValidElement(s)===!1){i.push(s);return}let l=s,{props:o}=l;if(o){let{key:u}=l,{name:c,options:d}=o;if(o.readOnly!==!0&&(t=!1),c){i.push(a.jsx(jk,{name:c,options:d},u));return}}r!==s&&i.push(re.createElement(l.type,o,...n(l)))}),i}return[n(e),t]}function jk({name:e,options:t}){let n=fs(),{defaultNone:r}=n,i=je(n.getAtom(e));if(t&&i){let s=t.find(l=>l.value===i);s&&(i=s.label)}return a.jsx("div",{className:"py-2",children:i??r})}function mt(e){let{label:t,labelSize:n,children:r,BandTemplate:i,sep:s,contentType:l,pageEdit:o,toEdit:u,rightIcon:c,contentContainerClassName:d}=e,h=r,m=fs();n=m.props.labelSize;let v=wk(r),{current:y}=E.useRef(new XS(m,v)),w=je(y.errors);if(!m)return a.jsxs("div",{children:["Error: ","<Band /> can only be in <Form />"]});switch(i=i??m.BandTemplate,l){case 1:break;default:if(m.isDetail===!0)switch(l){case 0:r=a.jsx("div",{className:"py-2",children:r});break;default:let[S,g]=bk(r);r=a.jsx(a.Fragment,{children:S}),(g===!0||m.readOnly===!0)&&(y.readOnly=!0);break}break}return a.jsx(Jg.Provider,{value:y,children:a.jsx(i,{label:t,labelSize:n,errors:w,memos:y.memos,content:h,sep:s,contentType:l,pageEdit:o,rightIcon:c,toEdit:u,contentContainerClassName:d,children:r})})}function wd(e){return a.jsx(mt,{...e,contentType:1,children:e.children})}class Sk extends px{constructor(){super(...arguments);x(this,"errorResponse",ze({hasError:!1,errors:void 0}))}get isDetail(){return!1}setError(n,r){if(!r)return;let i,s;return Array.isArray(r)===!1&&(r=[r]),n?s=super.setError(n,r):r&&r.length>0&&(i=[...r],s=!0),oe(this.errorResponse,{hasError:s,errors:i}),s}clearError(n){super.clearError(n),oe(this.errorResponse,{hasError:!1,errors:void 0})}clearAllErrors(){super.clearAllErrors(),oe(this.errorResponse,{hasError:!1,errors:void 0})}clearValues(){for(let n in this.valueAtoms)this.setValue(n,void 0);for(let n in this.fields)this.fields[n].reset();this.clearAllErrors()}}const vx=re.createContext(void 0);function gx(){return E.useContext(vx)}function kk(e){let{label:t,labelSize:n,children:r,errors:i,memos:s,contentContainerClassName:l}=e;n=n??2;let o,u=`col-sm-${12-n} ${l??""}`;return t?o=a.jsx("label",{className:`col-sm-${n} col-form-label text-sm-end`,children:a.jsx("b",{children:t})}):u+=" offset-sm-2",a.jsxs("div",{className:"mb-3 row bg-white",children:[o,a.jsxs("div",{className:u,children:[r,a.jsx(lu,{errors:i}),a.jsx(ou,{memos:s})]})]})}function pi(e){let{className:t,children:n,BandTemplate:r}=e;r=r??kk;let{current:i}=E.useRef(new Sk({...e,BandTemplate:r}));function s(l){l.preventDefault()}return a.jsx(vx.Provider,{value:i,children:a.jsx(zf.Provider,{value:i,children:a.jsx("form",{className:t,onSubmit:s,children:n})})})}function xx(){let e=gx(),{errors:t}=je(e.errorResponse);return t?a.jsx(a.Fragment,{children:t.map((n,r)=>a.jsx(yx,{error:n},r))}):null}function wx(e,t){if(!t)return;let n=[];function r(i){let s=i(e);s&&(Array.isArray(s)===!0?n.push(...s):n.push(s))}if(Array.isArray(t)===!0)for(let i of t)r(i);else r(t);if(n.length>0)return n}function bd(e){if(!e.trim())return ii[De.rule_required]}class Ck{constructor(t,n,r){x(this,"name");x(this,"input");x(this,"initValue");this.name=t,this.input=n,this.initValue=r}reset(){this.input&&(this.input.value=this.initValue??"")}}function Bf(e){var i;let t=fs(),{name:n}=e,r=(i=t==null?void 0:t.props.values)==null?void 0:i[n];return a.jsx(_k,{...e,initValue:r})}function _k({name:e,className:t,readOnly:n,placeholder:r,maxLength:i,rule:s,isValidKey:l,initValue:o,type:u,disabled:c}){let d=E.useRef(),[h,m]=E.useState(!1),v=ex(),y=fs(),{props:w,fields:S,fieldStates:g}=y,f=je(g[e]);n=n??(f==null?void 0:f.readOnly)??w.readOnly??!1,E.useEffect(()=>{var I;if(!v)return;let{fields:C}=v;C[e]=!0;let{props:N,fieldStates:D}=y;S[e]=new Ck(e,d.current,(I=N.values)==null?void 0:I[e]),Object.assign(D[e],{readOnly:n,disabled:c})},[v,y,e,S,c,n]);let p=t??w.stringClassName??y.defaultStringClassName??"";if(h===!0&&(p+=" is-invalid"),n===!0)return a.jsx("div",{className:p+" bg-light text-muted",children:o??y.defaultNone});let j=()=>{y.clearError(e),m(!1)},b=()=>{let C=wx(d.current.value,s);y.setError(e,C),m(C!==void 0)},k=C=>{y.setValue(e,C.currentTarget.value)},_=C=>{if(!l)return!0;if(l(C.data)===!1)return C.preventDefault(),!1};return a.jsx("input",{ref:d,name:e,type:u??"text",className:p,disabled:f==null?void 0:f.disabled,readOnly:n,onFocus:j,onBlur:b,onBeforeInput:_,onChange:k,placeholder:r,maxLength:i,defaultValue:o})}function Nk(e){let{placeholder:t,maxLength:n}=e;return a.jsx(Bf,{placeholder:t,maxLength:n,...e})}function Ia(e){return a.jsx(mt,{...e,children:a.jsx(Nk,{...e})})}function Dk(e){let{placeholder:t,maxLength:n}=e;return a.jsx(Bf,{placeholder:t,maxLength:n,...e,type:"password"})}function Wi(e){return a.jsx(mt,{...e,children:a.jsx(Dk,{...e})})}function Ik(e,...t){let n=[...t];return e&&n.push(...Array.isArray(e)===!0?e:[e]),n}function Ek(e,t){if(e=e.trim(),e.length===0)return;let n=Number.parseFloat(e);if(isNaN(n)===!0||e.indexOf("+")>0||e.indexOf("-")>0)return!1;let r=String(n),i=t.length;for(let s=0;s<i;s++){let l=t[s];if(r.indexOf(l)>=0)return!1}return!0}function Pk(e,t){if(t==null)return!1;let n=Number.parseFloat(e);return isNaN(n)===!0?!1:n<t}function Ak(e,t){if(t==null)return!1;let n=Number.parseFloat(e);return isNaN(n)===!0?!1:n>t}const bx="01234567890-+",Ok=bx+".";function jx(e){let{placeholder:t,maxLength:n,rule:r,min:i,max:s,chars:l,excludeChars:o}=e;function u(m){return l.indexOf(m)>=0}function c(m){if(Ek(m,o)===!1)return ii[De.rule_mustBeDecimal]}function d(m){if(Pk(m,i)===!0)return ii[De.rule_belowMin]+i}function h(m){if(Ak(m,s)===!0)return ii[De.rule_overMax]+s}return a.jsx(Bf,{placeholder:t,maxLength:n,isValidKey:u,rule:Ik(r,c,d,h),...e})}function Mk(e){return a.jsx(jx,{...e,chars:Ok,excludeChars:"e"})}function Fk(e){return a.jsx(mt,{...e,children:a.jsx(Mk,{...e})})}function Tk(e){return a.jsx(jx,{...e,chars:bx,excludeChars:".e"})}function Rk(e){return a.jsx(mt,{...e,children:a.jsx(Tk,{...e})})}class Lk{constructor(t,n){x(this,"name");this.name=t}reset(){}}function yi({name:e,className:t,children:n,onSubmit:r,disabled:i}){let s=gx(),[l,o]=Mf(s.errorResponse),u=fs(),{fields:c,fieldStates:d}=u,{current:h}=E.useRef(ze({readOnly:!1,disabled:i})),m=je(e?d[e]:h);t=t??"btn btn-primary",n=n??a.jsxs(a.Fragment,{children:[a.jsx(J,{name:"share-square-o"})," ",ii[De.string_submit]]}),E.useEffect(()=>{e&&(c[e]=new Lk(e,i),Object.assign(d[e],{readOnly:void 0,disabled:i}))},[c,d,e,i]);async function v(y){y.preventDefault();let{props:w}=s,{rule:S}=w,g=s.getValues(),f=[];for(let p in g)wx(g[p],S);if(f.length>0)o({errors:f,hasError:!0});else{let p=await r(s.getValues());if(p)switch(typeof p){default:if(Array.isArray(p)===!0)for(let j of p)if(!j)s.clearAllErrors();else if(Array.isArray(j)===!0){let[b,k]=j;s.setError(b,k)}else s.setError(void 0,p);break;case"string":s.setError(void 0,p);break}else s.clearAllErrors()}}return a.jsx(mi,{onClick:v,disabled:(m.disabled??!1)||l.hasError,className:t,children:n})}function Be(e){let[t,n]=E.useState(!1),{items:r,className:i,itemKey:s,ViewItem:l,onItemClick:o,onItemSelect:u,sep:c,none:d,loading:h,itemBan:m}=e;if(i=i??"",E.useEffect(()=>{setTimeout(()=>{n(!0)},200)},[]),r===null)return null;if(r===void 0)return t===!1?null:h||a.jsx("div",{className:"mx-3 my-2",children:a.jsx(Ff,{})});let v=r.length;if(v===0)return d===void 0&&(d=a.jsx("div",{className:"mx-3 my-2 text-muted",children:"-"})),d;l=l??qk;let y;function w(f,p){u(f,p.currentTarget.checked)}let S;o&&(S=async f=>{await o(f)}),u?S?y=(f,p,j)=>a.jsxs("div",{className:"d-flex",children:[a.jsx("label",{className:"ps-3 pe-2 align-self-stretch d-flex align-items-center",children:a.jsx("input",{type:"checkbox",className:"form-check-input",onChange:b=>w(f,b)})}),a.jsx("div",{className:"flex-grow-1 cursor-pointer",onClick:()=>S(f),children:a.jsx(l,{value:f,index:p})})]}):y=(f,p,j)=>{let b,k,_;return m!==void 0&&(k=m(f)),k!==void 0?(b=!0,_=a.jsx("div",{className:"text-danger small",children:k})):b=!1,a.jsxs("div",{className:"form-check mx-3",children:[a.jsx("input",{type:"checkbox",disabled:b,className:"mt-2 form-check-input",id:j,onChange:C=>w(f,C)}),a.jsxs("label",{className:"form-check-label w-100 ms-1",htmlFor:j,children:[a.jsx(l,{value:f,index:p}),_]})]})}:(S&&(i+=" tonwa-list-item"),y=(f,p)=>{let j,b;return S&&(j=()=>S(f),b="tonwa-list-item cursor-pointer"),a.jsx("div",{onClick:j,className:b,children:a.jsx(l,{value:f,index:p})})}),c=a.jsx(ge,{sep:c});let g;switch(typeof s){default:g=(f,p)=>p;break;case"string":g=f=>f[s];break;case"function":g=s;break}return a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"m-0 p-0 "+i,children:r.map((f,p)=>{let j=g(f,p);return a.jsxs(re.Fragment,{children:[y(f,p,j),p<v-1&&c]},j)})}),c]})}function qk(e){let{value:t}=e,n="px-3 py-2";return a.jsx("div",{className:n,children:JSON.stringify(t)})}function jd(e,t){return jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jd(e,t)}function Ea(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jd(e,t)}var Pa=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(l){return l!==s}),i.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}var vo=typeof window>"u";function bt(){}function Uk(e,t){return typeof e=="function"?e(t):e}function Sd(e){return typeof e=="number"&&e>=0&&e!==1/0}function go(e){return Array.isArray(e)?e:[e]}function Sx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Al(e,t,n){return uu(e)?typeof t=="function"?Ie({},n,{queryKey:e,queryFn:t}):Ie({},t,{queryKey:e}):e}function vr(e,t,n){return uu(e)?[Ie({},t,{queryKey:e}),n]:[e||{},t]}function $k(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function Ip(e,t){var n=e.active,r=e.exact,i=e.fetching,s=e.inactive,l=e.predicate,o=e.queryKey,u=e.stale;if(uu(o)){if(r){if(t.queryHash!==Yf(o,t.options))return!1}else if(!xo(t.queryKey,o))return!1}var c=$k(n,s);if(c==="none")return!1;if(c!=="all"){var d=t.isActive();if(c==="active"&&!d||c==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||typeof i=="boolean"&&t.isFetching()!==i||l&&!l(t))}function Ep(e,t){var n=e.exact,r=e.fetching,i=e.predicate,s=e.mutationKey;if(uu(s)){if(!t.options.mutationKey)return!1;if(n){if(Jr(t.options.mutationKey)!==Jr(s))return!1}else if(!xo(t.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function Yf(e,t){var n=(t==null?void 0:t.queryKeyHashFn)||Jr;return n(e)}function Jr(e){var t=go(e);return Vk(t)}function Vk(e){return JSON.stringify(e,function(t,n){return kd(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function xo(e,t){return kx(go(e),go(t))}function kx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!kx(e[n],t[n])}):!1}function wo(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||kd(e)&&kd(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),s=i.length,l=n?[]:{},o=0,u=0;u<s;u++){var c=n?u:i[u];l[c]=wo(e[c],t[c]),l[c]===e[c]&&o++}return r===s&&o===r?e:l}return t}function zk(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function kd(e){if(!Pp(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!Pp(n)||!n.hasOwnProperty("isPrototypeOf"))}function Pp(e){return Object.prototype.toString.call(e)==="[object Object]"}function uu(e){return typeof e=="string"||Array.isArray(e)}function Bk(e){return new Promise(function(t){setTimeout(t,e)})}function Ap(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function Cx(){if(typeof AbortController=="function")return new AbortController}var Yk=function(e){Ea(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(i){var s;if(!vo&&((s=window)!=null&&s.addEventListener)){var l=function(){return i()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,l=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(o){typeof o=="boolean"?l.setFocused(o):l.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(Pa),Ks=new Yk,Wk=function(e){Ea(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(i){var s;if(!vo&&((s=window)!=null&&s.addEventListener)){var l=function(){return i()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,l=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(o){typeof o=="boolean"?l.setOnline(o):l.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(Pa),Ol=new Wk;function Hk(e){return Math.min(1e3*Math.pow(2,e),3e4)}function bo(e){return typeof(e==null?void 0:e.cancel)=="function"}var _x=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Ml(e){return e instanceof _x}var Nx=function(t){var n=this,r=!1,i,s,l,o;this.abort=t.abort,this.cancel=function(m){return i==null?void 0:i(m)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,v){l=m,o=v});var u=function(v){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(v),s==null||s(),l(v))},c=function(v){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(v),s==null||s(),o(v))},d=function(){return new Promise(function(v){s=v,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){s=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},h=function m(){if(!n.isResolved){var v;try{v=t.fn()}catch(y){v=Promise.reject(y)}i=function(w){if(!n.isResolved&&(c(new _x(w)),n.abort==null||n.abort(),bo(v)))try{v.cancel()}catch{}},n.isTransportCancelable=bo(v),Promise.resolve(v).then(u).catch(function(y){var w,S;if(!n.isResolved){var g=(w=t.retry)!=null?w:3,f=(S=t.retryDelay)!=null?S:Hk,p=typeof f=="function"?f(n.failureCount,y):f,j=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,y);if(r||!j){c(y);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,y),Bk(p).then(function(){if(!Ks.isFocused()||!Ol.isOnline())return d()}).then(function(){r?c(y):m()})}})}};h()},Qk=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},t.schedule=function(r){var i=this;this.transactions?this.queue.push(r):Ap(function(){i.notifyFn(r)})},t.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];i.schedule(function(){r.apply(void 0,l)})}},t.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&Ap(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e}(),Ke=new Qk,Dx=console;function jo(){return Dx}function Gk(e){Dx=e}var Kk=function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var i;this.options=Ie({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),Sd(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,i){var s,l,o=this.state.data,u=Uk(r,o);return(s=(l=this.options).isDataEqual)!=null&&s.call(l,o,u)?u=o:this.options.structuralSharing!==!1&&(u=wo(o,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),u},t.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},t.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(bt).catch(bt):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Sx(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,i){var s=this,l,o,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(f){return f.options.queryFn});d&&this.setOptions(d.options)}var h=go(this.queryKey),m=Cx(),v={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(v,"signal",{enumerable:!0,get:function(){if(m)return s.abortSignalConsumed=!0,m.signal}});var y=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(v)):Promise.reject("Missing queryFn")},w={fetchOptions:i,options:this.options,queryKey:h,state:this.state,fetchFn:y,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var S;(S=this.options.behavior)==null||S.onFetch(w)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=w.fetchOptions)==null?void 0:o.meta)){var g;this.dispatch({type:"fetch",meta:(g=w.fetchOptions)==null?void 0:g.meta})}return this.retryer=new Nx({fn:w.fetchFn,abort:m==null||(u=m.abort)==null?void 0:u.bind(m),onSuccess:function(p){s.setData(p),s.cache.config.onSuccess==null||s.cache.config.onSuccess(p,s),s.cacheTime===0&&s.optionalRemove()},onError:function(p){Ml(p)&&p.silent||s.dispatch({type:"error",error:p}),Ml(p)||(s.cache.config.onError==null||s.cache.config.onError(p,s),jo().error(p)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Ke.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",l=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,o=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:o?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},t.reducer=function(r,i){var s,l;switch(i.type){case"failed":return Ie({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Ie({},r,{isPaused:!0});case"continue":return Ie({},r,{isPaused:!1});case"fetch":return Ie({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ie({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(l=i.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=i.error;return Ml(o)&&o.revert&&this.revertState?Ie({},this.revertState):Ie({},r,{error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ie({},r,{isInvalidated:!0});case"setState":return Ie({},r,i.state);default:return r}},e}(),Xk=function(e){Ea(t,e);function t(r){var i;return i=e.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=t.prototype;return n.build=function(i,s,l){var o,u=s.queryKey,c=(o=s.queryHash)!=null?o:Yf(u,s),d=this.get(c);return d||(d=new Kk({cache:this,queryKey:u,queryHash:c,options:i.defaultQueryOptions(s),state:l,defaultOptions:i.getQueryDefaults(u),meta:s.meta}),this.add(d)),d},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(l){return l!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Ke.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var l=vr(i,s),o=l[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(u){return Ip(o,u)})},n.findAll=function(i,s){var l=vr(i,s),o=l[0];return Object.keys(o).length>0?this.queries.filter(function(u){return Ip(o,u)}):this.queries},n.notify=function(i){var s=this;Ke.batch(function(){s.listeners.forEach(function(l){l(i)})})},n.onFocus=function(){var i=this;Ke.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;Ke.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},t}(Pa),Zk=function(){function e(n){this.options=Ie({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||Jk(),this.meta=n.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(bt).catch(bt)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,i,s=this.state.status==="loading",l=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(o){o!==r.state.context&&r.dispatch({type:"loading",context:o,variables:r.state.variables})})),l.then(function(){return r.executeMutation()}).then(function(o){i=o,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(o){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(o,r.state.variables,r.state.context,r),jo().error(o),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(o,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,o,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:o}),o})})},t.executeMutation=function(){var r=this,i;return this.retryer=new Nx({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var i=this;this.state=eC(this.state,r),Ke.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},e}();function Jk(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function eC(e,t){switch(t.type){case"failed":return Ie({},e,{failureCount:e.failureCount+1});case"pause":return Ie({},e,{isPaused:!0});case"continue":return Ie({},e,{isPaused:!1});case"loading":return Ie({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return Ie({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return Ie({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ie({},e,t.state);default:return e}}var tC=function(e){Ea(t,e);function t(r){var i;return i=e.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=t.prototype;return n.build=function(i,s,l){var o=new Zk({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:l,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(o),o},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Ke.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return Ep(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return Ep(i,s)})},n.notify=function(i){var s=this;Ke.batch(function(){s.listeners.forEach(function(l){l(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Ke.batch(function(){return i.reduce(function(s,l){return s.then(function(){return l.continue().catch(bt)})},Promise.resolve())})},t}(Pa);function nC(){return{onFetch:function(t){t.fetchFn=function(){var n,r,i,s,l,o,u=(n=t.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(i=t.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,d=c==null?void 0:c.pageParam,h=(c==null?void 0:c.direction)==="forward",m=(c==null?void 0:c.direction)==="backward",v=((l=t.state.data)==null?void 0:l.pages)||[],y=((o=t.state.data)==null?void 0:o.pageParams)||[],w=Cx(),S=w==null?void 0:w.signal,g=y,f=!1,p=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},j=function(F,q,z,W){return g=W?[q].concat(g):[].concat(g,[q]),W?[z].concat(F):[].concat(F,[z])},b=function(F,q,z,W){if(f)return Promise.reject("Cancelled");if(typeof z>"u"&&!q&&F.length)return Promise.resolve(F);var O={queryKey:t.queryKey,signal:S,pageParam:z,meta:t.meta},R=p(O),B=Promise.resolve(R).then(function(ae){return j(F,z,ae,W)});if(bo(R)){var ee=B;ee.cancel=R.cancel}return B},k;if(!v.length)k=b([]);else if(h){var _=typeof d<"u",C=_?d:Op(t.options,v);k=b(v,_,C)}else if(m){var N=typeof d<"u",D=N?d:rC(t.options,v);k=b(v,N,D,!0)}else(function(){g=[];var M=typeof t.options.getNextPageParam>"u",F=u&&v[0]?u(v[0],0,v):!0;k=F?b([],M,y[0]):Promise.resolve(j([],y[0],v[0]));for(var q=function(O){k=k.then(function(R){var B=u&&v[O]?u(v[O],O,v):!0;if(B){var ee=M?y[O]:Op(t.options,R);return b(R,M,ee)}return Promise.resolve(j(R,y[O],v[O]))})},z=1;z<v.length;z++)q(z)})();var I=k.then(function(M){return{pages:M,pageParams:g}}),A=I;return A.cancel=function(){f=!0,w==null||w.abort(),bo(k)&&k.cancel()},I}}}}function Op(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function rC(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var iC=function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new Xk,this.mutationCache=n.mutationCache||new tC,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=Ks.subscribe(function(){Ks.isFocused()&&Ol.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Ol.subscribe(function(){Ks.isFocused()&&Ol.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},t.isFetching=function(r,i){var s=vr(r,i),l=s[0];return l.fetching=!0,this.queryCache.findAll(l).length},t.isMutating=function(r){return this.mutationCache.findAll(Ie({},r,{fetching:!0})).length},t.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,l=i.state,o=l.data;return[s,o]})},t.setQueryData=function(r,i,s){var l=Al(r),o=this.defaultQueryOptions(l);return this.queryCache.build(this,o).setData(i,s)},t.setQueriesData=function(r,i,s){var l=this;return Ke.batch(function(){return l.getQueryCache().findAll(r).map(function(o){var u=o.queryKey;return[u,l.setQueryData(u,i,s)]})})},t.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},t.removeQueries=function(r,i){var s=vr(r,i),l=s[0],o=this.queryCache;Ke.batch(function(){o.findAll(l).forEach(function(u){o.remove(u)})})},t.resetQueries=function(r,i,s){var l=this,o=vr(r,i,s),u=o[0],c=o[1],d=this.queryCache,h=Ie({},u,{active:!0});return Ke.batch(function(){return d.findAll(u).forEach(function(m){m.reset()}),l.refetchQueries(h,c)})},t.cancelQueries=function(r,i,s){var l=this,o=vr(r,i,s),u=o[0],c=o[1],d=c===void 0?{}:c;typeof d.revert>"u"&&(d.revert=!0);var h=Ke.batch(function(){return l.queryCache.findAll(u).map(function(m){return m.cancel(d)})});return Promise.all(h).then(bt).catch(bt)},t.invalidateQueries=function(r,i,s){var l,o,u,c=this,d=vr(r,i,s),h=d[0],m=d[1],v=Ie({},h,{active:(l=(o=h.refetchActive)!=null?o:h.active)!=null?l:!0,inactive:(u=h.refetchInactive)!=null?u:!1});return Ke.batch(function(){return c.queryCache.findAll(h).forEach(function(y){y.invalidate()}),c.refetchQueries(v,m)})},t.refetchQueries=function(r,i,s){var l=this,o=vr(r,i,s),u=o[0],c=o[1],d=Ke.batch(function(){return l.queryCache.findAll(u).map(function(m){return m.fetch(void 0,Ie({},c,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),h=Promise.all(d).then(bt);return c!=null&&c.throwOnError||(h=h.catch(bt)),h},t.fetchQuery=function(r,i,s){var l=Al(r,i,s),o=this.defaultQueryOptions(l);typeof o.retry>"u"&&(o.retry=!1);var u=this.queryCache.build(this,o);return u.isStaleByTime(o.staleTime)?u.fetch(o):Promise.resolve(u.state.data)},t.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(bt).catch(bt)},t.fetchInfiniteQuery=function(r,i,s){var l=Al(r,i,s);return l.behavior=nC(),this.fetchQuery(l)},t.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(bt).catch(bt)},t.cancelMutations=function(){var r=this,i=Ke.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(bt).catch(bt)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(l){return Jr(r)===Jr(l.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},t.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return xo(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},t.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(l){return Jr(r)===Jr(l.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},t.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return xo(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Ie({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Yf(i.queryKey,i)),i},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Ie({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),sC=function(e){Ea(t,e);function t(r,i){var s;return s=e.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Mp(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Cd(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Cd(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var l=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=l.queryKey),this.updateQuery();var u=this.hasListeners();u&&Fp(this.currentQuery,o,this.options,l)&&this.executeFetch(),this.updateResult(s),u&&(this.currentQuery!==o||this.options.enabled!==l.enabled||this.options.staleTime!==l.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();u&&(this.currentQuery!==o||this.options.enabled!==l.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),l=this.client.getQueryCache().build(this.client,s);return this.createResult(l,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var l=this,o={},u=function(d){l.trackedProps.includes(d)||l.trackedProps.push(d)};return Object.keys(i).forEach(function(c){Object.defineProperty(o,c,{configurable:!1,enumerable:!0,get:function(){return u(c),i[c]}})}),(s.useErrorBoundary||s.suspense)&&u("error"),o},n.getNextResult=function(i){var s=this;return new Promise(function(l,o){var u=s.subscribe(function(c){c.isFetching||(u(),c.isError&&(i!=null&&i.throwOnError)?o(c.error):l(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(Ie({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,l=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,l);return o.fetch().then(function(){return s.createResult(o,l)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(bt)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(vo||this.currentResult.isStale||!Sd(this.options.staleTime))){var s=Sx(this.currentResult.dataUpdatedAt,this.options.staleTime),l=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},l)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(vo||this.options.enabled===!1||!Sd(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||Ks.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var l=this.currentQuery,o=this.options,u=this.currentResult,c=this.currentResultState,d=this.currentResultOptions,h=i!==l,m=h?i.state:this.currentQueryInitialState,v=h?this.currentResult:this.previousQueryResult,y=i.state,w=y.dataUpdatedAt,S=y.error,g=y.errorUpdatedAt,f=y.isFetching,p=y.status,j=!1,b=!1,k;if(s.optimisticResults){var _=this.hasListeners(),C=!_&&Mp(i,s),N=_&&Fp(i,l,s,o);(C||N)&&(f=!0,w||(p="loading"))}if(s.keepPreviousData&&!y.dataUpdateCount&&(v!=null&&v.isSuccess)&&p!=="error")k=v.data,w=v.dataUpdatedAt,p=v.status,j=!0;else if(s.select&&typeof y.data<"u")if(u&&y.data===(c==null?void 0:c.data)&&s.select===this.selectFn)k=this.selectResult;else try{this.selectFn=s.select,k=s.select(y.data),s.structuralSharing!==!1&&(k=wo(u==null?void 0:u.data,k)),this.selectResult=k,this.selectError=null}catch(A){jo().error(A),this.selectError=A}else k=y.data;if(typeof s.placeholderData<"u"&&typeof k>"u"&&(p==="loading"||p==="idle")){var D;if(u!=null&&u.isPlaceholderData&&s.placeholderData===(d==null?void 0:d.placeholderData))D=u.data;else if(D=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof D<"u")try{D=s.select(D),s.structuralSharing!==!1&&(D=wo(u==null?void 0:u.data,D)),this.selectError=null}catch(A){jo().error(A),this.selectError=A}typeof D<"u"&&(p="success",k=D,b=!0)}this.selectError&&(S=this.selectError,k=this.selectResult,g=Date.now(),p="error");var I={status:p,isLoading:p==="loading",isSuccess:p==="success",isError:p==="error",isIdle:p==="idle",data:k,dataUpdatedAt:w,error:S,errorUpdatedAt:g,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>m.dataUpdateCount||y.errorUpdateCount>m.errorUpdateCount,isFetching:f,isRefetching:f&&p!=="loading",isLoadingError:p==="error"&&y.dataUpdatedAt===0,isPlaceholderData:b,isPreviousData:j,isRefetchError:p==="error"&&y.dataUpdatedAt!==0,isStale:Wf(i,s),refetch:this.refetch,remove:this.remove};return I},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var l=this.options,o=l.notifyOnChangeProps,u=l.notifyOnChangePropsExclusions;if(!o&&!u||o==="tracked"&&!this.trackedProps.length)return!0;var c=o==="tracked"?this.trackedProps:o;return Object.keys(i).some(function(d){var h=d,m=i[h]!==s[h],v=c==null?void 0:c.some(function(w){return w===d}),y=u==null?void 0:u.some(function(w){return w===d});return m&&!y&&(!c||v)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!zk(this.currentResult,s)){var l={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(l.listeners=!0),this.notify(Ie({},l,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!Ml(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;Ke.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(l){l(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},t}(Pa);function aC(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Mp(e,t){return aC(e,t)||e.state.dataUpdatedAt>0&&Cd(e,t,t.refetchOnMount)}function Cd(e,t,n){if(t.enabled!==!1){var r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Wf(e,t)}return!1}function Fp(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Wf(e,n)}function Wf(e,t){return e.isStaleByTime(t.staleTime)}var lC=RS.unstable_batchedUpdates;Ke.setBatchNotifyFunction(lC);var oC=console;Gk(oC);var Tp=re.createContext(void 0),Ix=re.createContext(!1);function Ex(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Tp),window.ReactQueryClientContext):Tp}var uC=function(){var t=re.useContext(Ex(re.useContext(Ix)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},cC=function(t){var n=t.client,r=t.contextSharing,i=r===void 0?!1:r,s=t.children;re.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var l=Ex(i);return re.createElement(Ix.Provider,{value:i},re.createElement(l.Provider,{value:n},s))};function dC(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var fC=re.createContext(dC()),hC=function(){return re.useContext(fC)};function mC(e,t,n){return typeof t=="function"?t.apply(void 0,n):typeof t=="boolean"?t:!!e}function pC(e,t){var n=re.useRef(!1),r=re.useState(0),i=r[1],s=uC(),l=hC(),o=s.defaultQueryObserverOptions(e);o.optimisticResults=!0,o.onError&&(o.onError=Ke.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=Ke.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=Ke.batchCalls(o.onSettled)),o.suspense&&(typeof o.staleTime!="number"&&(o.staleTime=1e3),o.cacheTime===0&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(l.isReset()||(o.retryOnMount=!1));var u=re.useState(function(){return new t(s,o)}),c=u[0],d=c.getOptimisticResult(o);if(re.useEffect(function(){n.current=!0,l.clearReset();var h=c.subscribe(Ke.batchCalls(function(){n.current&&i(function(m){return m+1})}));return c.updateResult(),function(){n.current=!1,h()}},[l,c]),re.useEffect(function(){c.setOptions(o,{listeners:!1})},[o,c]),o.suspense&&d.isLoading)throw c.fetchOptimistic(o).then(function(h){var m=h.data;o.onSuccess==null||o.onSuccess(m),o.onSettled==null||o.onSettled(m,null)}).catch(function(h){l.clearReset(),o.onError==null||o.onError(h),o.onSettled==null||o.onSettled(void 0,h)});if(d.isError&&!l.isReset()&&!d.isFetching&&mC(o.suspense,o.useErrorBoundary,[d.error,c.getCurrentQuery()]))throw d.error;return o.notifyOnChangeProps==="tracked"&&(d=c.trackResult(d,o)),d}function $n(e,t,n){var r=Al(e,t,n);return pC(r,sC)}function _d(e){this.message=e}_d.prototype=new Error,_d.prototype.name="InvalidCharacterError";var Rp=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new _d("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,s=0,l="";r=t.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?l+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return l};function yC(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Rp(n).replace(/(.)/g,function(r,i){var s=i.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(t)}catch{return Rp(t)}}function So(e){this.message=e}function Hf(e,t){if(typeof e!="string")throw new So("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(yC(e.split(".")[n]))}catch(r){throw new So("Invalid token specified: "+r.message)}}So.prototype=new Error,So.prototype.name="InvalidTokenError";function Lp(e){let t=Hf(e);return{id:t.id,name:t.name,guest:t.guest,token:e}}function qp(e){return{id:0,guest:Hf(e).guest,token:e}}class vC{createLocalMap(t){return new Ax(this,t)}}let gC=class{constructor(t,n){x(this,"local");x(this,"key");this.local=t,this.key=n}get(){try{let t=this.local.getItem(this.key);return t===null||t===void 0?void 0:JSON.parse(t)}catch{this.local.removeItem(this.key);return}}set(t){let n=JSON.stringify(t,(r,i)=>{if(r!=="_tuid")return i});this.local.setItem(this.key,n)}remove(t){t===void 0?this.local.removeItem(this.key):this.local.removeLocal(t)}child(t){return this.local.child(t)}arr(t){return this.local.arr(t)}map(t){return this.local.map(t)}},Px=class{constructor(t,n){x(this,"caches");x(this,"locals");x(this,"localDb");x(this,"name");this.localDb=t,this.name=n,this.caches={},this.locals={}}getItem(t){let n=this.keyForGet(t);if(n!==void 0)return this.localDb.getItem(n)}setItem(t,n){let r=this.keyForSet(t);this.localDb.setItem(r,n)}removeItem(t){let n=this.keyForRemove(t);n!==void 0&&localStorage.removeItem(n)}arr(t){let n=String(t),r=this.locals[n];if(r===void 0){let i=this.keyForSet(t);this.locals[n]=r=new Up(this.localDb,i)}return r}map(t){let n=String(t),r=this.locals[n];if(r===void 0){let i=this.keyForSet(t);this.locals[n]=r=new Ax(this.localDb,i)}return r}removeLocal(t){let n=t.name,r=this.keyForRemove(n);if(r===void 0)return;let i=this.locals[n];i===void 0?i=new Up(this.localDb,r):this.locals[n]=void 0,i.removeAll()}child(t){let n=String(t),r=this.caches[n];return r!==void 0?r:this.caches[n]=r=new gC(this,t)}};const xC=500;let Up=class extends Px{constructor(n,r){super(n,r);x(this,"index");let i=this.localDb.getItem(this.name);i?this.index=i.split(`
`).map(s=>Number(s)):this.index=[]}saveIndex(){this.localDb.setItem(this.name,this.index.join(`
`))}keyForGet(n){if(!(this.index.indexOf(n)<0))return`${this.name}.${n}`}keyForSet(n){let r=this.index.indexOf(n);return r<0?(this.index.unshift(n),this.index.length>xC&&this.index.pop()):(this.index.splice(r,1),this.index.unshift(n)),this.saveIndex(),`${this.name}.${n}`}keyForRemove(n){let r=this.index.indexOf(n);if(!(r<0))return this.index.splice(r,1),this.saveIndex(),`${this.name}.${n}`}removeAll(){for(let n of this.index)this.localDb.removeItem(`${this.name}.${n}`);this.localDb.removeItem(this.name),this.index.splice(0)}item(n){return this.child(n)}},Ax=class extends Px{constructor(n,r){super(n,r);x(this,"index");x(this,"max");this.max=0,this.index={};let i=this.localDb.getItem(this.name);i&&i.split(`
`).forEach(l=>{let o=l.indexOf("	");if(o<0)return;let u=l.substr(0,o),c=Number(l.substr(o+1));isNaN(c)!==!0&&(this.index[u]=c,c>this.max&&(this.max=c))})}saveIndex(){let n=[];for(let r in this.index){let i=this.index[r];i!==void 0&&n.push(`${r}	${i}`)}this.localDb.setItem(this.name,n.join(`
`))}keyForGet(n){let r=this.index[n];if(r!==void 0)return`${this.name}.${r}`}keyForSet(n){let r=this.index[n];return r===void 0&&(++this.max,r=this.max,this.index[n]=r,this.saveIndex()),`${this.name}.${r}`}keyForRemove(n){let r=this.index[n];if(r!==void 0)return this.index[n]=void 0,this.saveIndex(),`${this.name}.${r}`}removeAll(){for(let n in this.index)this.localDb.removeItem(`${this.name}.${this.index[n]}`),this.index[n]=void 0;this.localDb.removeItem(this.name),this.max=0}item(n){return this.child(n)}};function $p(e){return e.split(/[-._]/).map(n=>jC(n)).join("_")}const wC="a".charCodeAt(0),bC="z".charCodeAt(0);function jC(e){if(!e)return"";let t=e.charCodeAt(0);return t>=wC&&t<=bC?String.fromCharCode(t-32)+e.substr(1):e}function SC(e,t){if(!e||!t)return;let n=Object.keys(e);t=t.toLowerCase();for(let r of n)if(r.toLowerCase()===t)return e[r]}function Ox(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}class kC{constructor(t,n=void 0,r){x(this,"_params");x(this,"$$user");x(this,"method","POST");x(this,"waiting");this._params=t,this.$$user=n,this.waiting=r}get params(){return this._params}buildParams(){return this.params}get headers(){}}class Mx{constructor(t,n){x(this,"net");x(this,"path");this.net=t,this.path=n||""}customHeader(){}async xcall(t){return await(await this.getHttpChannel()).xcall(this.path,t)}async call(t,n,r){return await(await this.getHttpChannel()).callFetch(t,n,r)}async get(t,n=void 0){return await(await this.getHttpChannel()).get(this.path+t,n,this.customHeader())}async post(t,n){return await(await this.getHttpChannel()).post(this.path+t,n,this.customHeader())}async put(t,n){return await(await this.getHttpChannel()).put(this.path+t,n,this.customHeader())}async delete(t,n){return await(await this.getHttpChannel()).delete(this.path+t,n,this.customHeader())}async download(t,n=void 0){return await(await this.getHttpChannel()).download(this.path+t,n,this.customHeader())}}class CC extends Mx{constructor(n){let{net:r,baseUrl:i}=n;super(r,i);x(this,"uq");this.uq=n}async getHttpChannel(){return await this.net.getHttpChannel(this.uq.name)}customHeader(){let{unit:n}=this.uq;if(n!==void 0)return{unit:String(n)}}async loadEntities(){return await this.get("entities")}async bizSheet(n,r){await this.post("biz",{id:n,act:r})}async bizSheetAct(n,r,i){return await this.post("biz-sheet-act",{id:n,detail:r,act:i})}async getAdmins(){return await this.get("get-admins")}async setMeAdmin(){await this.get("set-me-admin")}async setAdmin(n,r,i){await this.post("set-admin",{user:n,role:r,assigned:i})}async isAdmin(){return await this.get("is-admin")}async getRoles(){let n=await this.get("get-roles");if(!n)return null;let r=n.split("|"),i=[];for(let s of r)s=s.trim(),s&&i.push(s);return i.length===0?null:i}async getAllRoleUsers(){return await this.get("get-all-role-users")}async setUserRoles(n,r){await this.post("set-user-roles",{theUser:n,roles:r})}async deleteUserRoles(n){await this.get("delete-user-roles",{theUser:n})}async allSchemas(){return await this.get("all-schemas")}async schema(n){return await this.get("schema/"+n)}async queueModify(n,r,i){return await this.post("queue-modify",{start:n,page:r,entities:i})}async syncUser(n){return await this.post("sync-user",{user:n})}async hello(){return await this.get("hello",{})}async compileHello(){return await this.get("compile/hello",{})}async compile(n){return await this.post("compile/override",{source:n})}async compileEntity(n,r){return await this.post("compile/entity",{id:n,code:r})}async renameEntity(n,r){return await this.post("compile/rename",{id:n,name:r})}async delEntity(n){return await this.post("compile/del-entity",{id:n})}async biz(){return await this.post("compile/biz",{})}async source(n){return await this.download("compile/source/"+n)}}class Fx extends Mx{async getHttpChannel(){return this.net.getCenterChannel()}}const _C="uqTokens";class NC extends Fx{constructor(n,r){super(n,r);x(this,"localMap");this.localMap=n.createLocalMap(_C)}clearLocal(){this.localMap.removeAll()}async uq(n){let{uqOwner:r,uqName:i}=n,s=r+"/"+i,l=this.localMap.child(s);try{let o=l.get();if(o!==void 0){let{unit:h,user:m}=o;(h!==n.unit||m!==this.net.loginedUserId)&&(l.remove(),o=void 0)}let u=Math.floor(Date.now()/1e3);if(o!==void 0){let{tick:h,value:m}=o;if(m!==void 0&&u-h<24*3600)return Object.assign({},m)}let c=Object.assign({},n),d=await this.get("open/uq-token",c);if(d===void 0){let{unit:h,uqOwner:m,uqName:v}=n;throw`center get app-uq(unit=${h}, '${m}/${v}') - not exists or no unit-service`}return o={unit:n.unit,user:this.net.loginedUserId,tick:u,value:d},l.set(o),Object.assign({},d)}catch(o){throw l.remove(),o}}}class DC extends Fx{async login(t){let n=await this.post("user/login",t);switch(typeof n){default:return;case"string":return Lp(n);case"object":let r=n.token,i=Lp(r),{nick:s,icon:l}=n;return s&&(i.nick=s),l&&(i.icon=l),i}}async register(t){return await this.post("user/register",t)}async changePassword(t){return await this.post("tie/change-password",t)}async sendVerify(t,n,r){return await this.post("user/set-verify",{account:t,type:n,oem:r})}async checkVerify(t,n){return await this.post("user/check-verify",{account:t,verify:n})}async isExists(t){return await this.get("user/is-exists",{account:t})}async resetPassword(t,n,r,i){return await this.post("user/reset-password",{account:t,password:n,verify:r,type:i})}async userSetProp(t,n){await this.post("tie/user-set-prop",{prop:t,value:n})}async me(){return await this.get("tie/me")}async user(t){return await this.get("tie/user",{id:t})}async fromKey(t){return await this.get("tie/user-from-key",{key:t})}async guest(){let t=await this.get("guest/",{});switch(typeof t){default:return;case"string":return qp(t);case"object":return qp(t.token)}}async userQuit(){await this.get("tie/user-ask-quit",{})}async userAppUnits(t){return await this.get("tie/user-app-units",{app:t})}async userFromKey(t){return await this.get("tie/user-from-key",{key:t})}async userFromId(t){return await this.get("user/user-name-nick-icon-from-id",{userId:t})}async userFromName(t){return await this.get("tie/user-from-key",{key:t})}async usersFromEmail(t){return await this.get("tie/users-from-email",{email:t})}async userFromMobile(t){return await this.get("tie/users-from-mobile",{mobile:t})}}const IC=["POST","PUT"];class Vp{constructor(t,n,r){x(this,"language");x(this,"culture");x(this,"timeout");x(this,"net");x(this,"hostUrl");x(this,"authToken");this.net=t,this.hostUrl=n,this.authToken=r,this.timeout=t.fetchTimeout}used(){this.post("",{})}async xcall(t,n){let r=this.buildOptions(void 0),{headers:i,path:s,method:l}=n;if(i!==void 0){let u=r.headers;for(let c in i)u[c]=encodeURI(i[c])}r.method=l;let o=n.buildParams();return IC.indexOf(l)>=0&&o!==void 0&&(r.body=JSON.stringify(o)),await this.innerFetch(t+s,r)}async innerFetchResult(t,n){return(await this.innerFetch(t,n)).res}async get(t,n=void 0,r=void 0){if(n){let s=Object.keys(n);if(s.length>0){let l="?";for(let o of s)n[o]!==void 0&&(t+=l+o+"="+n[o],l="&")}}let i=this.buildOptions(r);return i.method="GET",await this.innerFetchResult(t,i)}async download(t,n=void 0,r=void 0){if(n){let l=Object.keys(n);if(l.length>0){let o="?";for(let u of l)n[u]!==void 0&&(t+=o+u+"="+n[u],o="&")}}let i=this.buildOptions(r);return i.method="GET",i.download=!0,(await this.innerFetch(t,i)).res}async post(t,n,r=void 0){let i=this.buildOptions(r);return i.method="POST",i.body=JSON.stringify(n),await this.innerFetchResult(t,i)}async put(t,n,r=void 0){let i=this.buildOptions(r);return i.method="PUT",i.body=JSON.stringify(n),await this.innerFetchResult(t,i)}async delete(t,n,r=void 0){let i=this.buildOptions(r);return i.method="DELETE",i.body=JSON.stringify(n),await this.innerFetchResult(t,i)}async fetch(t,n,r,i){let s=t;try{console.log("%s-%s %s",n.method,s,n.body||"");let l=Date.now(),o=setTimeout(()=>{throw new Error(`webapi timeout: ${Date.now()-l}ms ${t}`)},this.timeout),u=await fetch(encodeURI(s),n);if(u.ok===!1)throw clearTimeout(o),console.log("call error %s",u.statusText),u.statusText;if(n.download===!0){clearTimeout(o),this.downloadResponse(u);return}let c=u.headers.get("content-type");if(c&&c.indexOf("json")>=0)return u.json().then(async d=>{if(clearTimeout(o),d.ok===!0){if(typeof d!="object")debugger;else if(Array.isArray(d)===!0)debugger;return r(d)}let h=d.error;i(h===void 0?"not valid tonwa json":h)}).catch(async d=>{i(d)});{let d=await u.text();clearTimeout(o),console.log("text endWait"),r(d)}}catch(l){if(typeof l=="string"){let o=l.toLowerCase();if(o.startsWith("unauthorized")===!0||o.startsWith("$roles")===!0)return}console.error("fecth error (no nav.showError): "+t)}}downloadResponse(t){let{url:n}=t,r=n.lastIndexOf("/"),i=n.substring(r+1);t.blob().then(s=>{const l=window.URL.createObjectURL(s);let o=document.createElement("a");o.href=l,o.download=i+".uq",o.click()})}async innerFetch(t,n){let r=this.hostUrl+t;return new Promise(async(i,s)=>{await this.fetch(r,n,i,s)})}async callFetch(t,n,r){let i=this.buildOptions(void 0);return i.method=n,i.body=r,new Promise(async(s,l)=>{await this.fetch(t,i,s,l)})}buildOptions(t){return{headers:this.buildHeaders(t),method:void 0,body:void 0}}buildHeaders(t){let{language:n,culture:r}=this,i={};i["Content-Type"]="application/json;charset=UTF-8";let s=n??"";return r&&(s+="-"+r),i["Accept-Language"]=s,this.authToken&&(i.Authorization=this.authToken),t!==void 0&&Object.assign(i,t),i}}const EC={center:"localhost:3000",uq:"localhost:3015",res:"localhost:3015"},PC={method:"GET",headers:{"Content-Type":"text/plain;charset=UTF-8"}};async function AC(e,t){return t===!0?await OC(e):(e.endsWith("/")===!1&&(e+="/"),{center:e,uqDebug:void 0,res:void 0,uqs:void 0})}async function OC(e){e.endsWith("/")===!1&&(e+="/");let{center:t,uq:n,res:r}=EC,i=[t,n,r].map(d=>TC(d)),[s,l,o]=await Promise.all(i);s!==null&&(e=`http://${t}/`);let u,c;return l!==null?(u=`http://${n}/`,c=JSON.parse(l).uqs):n=void 0,r=void 0,{center:e,uqDebug:u,res:r,uqs:c}}const MC=2e3;function FC(e){return new Promise(async(t,n)=>{try{setTimeout(n,MC,new Error("Connection timed out"));let r=await fetch(e,PC);if(r.ok===!1){n("resp.ok === false");return}let i=await r.text();t(i)}catch(r){n(r)}})}async function TC(e){if(!e)return null;let t=`http://${e}/hello`;try{return await FC(t)}catch{return null}}class RC{constructor(t){x(this,"centerUrl");x(this,"uqDebug");x(this,"resDebug");x(this,"debugUqs",new Set);x(this,"testing");x(this,"uqChannels",{});x(this,"centerChannel");x(this,"isDevelopment");x(this,"centerToken");x(this,"props");x(this,"_loginedUserId",0);x(this,"localDb");x(this,"userApi");x(this,"uqTokenApi");x(this,"createObservableMap");this.props=t,this.isDevelopment=t.isDevelopment,this.testing=t.testing,this.localDb=this.props.localDb,this.createObservableMap=this.props.createObservableMap,this.userApi=new DC(this,"tv/"),this.uqTokenApi=new NC(this,"tv/")}async init(){if(this.centerUrl!==void 0)return;let{center:t}=this.props,{center:n,uqDebug:r,uqs:i,res:s}=await AC(t,this.isDevelopment);if(this.centerUrl=n,this.uqDebug=r,this.resDebug=s,console.log("centerUrl",n,"uqDebug",r,"res",s),i!==void 0)for(let l of i){let{db:o}=l;this.debugUqs.add(o.toLowerCase())}}get fetchTimeout(){return this.isDevelopment===!0?3e4:5e4}get loginedUserId(){return this._loginedUserId}createLocalMap(t){return this.localDb.createLocalMap(t)}getLocalDbItem(t){return this.localDb.getItem(t)}setLocalDbItem(t,n){this.localDb.setItem(t,n)}getResUrl(t){return this.resDebug+t}logoutApis(){this.uqTokenApi.clearLocal();for(let t in this.uqChannels)this.uqChannels[t]=void 0}setCenterToken(t,n){this._loginedUserId=t,this.centerToken=n,this.centerChannel=void 0}clearCenterToken(){this.setCenterToken(0,void 0)}getCenterChannel(){return this.centerChannel!==void 0?this.centerChannel:this.centerChannel=new Vp(this,this.centerUrl,this.centerToken)}buildUqUrl(t,n,r){let i,s=t.toLowerCase();return this.testing===!0?(n=r,s+="$test",i="test"):i="prod",this.uqDebug&&this.debugUqs.has(s)===!0&&(n=this.uqDebug),n.endsWith("/")===!1&&(n+="/"),`${n}uq/${i}/${t}/`}async getHttpChannel(t){let n=this.uqChannels[t];return n===void 0?(this.uqChannels[t]=n=new Promise(async(r,i)=>{let s=await this.initUqToken(t),{url:l,token:o}=s;return this.uqChannels[t]=n=new Vp(this,l,o),r(n)}),await n):Ox(n)===!1?n:await n}async initUqToken(t){let[n,r]=t.split("/"),{unit:i}=this.props,s=await this.uqTokenApi.uq({unit:i,uqOwner:n,uqName:r});s.token===void 0&&(s.token=this.centerToken);let{db:l,url:o,urlTest:u}=s,c=this.buildUqUrl(l,o,u);return console.log("realUrl: %s",c),s.url=c,s}}const LC="	",Is=`
`,vi="\\ntbfvr",uc=vi.charCodeAt(0),qC=vi.charCodeAt(1),UC=vi.charCodeAt(2),$C=vi.charCodeAt(3),VC=vi.charCodeAt(4),zC=vi.charCodeAt(5),BC=vi.charCodeAt(6),hs=`
	\b\f\v\r`,YC=hs.charCodeAt(0),WC=hs.charCodeAt(1),HC=hs.charCodeAt(2),QC=hs.charCodeAt(3),GC=hs.charCodeAt(4),KC=hs.charCodeAt(5);let gi=class{constructor(t,n,r){x(this,"jName");x(this,"schema");x(this,"ver",0);x(this,"sys");x(this,"uq");x(this,"name");x(this,"typeId");x(this,"schemaLocal");x(this,"uqApi");x(this,"fields");x(this,"arrFields");x(this,"returns");x(this,"face");x(this,"fieldMaps",{});if(n===void 0)debugger;this.uq=t,this.name=n.toLowerCase(),this.typeId=r,this.sys=this.name.indexOf("$")>=0,this.schemaLocal=this.uq.localMap.item(this.name),this.uqApi=this.uq.uqApi}fieldMap(t){t===void 0&&(t="$");let n=this.fieldMaps[t];if(n===void 0){let r;if(t==="$")r=this.fields;else if(this.arrFields!==void 0){let i=this.arrFields.find(s=>s.name===t);i!==void 0&&(r=i.fields)}else if(this.returns!==void 0){let i=this.returns.find(s=>s.name===t);i!==void 0&&(r=i.fields)}if(r===void 0)return{};n={};for(let i of r)n[i.name]=i;this.fieldMaps[t]=n}return n}async loadSchema(){if(this.schema!==void 0)return;let t=this.schemaLocal.get();t||(t=await this.uq.loadEntitySchema(this.name)),this.buildSchema(t),await this.loadValues()}buildSchema(t){this.setSchema(t),this.buildFieldsTuid()}async loadValues(){}clearSchema(){this.schema=void 0}setSchema(t){if(t===void 0)return;let{name:n,version:r,permit:i}=t;this.ver=r||0,this.setJName(n),this.schemaLocal.set(t),this.schema=t,this.buildFieldsTuid(),this.setPermitRole(this.getPermitRole(i))}getPermitRole(t){if(t===void 0)return;let n=t.indexOf("+");return n<0?t:t.substring(0,n)}setPermitRole(t){}setJName(t){t!==this.name&&(this.jName=t)}setKeys(){}buildFieldsTuid(){let{fields:t,arrs:n,returns:r}=this.schema;this.fields=t,this.setKeys(),this.uq.buildFieldTuid(t),this.arrFields=n,this.uq.buildArrFieldsTuid(n,t),this.returns=r,this.uq.buildArrFieldsTuid(r,t)}schemaStringify(){return JSON.stringify(this.schema,(t,n)=>{if(t!=="_tuid")return n},4)}tuidFromName(t,n){if(this.schema===void 0)return;let{fields:r,arrs:i}=this.schema,s=this.uq;function l(d,h){if(h===void 0)return;let m=h.find(v=>v.name===d);if(m!==void 0)return s.getTuid(m.tuid)}let o=t.toLowerCase();if(n===void 0)return l(o,r);if(i===void 0)return;let u=n.toLowerCase(),c=i.find(d=>d.name===u);if(c!==void 0)return l(o,c.fields)}buildParams(t){let n={},r=this.fields;r!==void 0&&this.buildFieldsParams(n,r,t);let i=this.arrFields;if(i!==void 0)for(let s of i){let{name:l,fields:o}=s;if(t[l]===void 0)continue;let c=[];n[l]=c;for(let d of t){let h={};this.buildFieldsParams(h,o,d),c.push(h)}}return n}buildFieldsParams(t,n,r){for(let i of n){let{name:s,type:l}=i,o=r[s],u;switch(l){case"datetime":u=this.buildDateTimeParam(o);break;case"date":o instanceof Date?u=`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}`:u=o;break;default:switch(typeof o){default:u=o;break;case"object":if(o instanceof Date){u=o;break}let c=i._tuid;c===void 0?u=o.id:u=c.getIdFromObj(o);break}break}t[s]=u}}buildDateTimeParam(t){let n;switch(typeof t){default:debugger;throw new Error("escape datetime field in pack data error: value="+t);case"undefined":return"";case"object":n=t;break;case"string":case"number":n=new Date(t);break}return Math.floor(n.getTime()/1e3)}buildDateParam(t){let n;switch(typeof t){default:debugger;throw new Error("escape datetime field in pack data error: value="+t);case"undefined":return"";case"string":return t;case"object":n=t;break;case"number":n=new Date(t);break}let r=n.toISOString(),i=r.indexOf("T");return i>0?r.substring(0,i):r}pack(t){let n=[],r=this.fields;r!==void 0&&this.packRow(n,r,t);let i=this.arrFields;if(i!==void 0)for(let s of i){let{name:l,fields:o}=s,u=SC(t,l);this.packArr(n,o,u)}return n.join("")}packJson(t){let n=[],r=this.fields;if(r!==void 0)for(let i of r){let s=t[i.name];n.push(s)}return JSON.stringify(n)}escape(t,n){let r=t[n.name];if(r===null)return"";switch(n.type){case"datetime":return this.buildDateTimeParam(r);case"json":switch(typeof r){default:debugger;throw new Error("error value for json");case"string":return r;case"object":return JSON.stringify(r)}default:switch(typeof r){default:return r;case"object":let i=n._tuid;return i===void 0?r.id:i.getIdFromObj(r);case"string":let s=r.length,l="",o=0;for(let u=0;u<s;u++){let c=r.charCodeAt(u),d;switch(c){default:continue;case uc:d="\\\\";break;case WC:d="\\t";break;case YC:d="\\n";break;case QC:d="\\f";break;case GC:d="\\v";break;case HC:d="\\b";break;case KC:d="\\r";break}l+=r.substring(o,u)+d,o=u+1}return l+r.substring(o);case"undefined":return""}}}packRow(t,n,r){let i=n.length;if(i===0){t.push(Is);return}let s="";s+=this.escape(r,n[0]);for(let l=1;l<i;l++){let o=n[l];s+=LC+this.escape(r,o)}t.push(s+Is)}packArr(t,n,r){if(r!==void 0)if(r.length===0)t.push(Is);else for(let i of r)this.packRow(t,n,i);else t.push(Is);t.push(Is)}cacheFieldsInValue(t,n){for(let r of n){let{name:i,_tuid:s}=r;if(s===void 0)continue;let l=t[i];t[i]=s.boxId(l)}}unpackTuidIdsOfFields(t,n){if(n===void 0)return t;let r=[];for(let i of t){if(!i)continue;let s=i.length,l=0;for(;l<s;){if(i.charCodeAt(l)===10){++l;break}let u={};l=this.unpackRow(u,n,i,l),r.push(u)}}return r}unpackSheet(t){let n={},r=this.fields,i=0;r!==void 0&&(i=this.unpackRow(n,r,t,i));let s=this.arrFields;if(s!==void 0)for(let l of s)i=this.unpackArr(n,l,t,i);return n}unpackReturns(t,n){if(t===void 0)debugger;let r={},i=0,s=n||this.returns;if(s!==void 0)for(let l of s)i=this.unpackArr(r,l,t,i);return r}unpackRow(t,n,r,i,s=9){let l=0,o=0,u=i,c=0,d=r.length,h=n.length;const m=()=>{let v=n[c],{name:y}=v;if(l!==8){if(i>u){let w=r.substring(u,i);t[y]=this.to(t,w,v)}}else t[y]=null};for(;i<d;i++)if(l=o,o=r.charCodeAt(i),o===s){if(m(),u=i+1,++c,c>=h)return i=r.indexOf(`
`,u),i>=0?++i:i=d,i}else if(o===10){let v=n[c],{name:y}=v;if(l!==8){if(i>u){let w=r.substring(u,i);t[y]=this.to(t,w,v)}}else t[y]=null;return++i,++c,i}return m(),d}to(t,n,r){switch(r.type){default:return n;case"text":case"char":return this.reverseNT(n);case"datetime":case"timestamp":let i=Number(n);return isNaN(i)===!0?new Date(n):new Date(i*1e3);case"json":return JSON.parse(n);case"enum":case"tinyint":case"smallint":case"int":case"bigint":case"dec":case"float":case"double":return Number(n);case"id":let l=Number(n),{_tuid:o}=r;return o===void 0?l:o.boxId(l)}}reverseNT(t){if(t===void 0||t===null)return;let n=t.length,r="",i=0;for(let s=0;s<n;s++)if(t.charCodeAt(s)===uc){if(s===n-1)break;let o=t.charCodeAt(s+1),u;switch(o){default:continue;case uc:u="\\";break;case qC:u=`
`;break;case UC:u="	";break;case $C:u="\b";break;case VC:u="\f";break;case zC:u="\v";break;case BC:u="\r";break}r+=t.substring(i,s)+u,i=s+2,++s}return r+=t.substring(i,n),r}unpackArr(t,n,r,i){let s=i,l=[],o=r.length,{name:u,fields:c}=n;for(;i<o;){let d=r.charCodeAt(i);if(d===10){if(i===s){if(d=r.charCodeAt(i),d!==10)throw new Error("upackArr: arr第一个字符是10，则必须紧跟一个10，表示整个arr的结束");++i}++i;break}let h={};l.push(h),i=this.unpackRow(h,c,r,i)}return t[u]=l,i}};class ms extends kC{constructor(n,r,i=void 0,s=!0){super(r,i,s);x(this,"tries");x(this,"_entity");this.tries=0,this._entity=n}get entity(){return this._entity}async request(){return await this.entity.loadSchema(),await this.innerRequest()}async innerCall(){return await this.entity.uqApi.xcall(this)}async innerRequest(){let n=await this.innerCall(),{$uq:r,$modify:i,res:s}=n;return this.entity.uq.pullModify(i),r===void 0?this.xresult(s):await this.retry(r)}xresult(n){return n}get headers(){let{ver:n,uq:r}=this.entity,{uqVersion:i,unit:s}=r;return{uq:`${i}`,en:`${n}`,unit:s===void 0?void 0:String(s)}}async retry(n){if(++this.tries,this.tries>5)throw new Error(`${n.entity.name} can not get right uq response schema, 5 tries`);return this.rebuildSchema(n),await this.innerRequest()}rebuildSchema(n){let{uq:r,entity:i}=n;r!==void 0&&this.entity.uq.buildEntities(),i!==void 0&&this.entity.setSchema(i)}}let XC=class extends ms{get entity(){return this._entity}};class Qf extends ms{get entity(){return this._entity}get path(){return`query/${this.entity.name}`}xresult(t){return this.entity.unpackReturns(t)}buildParams(){return this.entity.buildParams(this.params)}}class Gf extends ms{get params(){return this._params}get entity(){return this._entity}get path(){return`query-page/${this.entity.name}`}buildParams(){let{pageStart:t,pageSize:n,params:r}=this.params,i;return r===void 0?i={key:""}:i=this.entity.buildParams(r),i.$pageStart=t,i.$pageSize=n,i}xresult(t){return this.entity.unpackReturns(t)}}const ZC=1e4;class Tx{constructor(t){x(this,"queue",[]);x(this,"cache");x(this,"localArr");x(this,"waitingIds",[]);x(this,"tuidInner");this.cache=t.uq.net.createObservableMap(),this.tuidInner=t,this.initLocalArr()}initLocalArr(){this.localArr=this.tuidInner.schemaLocal.arr(this.tuidInner.name+".ids")}cacheSet(t,n){this.cache.set(t,n)}useId(t,n){if(t){if(typeof t!="number"){console.error("id cache "+t+" is not number");return}if(this.cache.has(t)===!0){this.moveToHead(t);return}if(this.tuidInner.cacheTuids(n===!0?70:20),this.waitingIds.findIndex(r=>r===t)>=0){this.moveToHead(t);return}if(this.queue.length>=ZC){let r=this.queue.shift();if(r===t){this.queue.push(r);return}if(this.cache.has(r)===!0)this.cache.delete(r);else{let i=this.waitingIds.findIndex(s=>s===r);this.waitingIds.splice(i,1)}}this.waitingIds.push(t),this.queue.push(t)}}moveToHead(t){let n=this.queue.findIndex(r=>r===t);this.queue.splice(n,1),this.queue.push(t)}getValue(t){return this.cache.get(t)}remove(t){this.cache.delete(t);let n=this.queue.findIndex(r=>r===t);this.queue.splice(n,1),this.localArr.removeItem(t)}valueFromId(t){let n;switch(typeof t){case"object":n=t.id;break;case"number":n=t;break;default:return}return this.getValue(n)}resetCache(t){this.remove(t),this.useId(t)}cacheValue(t){if(t===void 0)return!1;let n=this.getIdFromObj(t);return n===void 0?!1:(this.cacheSet(n,t),!0)}getIdFromObj(t){return this.tuidInner.getIdFromObj(t)}async cacheIds(){let t=await this.loadIds();this.cacheIdValues(t)}cacheIdValues(t){if(t===void 0)return;let n=this.unpackTuidIds(t);for(let r of n)this.cacheValue(r)===!0&&this.cacheTuidFieldValues(r)}async modifyIds(t){let r=(await this.loadTuidIdsOrLocal(t)).filter(i=>{let s=i.indexOf("	");s<0&&(s=i.length);let l=Number(i.substring(0,s));return this.localArr.getItem(l)!==void 0});r.length!==0&&this.cacheIdValues(r)}async loadIds(){if(this.waitingIds.length===0)return;let t=[...this.waitingIds];return this.waitingIds=[],await this.loadTuidIdsOrLocal(t)}unpackTuidIds(t){return this.tuidInner.unpackTuidIds(t)}cacheTuidFieldValues(t){this.tuidInner.cacheTuidFieldValues(t)}async assureObj(t){let n=this.cache.get(t);if(n!==void 0)return n;let r=await this.loadTuidIdsOrLocal([t]);this.cacheIdValues(r)}async loadValuesFromIds(t){return await this.tuidInner.loadValuesFromIds(void 0,t)}async loadTuidIdsOrLocal(t){let n=[],r=[];for(let l of t){let o=this.localArr.getItem(l);o?n.push(o):r.push(l)}let i=r.length;if(i===0)return n;let s=await this.loadValuesFromIds(r);for(let l=0;l<i;l++){let o=s[l];if(!o)continue;let u=o.indexOf("	");u<0&&(u=o.length);let c=Number(o.substring(0,u)),d=r.findIndex(h=>h===c);d>=0&&r.splice(d,1),n.push(o),this.localArr.setItem(c,o)}i=r.length;for(let l=0;l<i;l++)this.localArr.setItem(r[l],"");return n}}class JC extends Tx{constructor(n,r){super(n);x(this,"div");x(this,"divName");this.div=r,this.divName=r.name,this.localArr=n.schemaLocal.arr(n.name+".ids."+this.divName)}initLocalArr(){}getIdFromObj(n){return this.div.getIdFromObj(n)}unpackTuidIds(n){return this.div.unpackTuidIds(n)}cacheTuidFieldValues(n){this.div.cacheTuidFieldValues(n)}async loadValuesFromIds(n){return await this.tuidInner.loadValuesFromIds(this.divName,n)}}class e_ extends gi{constructor(){super(...arguments);x(this,"noCache");x(this,"typeName","tuid");x(this,"idName");x(this,"unique");x(this,"isImport",!1)}setSchema(n){super.setSchema(n);let{id:r}=n;this.idName=r}buildTuidBox(){return new Lx(this)}getIdFromObj(n){return n[this.idName]}stopCache(){this.noCache=!0}static idValue(n){let r=typeof n;switch(r){default:debugger;throw new Error("unknown id type: "+r);case"undefined":return;case"object":return n.id;case"number":return n}}static equ(n,r){return n==null||r==null?!1:ko.idValue(n)===ko.idValue(r)}cacheIds(){}async modifyIds(n){}}class ko extends e_{}class Rx extends ko{constructor(n,r,i){super(n,r,i);x(this,"divs");x(this,"cacheFields");x(this,"idCache");x(this,"localArr");this.idCache=new Tx(this),this.localArr=this.schemaLocal.arr(this.name+".whole"),n.newVersion===!0&&this.localArr.removeAll()}setSchema(n){super.setSchema(n);let{arrs:r}=n;if(r!==void 0){this.divs={};for(let i of r){let{name:s}=i,l=new f_(this.uq,this,s);this.divs[s]=l,l.setSchema(i),l.buildFieldsTuid()}}}getObj(n){let r=this.valueFromId(n);return r||(this.useId(n),{id:n})}useId(n,r){this.noCache!==!0&&n&&this.idCache.useId(n,r)}boxId(n){if(n)return typeof n=="object"?n:(this.useId(n),{id:n})}valueFromId(n){return this.idCache.getValue(n)}resetCache(n){typeof n=="object"&&(n=n.id),this.idCache.resetCache(n)}async assureBox(n){if(n)return typeof n=="object"&&(n=n.id),await this.idCache.assureObj(n),this.idCache.getValue(n)}cacheIds(){if(this.idCache.cacheIds(),this.divs!==void 0)for(let n in this.divs)this.divs[n].cacheIds()}async modifyIds(n){await this.idCache.modifyIds(n)}cacheTuids(n){this.uq.cacheTuids(n)}get hasDiv(){return this.divs!==void 0}div(n){return this.divs&&this.divs[n]}async loadValuesFromIds(n,r){return await new n_(this,{divName:n,ids:r},void 0,!1).request()}async loadMain(n){return typeof n=="object"&&(n=n.id),await this.idCache.assureObj(n),this.idCache.valueFromId(n)}async load(n){if(n===void 0||n===0)return;typeof n=="object"&&(n=n.id);let r;if(r=await new t_(this,n).request(),r!==void 0){for(let i of this.schema.fields){let{tuid:s}=i;if(s===void 0)continue;let l=this.uq.getTuid(s);if(l===void 0)continue;let o=i.name;r[o]=l.boxId(r[o])}return this.idCache.cacheValue(r),this.cacheTuidFieldValues(r),r}}cacheTuidFieldValues(n){let{fields:r,arrs:i}=this.schema;if(this.cacheFieldsInValue(n,r),i!==void 0)for(let s of i){let{name:l,fields:o}=s,u=n[l];if(u===void 0)continue;let c=this.div(l);for(let d of u)c.cacheValue(d),this.cacheFieldsInValue(d,o)}}buildFieldsTuid(){super.buildFieldsTuid();let{mainFields:n,$create:r,$update:i,stampOnMain:s}=this.schema;this.cacheFields=n||this.fields,s===!0&&(r===!0&&this.cacheFields.push({name:"$create",type:"timestamp",_tuid:void 0}),i===!0&&this.cacheFields.push({name:"$update",type:"timestamp",_tuid:void 0})),this.uq.buildFieldTuid(this.cacheFields)}unpackTuidIds(n){return this.unpackTuidIdsOfFields(n,this.cacheFields)}async save(n,r){let i=await new r_(this,{id:n,props:r}).request();return n!==void 0&&(this.idCache.remove(n),this.localArr.removeItem(n)),i}async saveProp(n,r,i){await new l_(this,{id:n,prop:r,value:i}).request(),this.idCache.remove(n),await this.idCache.assureObj(n)}async all(){return await new s_(this,{}).request()}async search(n,r,i){return await this.searchArr(void 0,n,r,i)}async searchArr(n,r,i,s){let l={arr:void 0,owner:n,key:r,pageStart:i,pageSize:s},o=await new i_(this,l).request(),{fields:u}=this.schema;for(let c of o)this.cacheFieldsInValue(c,u);return o}async loadArr(n,r,i){if(!(i===void 0||i===0))return await new a_(this,{arr:n,owner:r,id:i}).request()}async saveArr(n,r,i,s){return await new o_(this,{arr:n,owner:r,id:i,props:s}).request()}async posArr(n,r,i,s){return await new u_(this,{arr:n,owner:r,id:i,order:s}).request()}async no(){return await new c_(this,void 0).request()}}class Vn extends ms{get entity(){return this._entity}}class t_ extends Vn{constructor(){super(...arguments);x(this,"method","GET")}get path(){return`tuid/${this.entity.name}/${this.params}`}}class n_ extends Vn{get path(){let{divName:t}=this.params;return`tuidids/${this.entity.name}/${t!==void 0?t:"$"}`}buildParams(){return this.params.ids}xresult(t){return t.split(`
`)}}let r_=class extends Vn{get path(){return`tuid/${this.entity.name}`}buildParams(){let{fields:t,arrs:n}=this.entity.schema,{id:r,props:i}=this.params,s={$id:r};if(this.transParams(s,i,t),n!==void 0)for(let l of n){let o=l.name,u=[],c=l.fields,d=i[o];if(d!==void 0)for(let h of d){let m={};this.transParams(m,h,c),u.push(m)}s[o]=u}return s}transParams(t,n,r){if(n!==void 0)for(let i of r){let{name:s,tuid:l,type:o}=i,u=n[s];if(l!==void 0)typeof u=="object"&&u!==null&&(u=u.id);else switch(o){case"date":u=this.entity.buildDateParam(u);break;case"datetime":u=this.entity.buildDateTimeParam(u);break}t[s]=u}}};class i_ extends Vn{get path(){return`tuids/${this.entity.name}`}}let s_=class extends Vn{constructor(){super(...arguments);x(this,"method","GET")}get path(){return`tuid-all/${this.entity.name}`}};class a_ extends Vn{constructor(){super(...arguments);x(this,"method","GET")}get path(){let{arr:n,owner:r,id:i}=this.params;return`tuid-arr/${this.entity.name}/${r}/${n}/${i}`}}class l_ extends Vn{get path(){return`tuid-prop/${this.entity.name}/`}}class o_ extends Vn{get path(){let{arr:t,owner:n}=this.params;return`tuid-arr/${this.entity.name}/${n}/${t}/`}buildParams(){let{id:t,props:n}=this.params,r=Object.assign({},n);return r.$id=t,r}}class u_ extends Vn{get path(){let{arr:t,owner:n}=this.params;return`tuid-arr-pos/${this.entity.name}/${n}/${t}/`}buildParams(){let{id:t,order:n}=this.params;return{bid:t,$order:n}}}class c_ extends Vn{get path(){return`tuid-no/${this.entity.name}/`}buildParams(){let t=new Date,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return{year:n,month:r,date:i}}}class d_ extends ko{constructor(n,r,i,s){super(n,r,i);x(this,"tuidLocal");x(this,"from");x(this,"isImport",!0);this.from=s}setFrom(n){this.tuidLocal=n}getObj(n){var r;return(r=this.tuidLocal)==null?void 0:r.getObj(n)}useId(n){var r;(r=this.tuidLocal)==null||r.useId(n)}boxId(n){var r;if(!this.tuidLocal)debugger;return(r=this.tuidLocal)==null?void 0:r.boxId(n)}valueFromId(n){var r;return(r=this.tuidLocal)==null?void 0:r.valueFromId(n)}resetCache(n){var r;(r=this.tuidLocal)==null||r.resetCache(n)}async assureBox(n){return await this.tuidLocal.assureBox(n),this.tuidLocal.valueFromId(n)}get hasDiv(){var n;return(n=this.tuidLocal)==null?void 0:n.hasDiv}div(n){var r;return(r=this.tuidLocal)==null?void 0:r.div(n)}async loadMain(n){return await this.tuidLocal.loadMain(n)}async load(n){return await this.tuidLocal.load(n)}async save(n,r){return await this.tuidLocal.save(n,r)}async saveProp(n,r,i){await this.tuidLocal.saveProp(n,r,i)}async all(){return await this.tuidLocal.all()}async search(n,r,i){return await this.tuidLocal.search(n,r,i)}async searchArr(n,r,i,s){return await this.tuidLocal.searchArr(n,r,i,s)}async loadArr(n,r,i){return await this.tuidLocal.loadArr(n,r,i)}async saveArr(n,r,i,s){await this.tuidLocal.saveArr(n,r,i,s)}async posArr(n,r,i,s){await this.tuidLocal.posArr(n,r,i,s)}async no(){return await this.tuidLocal.no()}}class Lx{constructor(t){x(this,"tuid");x(this,"ownerField");this.tuid=t}boxId(t){return this.tuid.boxId(t)}getIdFromObj(t){return this.tuid.getIdFromObj(t)}useId(t){return this.tuid.useId(t)}async showInfo(){alert("showInfo not implemented")}}class f_ extends Rx{constructor(n,r,i){super(n,i,0);x(this,"typeName","div");x(this,"tuid");this.tuid=r,this.idName="id",this.idCache=new JC(r,this)}get owner(){return this.tuid}buildFieldsTuid(){super.buildFieldsTuid();let{mainFields:n}=this.schema;if(n===void 0)debugger;this.uq.buildFieldTuid(this.cacheFields=n)}buildTuidDivBox(n){return new h_(this.tuid,this,n)}getIdFromObj(n){return n[this.idName]}cacheValue(n){this.idCache.cacheValue(n)}useId(n,r){this.noCache!==!0&&this.idCache.useId(n,r)}valueFromId(n){return this.idCache.getValue(n)}async assureBox(n){return await this.idCache.assureObj(n),this.idCache.getValue(n)}async cacheIds(){await this.idCache.cacheIds()}cacheTuidFieldValues(n){let r=this.schema.fields;this.cacheFieldsInValue(n,r)}unpackTuidIds(n){return this.unpackTuidIdsOfFields(n,this.cacheFields)}}class h_ extends Lx{constructor(n,r,i){super(n);x(this,"div");this.div=r,this.ownerField=i}boxId(n){return this.div.boxId(n)}getIdFromObj(n){return this.div.getIdFromObj(n)}useId(n){return this.div.useId(n)}}class m_{constructor(t){x(this,"uq");x(this,"modifyMax");x(this,"cacheTimer");x(this,"loadIds",()=>{this.clearCacheTimer();let{tuids:t}=this.uq;for(let n in t)t[n].cacheIds()});this.uq=t}cacheTuids(t){this.clearCacheTimer(),this.cacheTimer=setTimeout(this.loadIds,t)}clearCacheTimer(){this.cacheTimer!==void 0&&(clearTimeout(this.cacheTimer),this.cacheTimer=void 0)}pullModify(t){if(t===void 0)return;let n=Math.floor(Date.now()/1e3);this.modifyMax===void 0&&(this.modifyMax=this.uq.localModifyMax.get(),this.modifyMax===void 0&&(this.modifyMax={max:t,seconds:n},this.uq.localModifyMax.set(this.modifyMax)));let{max:r,seconds:i}=this.modifyMax,s=3600;if(n-i<s||t<=r)return;let l=[],{tuids:o}=this.uq;for(let u in o)l.push(u);l.length!==0&&(this.modifyMax.seconds=n,this.innerPullModify(l.join("	")))}async innerPullModify(t){let{uqApi:n,tuids:r}=this.uq,{max:i}=this.modifyMax,s=await n.queueModify(i,30,t),l={},o=0;for(let c of s.queue){let{id:d,entity:h,key:m}=c;if(!m)continue;let v=r[h];if(v===void 0)continue;let y=l[h];y===void 0&&(y=l[h]={tuid:v,ids:[]}),y.ids.push(m),d>o&&(o=d)}for(let c in l){let{tuid:d,ids:h}=l[c];await d.modifyIds(h)}let u=Math.floor(Date.now()/1e3);this.modifyMax={max:o,seconds:u},this.uq.localModifyMax.set(this.modifyMax)}}class p_ extends gi{get typeName(){return"action"}async submit(t,n=void 0,r=!0){return await new Aa(this,t,n,r).request()}async submitReturns(t,n=void 0){return await new v_(this,t,n).request()}async submitConvert(t,n=void 0){return await new g_(this,t,n).request()}}class y_ extends p_{}class Aa extends XC{get path(){return"action/"+this.entity.name}buildParams(){let t=this._entity.schema.jsoned===!0?this.entity.packJson(this.params):this.entity.pack(this.params);return{$$user:this.$$user,data:t}}}class v_ extends Aa{get path(){return"action/"+this.entity.name+"/returns"}xresult(t){let{returns:n}=this.entity,r=n.length,i={};for(let s=0;s<r;s++){let l=n[s];i[l.name]=t[s]}return i}}class g_ extends Aa{get path(){return"action-convert/"+this.entity.name}buildParams(){return{$$user:this.$$user,data:this.params}}}class x_ extends gi{constructor(){super(...arguments);x(this,"states");x(this,"verify")}get typeName(){return"sheet"}setSchema(n){super.setSchema(n),this.states=n.states,this.verify=n.verify}build(n){this.states=[];for(let r of n.ops)this.states.push({name:r,actions:void 0})}createSheetState(n,r){let i={name:n,actions:[]},s=i.actions;for(let l in r){let o={name:l};s.push(o)}return i}async save(n,r){let{id:i}=this.uq,s={app:i,discription:n,data:r};return await new qx(this,s).request()}async saveDebugDirect(n,r){let{id:i}=this.uq,s={app:i,discription:n,data:r};return await new b_(this,s).request()}async action(n,r,i,s){return await new Ux(this,{id:n,flow:r,state:i,action:s}).request()}async actionDebugDirect(n,r,i,s){return await new j_(this,{id:n,flow:r,state:i,action:s}).request()}unpack(n){let i=n[0][0],s=this.unpackSheet(i.data),l=n[1];return{brief:i,data:s,flows:l}}async getSheet(n){let r=await new S_(this,n).request();return r[0].length===0?await this.getArchive(n):this.unpack(r)}async getArchive(n){let r=await new k_(this,n).request();return this.unpack(r)}async getArchives(n,r){let i={pageStart:n,pageSize:r};return await new C_(this,i).request()}async getStateSheets(n,r,i){let s={state:n,pageStart:r,pageSize:i};return await new __(this,s).request()}async stateSheetCount(){return await new N_(this,void 0).request()}async userSheets(n,r,i,s){let l={state:n,user:r,pageStart:i,pageSize:s};return await new D_(this,l).request()}async mySheets(n,r,i){let s={state:n,pageStart:r,pageSize:i};return await new I_(this,s).request()}}class w_ extends x_{}class dr extends ms{constructor(){super(...arguments);x(this,"suffix")}get entity(){return this._entity}get path(){return`sheet/${this.entity.name}/${this.suffix}`}}class qx extends dr{get path(){return`sheet/${this.entity.name}`}buildParams(){let{app:t,discription:n,data:r}=this.params;return{app:t,discription:n,data:this.entity.pack(r)}}xresult(t){let{verify:n}=this.entity;if(n===void 0)return t;let r=t.verify;if(r===void 0||r.length===0)return t.verify=void 0,t;let{returns:i}=n;return t.verify=this.entity.unpackReturns(r,i),t}}class b_ extends qx{get path(){return`sheet/${this.entity.name}/direct`}}class Ux extends dr{constructor(){super(...arguments);x(this,"method","PUT")}get path(){return`sheet/${this.entity.name}`}}class j_ extends Ux{get path(){return`sheet/${this.entity.name}/direct`}}class S_ extends dr{constructor(){super(...arguments);x(this,"method","GET")}buildParams(){}get path(){return`sheet/${this.entity.name}/get/${this.params}`}}class k_ extends dr{constructor(){super(...arguments);x(this,"method","GET")}buildParams(){}get path(){return`sheet/${this.entity.name}/archive/${this.params}`}}class C_ extends dr{constructor(){super(...arguments);x(this,"suffix","archives")}}class __ extends dr{constructor(){super(...arguments);x(this,"suffix","states")}}class N_ extends dr{constructor(){super(...arguments);x(this,"method","GET");x(this,"suffix","statecount")}xresult(n){let{states:r}=this.entity;return r.map(i=>{let s=i.name,l=0,o=n.find(u=>u.state===s);return o!==void 0&&(l=o.count),{state:s,count:l}})}}class D_ extends dr{constructor(){super(...arguments);x(this,"suffix","user-sheets")}xresult(n){return n}}class I_ extends dr{constructor(){super(...arguments);x(this,"suffix","my-sheets")}xresult(n){return n}}class cu extends gi{constructor(){super(...arguments);x(this,"isPaged");x(this,"order")}get typeName(){return"query"}setSchema(n){super.setSchema(n);let{returns:r,order:i}=n;this.returns=r,this.order=i??"asc",this.isPaged=r&&r.find(s=>s.name==="$page")!==void 0}pageCaller(n,r=void 0,i=!0){return new Gf(this,n,r,i)}async page(n,r,i,s=void 0,l=!0){let o={pageStart:r,pageSize:i,params:n};return await this.pageCaller(o,s,l).request()}queryCaller(n,r=void 0,i=!0){return new Qf(this,n,r,i)}async query(n,r=void 0,i=!0){return await this.queryCaller(n,r,i).request()}async table(n,r=void 0,i=!0){let s=await this.query(n,r,i);for(let l in s)return s[l]}async obj(n,r=void 0,i=!0){let s=await this.table(n,r,i);if(s.length>0)return s[0]}async scalar(n,r=void 0,i=!0){let s=await this.obj(n,r,i);for(let l in s)return s[l]}}class E_ extends cu{}class P_ extends cu{constructor(){super(...arguments);x(this,"queryApiName","book")}get typeName(){return"book"}queryCaller(n){return new O_(this,n)}}class A_ extends P_{}class O_ extends Qf{get path(){return`book/${this.entity.name}`}}class M_ extends cu{constructor(){super(...arguments);x(this,"queryApiName","history")}get typeName(){return"history"}}class F_ extends M_{}class T_ extends gi{constructor(){super(...arguments);x(this,"keys");x(this,"actions",{});x(this,"queries",{});x(this,"schemaFrom")}get typeName(){return"map"}setSchema(n){super.setSchema(n),this.schemaFrom=this.schema.from;let{actions:r,queries:i,keys:s}=n;this.uq.buildFieldTuid(this.keys=s);for(let l in r){let o=r[l],{name:u}=o;if(u===void 0)continue;let c=this.uq.newAction(u,void 0);c.setSchema(o),c.buildFieldsTuid(),this.actions[l]=c}for(let l in i){let o=i[l],{name:u}=o;if(u===void 0)continue;let c=this.uq.newQuery(u,void 0);c.setSchema(o),c.buildFieldsTuid(),this.queries[l]=c}}async add(n){return await new L_(this,n).request()}async del(n){return await new q_(this,n).request()}async all(){return await new U_(this,void 0).request()}async page(n,r,i){return await new $_(this,{pageStart:r,pageSize:i,param:n}).request()}async query(n){return await new V_(this,n).request()}async table(n){let r=await this.query(n);for(let i in r)return r[i]}async obj(n){let r=await this.table(n);if(r.length>0)return r[0]}async scalar(n){let r=await this.obj(n);for(let i in r)return r[i]}}let R_=class extends T_{};class Oa extends ms{get entity(){return this._entity}get path(){}async innerCall(){let t=this.getCaller(this.params),n=await this.entity.uqApi.xcall(t);return{res:t.xresult(n.res)}}buildParams(){return super.buildParams()}}class L_ extends Oa{getCaller(t){return new z_(this.entity,this.entity.actions.add,t)}}class q_ extends Oa{getCaller(t){return new B_(this.entity,this.entity.actions.add,t)}}class U_ extends Oa{getCaller(t){return new Y_(this.entity,this.entity.queries.all,t)}}class $_ extends Oa{getCaller(t){return new W_(this.entity,this.entity.queries.page,t)}}class V_ extends Oa{getCaller(t){return new H_(this.entity,this.entity.queries.query,t)}}class z_ extends Aa{constructor(n,r,i){super(r,i);x(this,"map");this.map=n}get path(){return`map/${this.map.name}/add`}get headers(){}}class B_ extends Aa{constructor(n,r,i){super(r,i);x(this,"map");this.map=n}get path(){return`map/${this.map.name}/del`}get headers(){}}class Y_ extends Gf{constructor(n,r,i){super(r,i);x(this,"map");this.map=n}get path(){return`map/${this.map.name}/all`}get headers(){}}class W_ extends Gf{constructor(n,r,i){super(r,i);x(this,"map");this.map=n}get path(){return`map/${this.map.name}/page`}get headers(){}}class H_ extends Qf{constructor(n,r,i){super(r,i);x(this,"map");this.map=n}get path(){return`map/${this.map.name}/query`}get headers(){}}class Q_ extends cu{constructor(){super(...arguments);x(this,"queryApiName","pending")}get typeName(){return"pending"}}class G_ extends Q_{}class K_ extends gi{get typeName(){return"enum"}}class Kf extends gi{constructor(){super(...arguments);x(this,"permitRole")}setPermitRole(n){this.permitRole=n}}class X_ extends Kf{constructor(){super(...arguments);x(this,"create");x(this,"update");x(this,"owner");x(this,"keys")}get typeName(){return"id"}async NO(){return await this.uqApi.post("id-no",{ID:this.name})}setKeys(){this.keys=this.schema.keys}get isGlobal(){return this.schema.global}getIdFromObj(n){return n.id}valueFromString(n){if(!n)return;let r={};return this.unpackRow(r,this.fields,n,0,12),r}cacheTuids(n){}async valueFromId(n){return(await this.uq.QueryID({ID:this,id:[n]}))[0]}async loadValuesFromIds(n,r){return await this.uq.QueryID({IDX:[this],id:r})}cacheTuidFieldValues(n){}unpackTuidIds(n){}unpackJoins(n,r){let i={};i=this.unpackStr(n==null?void 0:n.value,this.fields,void 0);let s=[],l=0,o=this.schema.joins;for(let u of o){let{ID:c,field:d}=u,h=this.uq.entities[c],{fields:m}=h,v=m.find(w=>w.name===d),y=r[l];s.push([c,y.map(w=>this.unpackStr(w.value,m,v))]),++l}return[[this.name,i],s]}unpackStr(n,r,i){let s={},l=0,o=0,u=l,c=0,d=n.length,h=r.length,m=12;const v=()=>{let y=r[c];y===i&&(++c,y=r[c]);let{name:w}=y;if(l>u){let S=n.substring(u,l);s[w]=this.to(s,S,y)}};for(;l<d&&(o=n.charCodeAt(l),!(o===m&&(v(),u=l+1,++c,c>=h)));l++);return v(),s}}let Z_=class extends X_{};class J_ extends Kf{get typeName(){return"idx"}}class eN extends J_{}class tN extends Kf{get typeName(){return"ix"}}class nN extends tN{}class rN{constructor(t,n,r){x(this,"entities",{});x(this,"entityTypes",{});x(this,"enums",{});x(this,"actions",{});x(this,"queries",{});x(this,"ids",{});x(this,"idxs",{});x(this,"ixs",{});x(this,"sheets",{});x(this,"books",{});x(this,"maps",{});x(this,"histories",{});x(this,"pendings",{});x(this,"tuidsCache");x(this,"localEntities");x(this,"localMap");x(this,"localModifyMax");x(this,"tuids",{});x(this,"newVersion");x(this,"uqOwner");x(this,"uqName");x(this,"uqSchema");x(this,"name");x(this,"id");x(this,"net");x(this,"uqApi");x(this,"baseUrl","tv/");x(this,"unit");x(this,"proxy");x(this,"$proxy");x(this,"uqVersion");x(this,"config");x(this,"roles");x(this,"Role");x(this,"tuidArr",[]);x(this,"actionArr",[]);x(this,"queryArr",[]);x(this,"idArr",[]);x(this,"idxArr",[]);x(this,"ixArr",[]);x(this,"enumArr",[]);x(this,"sheetArr",[]);x(this,"bookArr",[]);x(this,"mapArr",[]);x(this,"historyArr",[]);x(this,"pendingArr",[]);x(this,"Biz",async(t,n)=>{await this.uqApi.bizSheet(t,n)});x(this,"BizSheetAct",async(t,n,r)=>await this.uqApi.bizSheetAct(t,n,r));x(this,"Acts",async t=>{let r=(await this.apiActs(t,0))[0].ret.split(`
`),i=[];for(let l in t)i.push(l);let s={};for(let l=0;l<i.length;l++)s[i[l]]=Es(r[l].split("	"));return s});x(this,"AdminGetList",async()=>await this.uqApi.getAdmins());x(this,"AdminSetMe",async()=>await this.uqApi.setMeAdmin());x(this,"AdminSet",async(t,n,r)=>await this.uqApi.setAdmin(t,n,r));x(this,"AdminIsMe",async()=>await this.uqApi.isAdmin());x(this,"IDValue",(t,n)=>{if(!t)return;let r=this.ids[t.toLowerCase()];if(r!==void 0)return r.valueFromString(n)});x(this,"$Acts",async t=>await this.apiActs(t,1));x(this,"ActIX",async t=>(await this.apiActIX(t,0))[0].ret.trim().split("	").map(l=>Number(l)));x(this,"$ActIX",async t=>await this.apiActIX(t,1));x(this,"ActIXSort",async t=>await this.apiActIxSort(t,0));x(this,"$ActIXSort",async t=>await this.apiActIxSort(t,1));x(this,"ActIDProp",async(t,n,r,i)=>{await this.uqApi.post("act-id-prop",{ID:t.name,id:n,name:r,value:i})});x(this,"ActID",async t=>{let r=(await this.apiActID(t,0))[0].ret.split("	").map(i=>Number(i))[0];if(isNaN(r)!==!0)return r});x(this,"$ActID",async t=>await this.apiActID(t,1));x(this,"ActDetail",async t=>{let n=await this.apiActDetail(t,0),s=n[0].ret.split(`
`).map(l=>l.split("	"));return n={main:Es(s[0])[0],detail:Es(s[1]),detail2:Es(s[2]),detail3:Es(s[3])},n});x(this,"$ActDetail",async t=>await this.apiActDetail(t,1));x(this,"QueryID",async t=>await this.apiQueryID(t,0));x(this,"$QueryID",async t=>await this.apiQueryID(t,1));x(this,"IDTv",async t=>{let n=await this.apiIDTv(t,0),r=[];for(let i of n){let{$type:s,$tv:l}=i;if(!l)continue;let o=this.ids[s];if(!o)continue;let{schema:u}=o;u||(await o.loadSchema(),u=o.schema);let{nameNoVice:c}=u;if(!c)continue;let d=l.split(`
`),h=c.length;for(let m=0;m<h;m++){let v=c[m];i[v]=d[m]}delete i.$tv,r.push(i)}return r});x(this,"$IDTv",async t=>await this.apiIDTv(t,1));x(this,"IDNO",async t=>{var r;return(r=(await this.apiIDNO(t,0))[0])==null?void 0:r.no});x(this,"IDEntity",t=>this.entityTypes[t]);x(this,"IDFromName",t=>this.ids[t]);x(this,"$IDNO",async t=>await this.apiIDNO(t,1));x(this,"IDDetailGet",async t=>await this.apiIDDetailGet(t,0));x(this,"$IDDetailGet",async t=>await this.apiIDDetailGet(t,1));x(this,"cache",{});x(this,"cachePromise",{});x(this,"idCache",t=>this.cache[t]);x(this,"idObj",async t=>{let n=this.cache[t];if(n===void 0){let r=this.cachePromise[t];r===void 0&&(r=this.apiID({id:t,IDX:void 0},0),this.cachePromise[t]=r);let i;try{i=await r}catch(s){console.error(s)}if(i!==void 0){n=i[0],this.cache[t]=n===void 0?null:n;let s=i.length;for(let l=1;l<s;l++){let o=i[l],{id:u}=o===void 0?null:o;this.cache[u]=o}}else this.cache[t]=null;delete this.cachePromise[t]}return n});x(this,"idJoins",async t=>{let n=await this.apiPost("id-joins",0,{id:t}),r=n.shift(),i=r==null?void 0:r[0];if(i===void 0)throw new Error("id-joins return no value");let{ID:s}=i,l=this.IDFromName(s),o=n,[u,c]=l.unpackJoins(i,o);return{ID:l,main:u,joins:c}});x(this,"ID",async t=>await this.apiID(t,0));x(this,"$ID",async t=>await this.apiID(t,1));x(this,"KeyID",async t=>await this.apiKeyID(t,0));x(this,"$KeyID",async t=>await this.apiKeyID(t,1));x(this,"IX",async t=>await this.apiIX(t,0));x(this,"$IX",async t=>await this.apiIX(t,1));x(this,"IXValues",async t=>await this.apiIXValues(t,0));x(this,"IXr",async t=>await this.apiIXr(t,0));x(this,"$IXr",async t=>await this.apiIXr(t,1));x(this,"KeyIX",async t=>await this.apiKeyIX(t,0));x(this,"$KeyIX",async t=>await this.apiKeyIX(t,1));x(this,"IDLog",async t=>await this.apiIDLog(t,0));x(this,"$IDLog",async t=>await this.apiIDLog(t,1));x(this,"IDSum",async t=>await this.apiIDSum(t,0));x(this,"$IDSum",async t=>await this.apiIDSum(t,1));x(this,"IDinIX",async t=>await this.apiIDinIX(t,0));x(this,"$IDinIX",async t=>await this.apiIDinIX(t,1));x(this,"IDxID",async t=>await this.apiIDxID(t,0));x(this,"$IDxID",async t=>await this.apiIDxID(t,1));x(this,"IDTree",async t=>await this.apiIDTree(t,0));x(this,"$IDTree",async t=>await this.apiIDTree(t,1));this.net=t,this.unit=0;let{id:i,uqOwner:s,uqName:l,newVersion:o}=n;this.newVersion=o,this.uqOwner=s,this.uqName=l,this.uqSchema=r,this.id=i,this.name=s+"/"+l,this.uqVersion=0,this.localMap=t.createLocalMap(this.name),this.localModifyMax=this.localMap.child("$modifyMax"),this.localEntities=this.localMap.child("$access"),this.tuidsCache=new m_(this),this.uqApi=new CC(this)}getID(t){return this.ids[t.toLowerCase()]}getIDX(t){return this.idxs[t.toLowerCase()]}getIX(t){return this.ixs[t.toLowerCase()]}clearLocalEntites(){this.localMap.removeItem(this.name)}async getRoles(){return this.roles!==void 0?this.roles:(this.roles=await this.uqApi.getRoles(),this.roles)}tuid(t){return this.tuids[t.toLowerCase()]}tuidDiv(t,n){let r=this.tuids[t.toLowerCase()];return r&&r.div(n.toLowerCase())}action(t){return this.actions[t.toLowerCase()]}sheet(t){return this.sheets[t.toLowerCase()]}query(t){return this.queries[t.toLowerCase()]}book(t){return this.books[t.toLowerCase()]}map(t){return this.maps[t.toLowerCase()]}history(t){return this.histories[t.toLowerCase()]}pending(t){return this.pendings[t.toLowerCase()]}sheetFromTypeId(t){for(let n in this.sheets){let r=this.sheets[n];if(r.typeId===t)return r}}buildEntities(){this.buildEntityFromUqSchema()}buildEntityFromUqSchema(){for(let t in this.uqSchema){let n=this.uqSchema[t],{name:r,type:i}=n;if(r===void 0||i===void 0)continue;let s=this.fromType(r,i);s!==void 0&&s.buildSchema(n)}}buildRole(t){if(t===void 0)return;let n={};for(let r in t){let i=t[r];r!=="$"&&(i=i.map(s=>`${r}.${s}`)),n[r]=i}return n}buildTuids(t){for(let n in t){let r=t[n],{typeId:i,from:s}=r,l=this.newTuid(n,i,s);l.sys=!0}for(let n in t){let r=t[n];this.getTuid(n).setSchema(r)}for(let n in this.tuids)this.tuids[n].buildFieldsTuid()}buildIds(t){for(let n in t){let r=t[n],{typeId:i}=r;this.newID(n,i).setSchema(r)}}async loadEntitySchema(t){return await this.uqApi.schema(t)}async loadAllSchemas(){let t=await this.uqApi.allSchemas();[this.actionArr,this.enumArr,this.sheetArr,this.queryArr,this.bookArr,this.mapArr,this.historyArr,this.pendingArr,this.idArr,this.idxArr,this.ixArr].forEach(r=>{r.forEach(i=>{let s=t[i.name.toLowerCase()];if(!s)return;let l=s.call;l&&i.buildSchema(l)})})}getTuid(t){return this.tuids[t]}buildAccess(t){for(let n in t){let r=t[n];switch(typeof r){case"string":this.fromType(n,r);break;case"object":this.fromObj(n,r);break}}}cacheTuids(t){this.tuidsCache.cacheTuids(t)}setEntity(t,n){this.entities[t]=n,this.entities[t.toLowerCase()]=n,this.entityTypes[n.typeId]=n}newEnum(t,n){let r=this.enums[t];return r!==void 0||(r=this.enums[t]=new K_(this,t,n),this.setEntity(t,r),this.enumArr.push(r)),r}newAction(t,n){let r=this.actions[t];return r!==void 0||(r=this.actions[t]=new y_(this,t,n),this.setEntity(t,r),this.actionArr.push(r)),r}newTuid(t,n,r){let i=this.tuids[t];return i!==void 0||(r!==void 0?i=new d_(this,t,n,r):i=new Rx(this,t,n),this.tuids[t]=i,this.setEntity(t,i),this.tuidArr.push(i)),i}newQuery(t,n){let r=this.queries[t];return r!==void 0||(r=this.queries[t]=new E_(this,t,n),this.setEntity(t,r),this.queryArr.push(r)),r}newBook(t,n){let r=this.books[t];return r!==void 0||(r=this.books[t]=new A_(this,t,n),this.setEntity(t,r),this.bookArr.push(r)),r}newMap(t,n){let r=this.maps[t];return r!==void 0||(r=this.maps[t]=new R_(this,t,n),this.setEntity(t,r),this.mapArr.push(r)),r}newHistory(t,n){let r=this.histories[t];if(r===void 0)return r=this.histories[t]=new F_(this,t,n),this.setEntity(t,r),this.historyArr.push(r),r}newPending(t,n){let r=this.pendings[t];if(r===void 0)return r=this.pendings[t]=new G_(this,t,n),this.setEntity(t,r),this.pendingArr.push(r),r}newSheet(t,n){let r=this.sheets[t];return r!==void 0||(r=this.sheets[t]=new w_(this,t,n),this.setEntity(t,r),this.sheetArr.push(r)),r}newID(t,n){let r=t.toLowerCase(),i=this.ids[r];return i!==void 0||(i=this.ids[r]=new Z_(this,t,n),this.setEntity(t,i),this.idArr.push(i)),i}newIDX(t,n){let r=t.toLowerCase(),i=this.idxs[r];return i!==void 0||(i=this.idxs[r]=new eN(this,t,n),this.setEntity(t,i),this.idxArr.push(i)),i}newIX(t,n){let r=t.toLowerCase(),i=this.ixs[r];return i!==void 0||(i=this.ixs[r]=new nN(this,t,n),this.setEntity(t,i),this.ixArr.push(i)),i}fromType(t,n){let r=n.split("|");n=r[0];let i=Number(r[1]);switch(n){default:break;case"tuid":break;case"id":return this.newID(t,i);case"idx":return this.newIDX(t,i);case"ix":return this.newIX(t,i);case"action":return this.newAction(t,i);case"query":return this.newQuery(t,i);case"book":return this.newBook(t,i);case"map":return this.newMap(t,i);case"history":return this.newHistory(t,i);case"sheet":return this.newSheet(t,i);case"pending":return this.newPending(t,i);case"enum":return this.newEnum(t,i)}}fromObj(t,n){switch(n.$){case"sheet":this.buildSheet(t,n);break}}buildSheet(t,n){let r=this.sheets[t];r===void 0&&(r=this.newSheet(t,n.id)),r.build(n)}buildFieldTuid(t,n){var r;if(t!==void 0){for(let i of t){let{tuid:s}=i;if(s===void 0)continue;let l=this.getTuid(s);l!==void 0&&(i._tuid=l.buildTuidBox())}for(let i of t){let{owner:s}=i;if(s===void 0)continue;let l=t.find(h=>h.name===s);if(l===void 0&&(n!==void 0&&(l=n.find(h=>h.name===s)),l===void 0)){debugger;throw new Error(`owner field ${s} is undefined`)}let{arr:o,tuid:u}=i,c=this.getTuid((r=l._tuid)==null?void 0:r.tuid.name);if(c===void 0)continue;let d=c.div(o||u);i._tuid=d&&d.buildTuidDivBox(l)}}}buildArrFieldsTuid(t,n){if(t!==void 0)for(let r of t){let{fields:i}=r;i!==void 0&&this.buildFieldTuid(i,n)}}pullModify(t){this.tuidsCache.pullModify(t)}getUqKey(){return this.uqName.split(/[-._]/).join("").toLowerCase()}getUqKeyWithConfig(){if(!this.config)return;let t=this.uqName.split(/[-._]/).join("").toLowerCase(),{dev:n,alias:r}=this.config;return t=$p(n.alias||n.name)+$p(r??t),t}hasEntity(t){return this.entities[t]!==void 0||this.entities[t.toLowerCase()]!==void 0}async apiPost(t,n,r){return n===1&&(t="sql-"+t),await this.uqApi.post(t,r)}async apiActs(t,n){let r=[],i={};for(let l in t)r.push(l),i[l]=t[l].map(o=>this.buildValue(o));return i.$=r,await this.apiPost("acts",n,i)}buildValue(t){if(!t)return t;let n={};for(let r in t){let i=t[r];if(r==="ID")switch(typeof i){case"object":i=i.name;break}else if(r==="time")i&&Object.prototype.toString.call(i)==="[object Date]"&&(i=i.getTime());else if(typeof i=="object"){let s=i.id;s===void 0?i=this.buildValue(i):i=s}n[r]=i}return n}async apiActIX(t,n){let{IX:r,ID:i,values:s,IXs:l}=t,o={IX:me(r),ID:me(i),IXs:l==null?void 0:l.map(c=>({IX:me(c.IX),ix:c.ix})),values:s==null?void 0:s.map(c=>this.buildValue(c))};return await this.apiPost("act-ix",n,o)}async apiActIxSort(t,n){let{IX:r,ix:i,id:s,after:l}=t,o={IX:me(r),ix:i,id:s,after:l};return await this.apiPost("act-ix-sort",n,o)}async apiActID(t,n){let{ID:r,value:i,IX:s,ix:l}=t,o={ID:me(r),value:this.buildValue(i),IX:s==null?void 0:s.map(u=>me(u)),ix:l==null?void 0:l.map(u=>this.buildValue(u))};return await this.apiPost("act-id",n,o)}async apiActDetail(t,n){var u,c,d;let{main:r,detail:i,detail2:s,detail3:l}=t,o={main:{name:me(r.ID),value:yl(r.value)},detail:{name:me(i.ID),values:(u=i.values)==null?void 0:u.map(h=>yl(h))}};s&&(o.detail2={name:me(s.ID),values:(c=s.values)==null?void 0:c.map(h=>yl(h))}),l&&(o.detail3={name:me(l.ID),values:(d=l.values)==null?void 0:d.map(h=>yl(h))}),await this.apiPost("act-detail",n,o)}async apiQueryID(t,n){let{ID:r,IX:i,IDX:s}=t;return s||(s=[r]),await this.apiPost("query-id",n,{...t,ID:me(r),IX:i==null?void 0:i.map(o=>me(o)),IDX:this.IDXToString(s)})}async apiIDTv(t,n){return await this.apiPost("id-tv",n,t)}async syncUser(t){return await this.uqApi.syncUser(t)}async apiIDNO(t,n){let{ID:r,stamp:i}=t;return await this.apiPost("id-no",n,{ID:me(r),stamp:i})}async apiIDDetailGet(t,n){let{id:r,main:i,detail:s,detail2:l,detail3:o}=t;return await this.apiPost("id-detail-get",n,{id:r,main:me(i),detail:me(s),detail2:me(l),detail3:me(o)})}IDXToString(t){return Array.isArray(t)===!0?t.map(n=>me(n)):me(t)}async apiID(t,n){let{IDX:r}=t,i={...t,IDX:this.IDXToString(r)};return await this.apiPost("id",n,i)}idCacheDel(t){delete this.cache[t]}async apiKeyID(t,n){let{ID:r,IDX:i}=t;return await this.apiPost("key-id",n,{...t,ID:me(r),IDX:i==null?void 0:i.map(l=>me(l))})}async apiIX(t,n){let{IX:r,IX1:i,IDX:s}=t;return await this.apiPost("ix",n,{...t,IX:me(r),IX1:me(i),IDX:s==null?void 0:s.map(o=>me(o))})}async apiIXValues(t,n){let{IX:r}=t;return await this.apiPost("ix-values",n,{...t,IX:me(r)})}async apiIXr(t,n){let{IX:r,IX1:i,IDX:s}=t;return await this.apiPost("ixr",n,{...t,IX:me(r),IX1:me(i),IDX:s==null?void 0:s.map(o=>me(o))})}async apiKeyIX(t,n){let{ID:r,IX:i,IDX:s}=t;return await this.apiPost("key-ix",n,{...t,ID:me(r),IX:me(i),IDX:s==null?void 0:s.map(o=>me(o))})}async apiIDLog(t,n){let{IDX:r}=t;return await this.apiPost("id-log",n,{...t,IDX:me(r)})}async apiIDSum(t,n){let{IDX:r}=t;return await this.apiPost("id-sum",n,{...t,IDX:me(r)})}async apiIDinIX(t,n){let{ID:r,IX:i}=t;return await this.apiPost("id-in-ix",n,{...t,ID:me(r),IX:me(i)})}async apiIDxID(t,n){let{ID:r,IX:i,ID2:s}=t;return await this.apiPost("id-x-id",n,{...t,ID:me(r),IX:me(i),ID2:me(s)})}async apiIDTree(t,n){let{ID:r}=t;return await this.apiPost("id-tree",n,{...t,ID:me(r)})}}function Es(e){if(!e)return;let t=e.length;if(t<=1)return;let n=[];for(let r=0;r<t-1;r++)n.push(Number(e[r]));return n}function me(e){if(e)return typeof e=="string"?e:e.name}function yl(e){if(!e)return e;let t={};for(let n in e){let r=e[n];typeof r=="object"&&(r=r.id),t[n]=r}return t}class iN{constructor(t,n){x(this,"net");x(this,"uqsSchema");x(this,"collection");x(this,"uqMans",[]);this.net=t,this.uqsSchema=n,this.uqMans=[],this.collection={}}buildUqs(t,n,r,i){this.init(t);let l=this.net.createLocalMap("$app").child("version"),o=l.get();if(n!==o){for(let u of this.uqMans)u.localMap.removeAll();l.set(n)}if(this.buildUqEntities(),r)for(let u of r){let{dev:c,name:d,alias:h}=u,{name:m,alias:v}=c,y=(v??m).toLowerCase()+"/"+(h??d).toLowerCase(),w=this.collection[y];w.config=u}}uq(t){return this.collection[t.toLowerCase()]}async getUqUserRoles(t){let n=this.collection[t];return n===void 0?null:await n.getRoles()}init(t){for(let n of t){let{uqOwner:r,ownerAlias:i,uqName:s,uqAlias:l}=n,o=r+"/"+s,u=this.collection[o],c;if(u)c=u;else{let h=this.uqsSchema[o];c=new rN(this.net,n,h),this.collection[o]=c}this.uqMans.push(c);let d=o.toLowerCase();this.collection[d]=c,l&&(s=l),i&&(r=i),o=r+"/"+s,d=o.toLowerCase(),this.collection[d]=c}}buildUqEntities(){for(let t of this.uqMans)t.buildEntities()}getUqMans(){return this.uqMans}setTuidImportsLocal(){let t=[];for(let n of this.uqMans)for(let r of n.tuidArr)if(r.isImport===!0){let i=this.setInner(r);i&&t.push(i)}return t}setInner(t){let{from:n}=t,r=n.owner+"/"+n.uq,i=this.collection[r];if(i===void 0)return;let s=t.name,l=i.tuid(s);if(l===void 0)return`setInner(tuidImport: TuidImport): uq ${r} has no Tuid ${s}`;if(l.isImport===!0)return`setInner(tuidImport: TuidImport): uq ${r} Tuid ${s} is import`;t.setFrom(l)}}const sN="uq-data-local-storage";class aN{constructor(t,n,r,i){x(this,"net");x(this,"uqConfigVersion");x(this,"uqConfigs");x(this,"uqsSchema");x(this,"isBuildingUQ",!1);x(this,"uqsMan");this.net=t,this.uqConfigVersion=n,this.uqConfigs=r,this.uqsSchema=i}async build(){return await this.loadUqs()}async loadUqs(){this.uqsMan=new iN(this.net,this.uqsSchema);let t=await this.loadUqData(this.uqConfigs);this.uqsMan.buildUqs(t,this.uqConfigVersion,this.uqConfigs,this.isBuildingUQ)}async loadUqData(t){return t.map(i=>{let{dev:s,name:l,version:o,alias:u}=i,{name:c,alias:d}=s;return{owner:c,ownerAlias:d,name:l,version:o,alias:u}}).map(i=>{let{name:s,alias:l,owner:o,ownerAlias:u}=i,c;return c={id:void 0,uqName:s,uqAlias:l,uqOwner:o,ownerAlias:u,access:void 0,newVersion:void 0},c})}loadLocal(t){let n=this.net.getLocalDbItem(sN);if(n)try{let r=JSON.parse(n);for(let i of t){let{owner:s,name:l}=i;if(r.findIndex(u=>{let{uqOwner:c,uqName:d}=u;return s.toLowerCase()===c.toLowerCase()&&l.toLowerCase()===d.toLowerCase()})<0)return}return r}catch{return}}}async function lN(e,t,n,r){let i=new aN(e,t,n,r);return await i.build(),i.uqsMan}var rr=(e=>(e[e.user=0]="user",e[e.admin=1]="admin",e[e.owner=2]="owner",e))(rr||{});class oN{constructor(t){x(this,"uqMan");x(this,"mySitesColl");x(this,"userSite0");x(this,"mySites");x(this,"userSite");this.uqMan=t}async login(){await this.loadMyRoles()}loginUnit(t){this.userSite=t}logoutUnit(){this.userSite=void 0}hasRole(t){if(this.userSite===void 0)return!1;let{rolesAtom:n,isAdmin:r}=this.userSite;if(r===!0)return!0;if(n===void 0)return!1;let i=ye(n);if(Array.isArray(t)===!0){let s=t;for(let l of s)if(i.indexOf(l)>=0===!0)return!0;return!1}else return i.indexOf(t)>=0}async Poked(){let r=(await this.uqMan.entities.$poked.query({})).ret;return r.length===0?!1:r[0].poke===1}async reloadMyRoles(){this.mySitesColl=void 0,await this.loadMyRoles()}async setSite(t){await this.uqMan.entities.$setsite.submit({site:t}),await this.reloadMyRoles()}async loadMyRoles(){if(this.mySitesColl!==void 0)return;this.mySites=[],this.mySitesColl={};let n=await this.uqMan.entities.$role_my.query({}),{sites:r,roles:i,permits:s}=n;const l=u=>{let c=this.mySitesColl[u];return c===void 0&&(c={site:u,rolesAtom:ze([]),permits:{}},this.mySitesColl[u]=c,u!==0?this.mySites.push(c):this.userSite0=c),c};let o;for(let u of r){let{id:c,site:d,admin:h,entity:m,assigned:v,def:y}=u,w=l(d);w.id=c,w.siteId=d,w.isAdmin=(h&1)===1,w.isOwner=(h&2)===2,w.entity=m,w.assigned=v,o===void 0&&w!==this.userSite0&&(o=w),y===1&&(o=w)}if(this.userSite=o,o!==void 0){let u=this.mySites.findIndex(c=>c===o);u>=0&&(this.mySites.splice(u,1),this.mySites.unshift(o))}for(let u of i){let{site:c,role:d}=u,h=l(c),{rolesAtom:m}=h,v=ye(m);v===void 0&&(v=[]),v.push(d),oe(m,v),h.permits[d]=!0}for(let u of s){let{site:c,permit:d}=u,h=l(c);h.permits[d]=!0}}}class uN{constructor(t){x(this,"$_uqMan");x(this,"$_uqSql");this.$_uqMan=t,this.$_uqSql=this.$_createUqSqlProxy()}$_createProxy(){return new Proxy(this.$_uqMan.entities,{get:(n,r,i)=>{if(r==="SQL")return this.$_uqSql;let s=r.toLowerCase();if(s[0]==="$")switch(s){case"$":return this}let l=n[s];if(l!==void 0)return l;let o=this.$_uqMan[r];if(o!==void 0||(o=this[r],o!==void 0))return o;this.errUnexistEntity(String(r))}})}$_createUqSqlProxy(){return new Proxy(this.$_uqMan,{get:(n,r,i)=>{let s=n["$"+r];if(s!==void 0)return s;this.errUnexistEntity(String(r))}})}errUnexistEntity(t){let n=`entity ${this.$_uqMan.name}.${t} not defined`,r=new Error(n);throw r.name="UnexistEntity",this.$_uqMan.clearLocalEntites(),r}}function cN(e){const t={};function n(l,o){if(!l)return;let u=l.toLowerCase();t[l]=o,u!==l&&(t[u]=o)}const{uqMans:r}=e,i=r.length;console.log("uqMans",r);for(let l=0;l<i;l++){const o=r[l];let c=new uN(o).$_createProxy();n(o.getUqKey(),c),n(o.getUqKeyWithConfig(),c),l===0&&n("uqdefault",c)}function s(l){for(let o in t)t[o].localMap.removeAll();console.error(`uq proxy ${l} error`)}return new Proxy(t,{get:(l,o,u)=>{let c=o.toLowerCase(),d=l[c];if(d!==void 0)return d;debugger;console.error(`controller.uqs.${String(o)} undefined`),s(String(o))}})}const zp=[10,3,3,3,3,3,5,5,5,5,5,5,5,5,10,10,10,10,15,15,15,30,30,60];class dN{constructor(t,n){x(this,"uqApp");x(this,"refreshAction");x(this,"timer");x(this,"refreshTime",Date.now()/1e3);x(this,"refresh",async()=>{let t=Date.now()/1e3;t-this.refreshTime<30||(await this.refreshAction(),this.refreshTime=t)});x(this,"tick",0);x(this,"gapIndex",0);x(this,"callTick",async()=>{try{if(++this.tick,this.tick<zp[this.gapIndex])return;this.tick=0,this.gapIndex<zp.length-1&&++this.gapIndex;let{uqSites:t}=this.uqApp;if(t){if(await t.Poked()===!1)return;this.gapIndex=1,await this.refresh()}}catch{}});this.uqApp=t,this.refreshAction=n}start(){this.refreshAction!==void 0&&(this.stop(),this.timer=setInterval(this.callTick,1e3),this.refreshAction())}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}}class fN{constructor(){x(this,"ls");this.ls=localStorage}getItem(t){var n;return this.ls?(n=this.ls)==null?void 0:n.getItem(t):null}setItem(t,n){var r;(r=this.ls)==null||r.setItem(t,n)}removeItem(t){var n;(n=this.ls)==null||n.removeItem(t)}}const Fn=new fN;class hN{constructor(t,n){x(this,"local");x(this,"key");this.local=t,this.key=n}get(){try{let t=this.local.getItem(this.key);return t===null||t===void 0||t==="undefined"?void 0:JSON.parse(t)}catch{this.local.removeItem(this.key);return}}set(t){let n=JSON.stringify(t,(r,i)=>{if(r!=="_tuid")return i});this.local.setItem(this.key,n)}remove(t){t===void 0?this.local.removeItem(this.key):this.local.removeLocal(t)}child(t){return this.local.child(t)}arr(t){return this.local.arr(t)}map(t){return this.local.map(t)}}class $x{constructor(t){x(this,"caches");x(this,"locals");x(this,"name");this.name=t,this.caches={},this.locals={}}getItem(t){let n=this.keyForGet(t);if(n!==void 0)return Fn.getItem(n)}setItem(t,n){let r=this.keyForSet(t);Fn.setItem(r,n)}removeItem(t){let n=this.keyForSet(t);n!==void 0&&localStorage.removeItem(n)}arr(t){let n=String(t),r=this.locals[n];if(r===void 0){let i=this.keyForSet(t);this.locals[n]=r=new Bp(i)}return r}map(t){let n=String(t),r=this.locals[n];if(r===void 0){let i=this.keyForSet(t);this.locals[n]=r=new Vx(i)}return r}removeLocal(t){let n=t.name,r=this.keyForRemove(n);if(r===void 0)return;let i=this.locals[n];i===void 0?i=new Bp(r):this.locals[n]=void 0,i.removeAll()}child(t){let n=String(t),r=this.caches[n];return r!==void 0?r:this.caches[n]=r=new hN(this,t)}}const mN=500;class Bp extends $x{constructor(n){super(n);x(this,"index");let r=Fn.getItem(this.name);this.index=r===null?[]:r.split(`
`).map(i=>Number(i))}saveIndex(){Fn.setItem(this.name,this.index.join(`
`))}keyForGet(n){if(!(this.index.indexOf(n)<0))return`${this.name}.${n}`}keyForSet(n){let r=this.index.indexOf(n);return r<0?(this.index.unshift(n),this.index.length>mN&&this.index.pop()):(this.index.splice(r,1),this.index.unshift(n)),this.saveIndex(),`${this.name}.${n}`}keyForRemove(n){let r=this.index.indexOf(n);if(!(r<0))return this.index.splice(r,1),this.saveIndex(),`${this.name}.${n}`}removeAll(){for(let n of this.index)Fn.removeItem(`${this.name}.${n}`);Fn.removeItem(this.name),this.index.splice(0)}item(n){return this.child(n)}}class Vx extends $x{constructor(n){super(n);x(this,"index");x(this,"max");this.max=0,this.index={};let r=Fn.getItem(this.name);r!==null&&r.split(`
`).forEach(s=>{let l=s.indexOf("	");if(l<0)return;let o=s.substr(0,l),u=Number(s.substr(l+1));isNaN(u)!==!0&&(this.index[o]=u,u>this.max&&(this.max=u))})}saveIndex(){let n=[];for(let r in this.index){let i=this.index[r];i!==void 0&&n.push(`${r}	${i}`)}Fn.setItem(this.name,n.join(`
`))}keyForGet(n){let r=this.index[n];if(r!==void 0)return`${this.name}.${r}`}keyForSet(n){let r=this.index[n];return r===void 0&&(++this.max,r=this.max,this.index[n]=r,this.saveIndex()),`${this.name}.${r}`}keyForRemove(n){let r=this.index[n];if(r!==void 0)return this.index[n]=void 0,this.saveIndex(),`${this.name}.${r}`}removeAll(){for(let n in this.index)Fn.removeItem(`${this.name}.${this.index[n]}`),this.index[n]=void 0;Fn.removeItem(this.name),this.max=0}item(n){return this.child(n)}}class pN{constructor(t){x(this,"localMap");x(this,"user");x(this,"guest");x(this,"unit");x(this,"_user");x(this,"_guest");x(this,"_unit");this.localMap=new Vx(t===!0?"$$":"$"),this.user=this.localMap.child("user"),this.guest=this.localMap.child("guest"),this.unit=this.localMap.child("unit")}readToMemory(){this._user=this.user.get(),this._guest=this.guest.get(),this._unit=this.unit.get()}saveToLocalStorage(){this.user.set(this._user),this.guest.set(this._guest),this.unit.set(this._unit)}logoutClear(){[this.user,this.unit].forEach(t=>t.remove())}}class yN{constructor(){x(this,"p")}onNav(t,n){var i,s;let r;switch(t){case rn.Push:r=this.p;break;case rn.Pop:if(this.p=(i=this.p)==null?void 0:i.prev,this.p!==void 0)return;break;case rn.Replace:r=(s=this.p)==null?void 0:s.prev;break}this.p={prev:r,scrollTop:void 0,data:void 0,pathname:n}}setData(t){this.p!==void 0&&(this.p.data=t)}setScrollTop(t){this.p!==void 0&&(this.p.scrollTop=t)}getCache(){return this.p}getPrev(){var t;return(t=this.p)==null?void 0:t.prev}getData(){var t;return(t=this.p)==null?void 0:t.data}getPrevData(){var t,n;return(n=(t=this.p)==null?void 0:t.prev)==null?void 0:n.data}}class vN{constructor(t,n,r,i){x(this,"appConfig");x(this,"uqConfigs");x(this,"uqsSchema");x(this,"localData");x(this,"net");x(this,"userApi");x(this,"version");x(this,"mustLogin");x(this,"refreshTime",ze(Date.now()/1e3));x(this,"user",ze(void 0));x(this,"modal",{stack:ze([])});x(this,"pageCache");x(this,"uqsMan");x(this,"guest");x(this,"uqs");x(this,"uqSites");x(this,"onCloseModal");x(this,"initErrors");window.history.scrollRestoration="manual",this.appConfig=t,this.uqConfigs=n,this.uqsSchema=r,this.version=t.version,this.mustLogin=t.mustLogin!==!1;const{unit:s,testing:l,isDevelopment:o}=i;let u={center:t.center,isDevelopment:o,unit:s,testing:l,localDb:new gN,createObservableMap:()=>new Map};this.net=new RC(u),this.localData=new pN(l),this.userApi=this.net.userApi;let c=this.localData.user.get();oe(this.user,c),this.pageCache=new yN}get autoRefresh(){}get pathBase(){let{pathBase:t}=this.appConfig;return t.startsWith("/")===!0&&t.substring(1),t}get defaultUqRoleNames(){}setSite(t){for(let n of this.uqsMan.uqMans);}loginUnit(t){this.uqSites.loginUnit(t)}logoutUnit(){this.uqSites.logoutUnit()}closeAllModal(){oe(this.modal.stack,[])}async logined(t){this.net.logoutApis(),oe(this.user,t),t?(Hf(t.token),this.net.setCenterToken(t.id,t.token),this.localData.user.set(t),await this.loadOnLogined(),new dN(this,this.autoRefresh).start()):(this.net.clearCenterToken(),this.uqSites=void 0,this.localData.user.remove(),oe(this.user,void 0),document.cookie="",localStorage.clear())}restart(){document.location.assign("/")}async setUserProp(t,n){await this.userApi.userSetProp(t,n);let i={...ye(this.user)};i[t]=n,oe(this.user,i),this.localData.user.set(i)}saveLocalData(){this.localData.saveToLocalStorage()}onLoadUQs(){}async init(){if(this.uqsMan===void 0){await this.net.init();try{let t=await lN(this.net,this.appConfig.version,this.uqConfigs,this.uqsSchema);this.uqsMan=t,this.uqs=cN(t),this.uqs&&this.onLoadUQs();let n=ye(this.user);if(n)await this.loadWithoutLogin(),await this.logined(n);else{let r=this.localData.guest.get();if(r===void 0&&(r=await this.net.userApi.guest()),!r)throw Error("guest can not be undefined");this.net.setCenterToken(0,r.token),this.localData.guest.set(r),await this.loadWithoutLogin()}}catch(t){console.error(t)}}}loadWithoutLogin(){}loadOnLogined(){}}class gN extends vC{getItem(t){return localStorage.getItem(t)}setItem(t,n){localStorage.setItem(t,n)}removeItem(t){localStorage.removeItem(t)}}const Xf=re.createContext(void 0);function ue(){const e=vt();return Zf(e)}function Zf(e){const{modal:t}=e,{stack:n}=t;async function r(s,l){return new Promise(async(o,u)=>{let c=ye(n);if(re.isValidElement(s)!==!0){alert("is not valid element");return}let d=a.jsx(Xf.Provider,{value:!0,children:a.jsx(E.Suspense,{fallback:a.jsx(qn,{}),children:s})});oe(n,[...c,[d,o,l]])})}function i(s){var c;let l=ye(n),[,o,u]=l.pop();oe(n,[...l]),o(s),u==null||u(s),(c=e.onCloseModal)==null||c.call(e)}return{openModal:r,open:r,closeModal:i,close:i}}const Jf=re.createContext(void 0);function vt(){return E.useContext(Jf)}const xN=new iC({defaultOptions:{queries:{suspense:!0}}});function wN({createUqApp:e,children:t}){let n=E.useMemo(e,[]);const[r]=Mf(n.modal.stack);let[i,s]=E.useState(!1);if($t(()=>{(async function(){await n.init(),s(!0)})()}),i===!1)return a.jsx("div",{className:"p-5 text-center",children:a.jsx(os,{className:"text-info"})});if(n.initErrors)return a.jsxs("div",{children:[a.jsx("div",{children:"uq app start failed. init errors: "}),a.jsx("ul",{className:"text-danger",children:n.initErrors.map((c,d)=>a.jsx("li",{children:c},d))})]});let l=r.length,o,u;return l===0?(o="",u=null):(o="d-none",u=r.map((c,d)=>{let h=d<l-1?"d-none":"",[m]=c;return a.jsx(re.Fragment,{children:a.jsx("div",{className:h+" h-100",children:m})},d)})),a.jsx(Jf.Provider,{value:n,children:a.jsxs(cC,{client:xN,children:[a.jsx("div",{className:o+" h-100",children:t}),u]})})}function du(e){let t=vt(),{className:n,style:r,src:i,altImage:s}=e,l;if(i){if(i.indexOf(".")!==0)return i.startsWith(":")===!0&&(i=t.net.getResUrl(i.substring(1))),a.jsx("img",{src:i,className:n,alt:"img",style:r,onError:o=>{s?o.currentTarget.src=s:o.currentTarget.src="https://tv.jkchemical.com/imgs/0001.png"}});l=i.substring(1)}else l="file-o";return a.jsx("span",{className:(n??"")+" image-none",style:r,children:a.jsx("i",{className:"fa fa-"+l})})}const Yp=20;class bN{constructor(t){x(this,"el");this.el=t}scrollToTop(){setTimeout(()=>this.el.scrollTo(0,0),Yp)}scrollToBottom(){setTimeout(()=>this.el.scrollTo(0,this.el.scrollTop+this.el.offsetHeight),Yp)}}function jN(e){let{back:t,onBack:n}=e;function r({Back:o}){switch(t){default:case"back":return a.jsx(o,{icon:"angle-left"});case"none":return a.jsx("div",{className:"py-2 ms-3",children:" "});case"close":return a.jsx(o,{icon:"close"})}}function i({icon:o,onClick:u}){return a.jsx("div",{className:"px-3 py-2 cursor-pointer",onClick:u,children:a.jsx(J,{name:o})})}function s({icon:o}){return a.jsx(i,{icon:o,onClick:n})}function l({icon:o}){const u=Dn();function c(){u(-1)}return a.jsx(i,{icon:o,onClick:c})}return n||t==="none"?a.jsx(r,{Back:s}):a.jsx(r,{Back:l})}function qn({header:e}){const t=a.jsx("div",{className:" tonwa-band-container bg-white d-flex justify-content-center",children:a.jsx(os,{className:"m-5 text-center text-info"})});return e===null?t:(e===void 0&&(e="..."),a.jsx(eh,{header:e,back:"none",children:t}))}const Wp=100,Hp=30;function eh(e){const t=vt();let{children:n,header:r,back:i,right:s,footer:l,onClosed:o,hideScroll:u}=e;const c=E.useRef();return $t(()=>{let{current:d}=c;if(!d)return;let h=zx(d);if(!h)return;u===!0?window.onscroll=void 0:window.onscroll=w;let m=0,v=0,y=h.scrollTop;function w(S){let{onScroll:g,onScrollTop:f,onScrollBottom:p}=e;g&&g(S);let j=S.target.scrollingElement;const{scrollTop:b,offsetHeight:k,scrollHeight:_}=j;b>y&&(y=b);const C=t.pageCache.getCache();C!==void 0&&b>0&&Object.assign(C,{scrollTop:b});let N=new bN(j);if(f!==void 0&&b<Hp){let D=new Date().getTime();D-v>Wp&&(v=D,f(N).then(I=>{if(I===!0){let A=_,M=200;M>A&&(M=A),j.scrollTop=M}}))}if(p!==void 0&&b+k>_-Hp&&b>=y){++y;let D=new Date().getTime();D-m>Wp&&(m=D,setTimeout(()=>p(N),50))}}return()=>{o==null||o()}}),(r||i||s)&&(r=a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx(jN,{...e}),a.jsx("div",{className:"flex-fill",children:r}),s]})),a.jsx("div",{ref:c,className:"tonwa-page",children:a.jsxs(E.Suspense,{fallback:a.jsx(qn,{}),children:[a.jsx("div",{className:"tonwa-page-header position-sticky top-0",children:a.jsx("div",{className:"container px-0",children:r})}),a.jsx("div",{className:"tonwa-page-content flex-fill d-flex",children:a.jsx("div",{className:"container px-0 d-flex flex-column",children:n})}),a.jsx("div",{className:"tonwa-page-footer position-sticky bottom-0",children:a.jsx("div",{className:"container px-0",children:l})})]})})}function SN(e){const{closeModal:t}=ue(),n={...e,back:"close",onBack:()=>t(void 0)};return a.jsx(eh,{...n})}function kN(e){const t=vt(),n=fx(),r=Dn(),{user:i,mustLogin:s,pathLogin:l}=t,o=je(i),{pathname:u}=Vr();return E.useEffect(()=>{e.auth!==!1&&s&&!o&&l&&r(l,{state:u})},[o,s,l]),e.auth!==!1&&s&&!o?null:($t(()=>{if(t.pageCache.onNav(n,u),n!==rn.Pop)return;const c=t.pageCache.getCache();if(c===void 0)return;const{scrollTop:d}=c;d&&setTimeout(()=>{const h={top:d};window.scroll(h)},10)}),a.jsx(eh,{...e}))}function H(e){return E.useContext(Xf)===!0?a.jsx(SN,{...e}):a.jsx(kN,{...e})}function CN(e){const t=e.scrollHeight>e.clientHeight,r=window.getComputedStyle(e).overflowY.indexOf("hidden")!==-1;return t&&!r}function zx(e){return!e||e===document.body?document.body:CN(e)?e:zx(e.parentElement)}function _N({tabs:e}){function t({isActive:r}){return"flex-fill mx-1 text-center py-1 "+(r===!0?"text-primary":"text-secondary")}let n=a.jsx("div",{className:"d-flex container",children:e.map(r=>{const{to:i,caption:s,icon:l}=r;return a.jsxs(ak,{to:i,className:t,replace:!0,children:[a.jsx(J,{name:l})," ",a.jsx("br",{}),s]},s)})});return a.jsxs("div",{className:"d-flex flex-column flex-fill h-100",children:[a.jsx("div",{className:"flex-fill d-flex",children:a.jsx(hx,{})}),a.jsx("div",{className:"invisible",children:n}),a.jsx("div",{className:"tonwa-bg-gray-3 position-fixed bottom-0 w-100 bottom-top",children:n})]})}function th({header:e,top:t}){let n=vt();const{closeModal:r}=ue();let[i,s]=E.useState(null),l=async d=>{let h=await n.userApi.userFromName(d);s(h)};e=e??"Select user";let o="border rounded-3 bg-white p-5 mx-auto w-min-20c";async function u(){r(i)}let c;return i===null?c=null:i?c=a.jsxs("div",{className:o,children:[a.jsx(nh,{user:i}),a.jsx("div",{className:"text-center mt-5",children:a.jsx(mi,{className:"btn btn-primary",onClick:u,children:"OK"})})]}):c=a.jsxs("div",{className:o,children:[a.jsx(J,{name:"info-o",className:"me-3 text-info"})," No user"]}),a.jsx(H,{header:e,back:"close",children:a.jsxs("div",{className:"p-3 d-flex align-items-center flex-column",children:[a.jsx("div",{children:t}),a.jsx("div",{className:"mx-auto mb-3",children:a.jsx(nx,{className:"w-min-20c",onFocus:()=>s(null),onSearch:l,placeholder:"user account"})}),c]})})}function nh({user:e}){if(!e)return a.jsx("div",{children:"user is empty"});let{name:t,nick:n,icon:r}=e;return a.jsxs("div",{className:"d-flex",children:[a.jsx(du,{src:r,className:"me-4 w-2-5c h-2-5c"}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx(Ar,{children:"Name:"}),"   ",t]}),a.jsxs("div",{children:[a.jsx(Ar,{children:"Nick:"}),"   ",n]})]})]})}function NN({user:e,assigned:t}){if(!e)return a.jsx("div",{children:"user is empty"});let{name:n,nick:r,icon:i}=e,s;return t!==void 0?s=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx("b",{children:t})}),a.jsxs("div",{children:[a.jsx(Ar,{children:"Name:"}),"   ",n]}),a.jsxs("div",{children:[a.jsx(Ar,{children:"Nick:"}),"   ",r]})]}):r!==void 0?s=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx("b",{children:r})}),a.jsxs("div",{children:[a.jsx(Ar,{children:"Name:"}),"   ",n]})]}):s=a.jsx(a.Fragment,{children:a.jsx("div",{children:a.jsx("b",{children:n})})}),a.jsxs("div",{className:"d-flex",children:[a.jsx(du,{src:i,className:"me-4 w-2-5c h-2-5c"}),a.jsx("div",{children:s})]})}function rh(){return a.jsx("div",{className:"small mx-3 my-3 text-muted",children:"[无]"})}function Bx(e){const t=vt();let{label:n,value:r,type:i,readonly:s,pickValue:l,options:o,onValueChanged:u,ValueTemplate:c}=e;const[d,h]=E.useState(r);async function m(){let w=await l(t,{label:n,value:r,type:i},o);w!==void 0&&(h(w),await(u==null?void 0:u(w)))}let v=a.jsx("span",{className:"p-3",children:" "});l!==null&&s!==!0&&(v=a.jsx("div",{onClick:m,className:"cursor-pointer p-3",children:a.jsx(J,{name:"pencil",className:"text-info"})}));let y=c===void 0?a.jsx(a.Fragment,{children:d}):a.jsx(c,{value:d,onValueChanged:u});return a.jsxs(ga,{...e,children:[n,a.jsx("div",{className:"ms-3 position-relative",children:y}),v]})}class DN extends px{constructor(){super(...arguments);x(this,"label");x(this,"content")}get isDetail(){return!0}}function Yx(e){let{children:t,BandTemplate:n}=e;n=n??IN;let{current:r}=E.useRef(new DN({...e,BandTemplate:n}));return a.jsx(zf.Provider,{value:r,children:t})}function IN(e){const{openModal:t}=ue();let n=fs(),r=ex(),{label:i,labelSize:s,children:l,errors:o,memos:u,pageEdit:c,toEdit:d,content:h,sep:m,contentType:v,rightIcon:y}=e;s=s??2;let w=v===xd.check?null:a.jsx("b",{children:i}),S=a.jsx("label",{className:`col-sm-${s} col-form-label text-sm-end tonwa-bg-gray-1 border-end align-self-center py-3`,children:w}),g=`col-sm-${12-s} d-flex pe-0 align-items-center`;function f({icon:p,pageEdit:j}){function b(){d?alert(d):t(j)}return a.jsx("div",{onClick:b,className:"px-3 align-self-stretch d-flex align-items-center cursor-pointer",children:p??a.jsx(J,{name:"pencil",className:"text-info"})})}return r.readOnly===!0?y=null:v===xd.com?c&&(y=a.jsx(f,{pageEdit:c,icon:y})):(n.label=i,n.content=h,y=a.jsx(f,{pageEdit:a.jsx(EN,{detail:n}),icon:y})),a.jsx(a.Fragment,{children:a.jsxs("div",{className:"row bg-white mx-0",children:[S,a.jsxs("div",{className:g,children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("div",{children:l}),a.jsx(lu,{errors:o}),a.jsx(ou,{memos:u})]}),y]})]})})}function EN({detail:e}){const{closeModal:t}=ue(),{content:n,label:r,onValuesChanged:i}=e;async function s(o){await i(o),t()}let l=e.getValues();return a.jsx(H,{header:r,back:"close",children:a.jsxs(pi,{className:"container px-3 py-3",values:l,BandTemplate:PN,children:[a.jsx(mt,{children:n}),a.jsx(yi,{onSubmit:s})]})})}function PN(e){let{children:t,errors:n,memos:r}=e;return a.jsxs("div",{className:"bg-white mb-3",children:[t,a.jsx(lu,{errors:n}),a.jsx(ou,{memos:r})]})}function Ht({id:e,uq:t,Template:n,spinner:r}){const i=t.idCache(e),[s,l]=E.useState(i);return E.useEffect(()=>{(async function(){if(e==null)return;let o=t.idCache(e);if(o===void 0)try{o=await t.idObj(e)}catch(u){console.error(u)}finally{o===void 0&&(o=null)}l(o)})()},[e,i]),e==null?null:s===void 0?r===void 0?a.jsx(Ff,{}):r:n?a.jsx(n,{value:s}):a.jsx(a.Fragment,{children:JSON.stringify(s)})}function AN({tag:e,className:t,modal:n,children:r}){const{openModal:i}=ue();e===void 0&&(e="div",t=(t??"")+" cursor-pointer");async function s(){re.isValidElement(n)===!1&&(n=await n()),i(n)}return re.createElement(e,{className:t,onClick:s},r)}function Ma({message:e,children:t}){return a.jsxs("div",{className:"border border-danger rounded mx-auto m-3 w-max-30c bg-white ",children:[a.jsx("div",{className:"p-4 border-bottom",children:e}),a.jsx("div",{className:"p-3 text-center",children:t})]})}function Fa({auth:e,header:t,message:n,yes:r,no:i}){const{closeModal:s}=ue();return a.jsx(H,{auth:e,header:t,children:a.jsxs(Ma,{message:n,children:[a.jsx("button",{className:"btn btn-primary me-3",onClick:()=>s(!0),children:r}),i&&a.jsx("button",{className:"btn btn-outline-primary",onClick:()=>s(!1),children:i})]})})}class ih{constructor(t,n){x(this,"keyCompareFunc");x(this,"atomItems");this.atomItems=ze(t),this.keyCompareFunc=typeof n=="string"?(r,i)=>r[n]===i[n]:n}keyCompare(t,n){return this.keyCompareFunc(t,n)}get items(){return ye(this.atomItems)}findIndex(t){return this.items.findIndex(i=>this.keyCompare(i,t))}onItemChanged(t){let n=this.findIndex(t),r=this.items;n>=0?Object.assign(r[n],t):r.unshift(t)}onItemDeleted(t){this.items;let n=this.findIndex(t);n>=0&&this.items.splice(n,1)}moveItemToFirst(t){let n=this.items,r=this.findIndex(t);r>=0&&n.splice(r,1),n.unshift(t),oe(this.atomItems,[...n])}moveItemToLast(t){let n=this.items,r=this.findIndex(t);r>=0&&n.splice(r,1),n.push(t),oe(this.atomItems,[...n])}}function sh(e){let{context:t}=e,n=je(t.atomItems);return a.jsx(Be,{...e,items:n,itemKey:"user"})}const ON=/^[0-9]*$/,MN=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,FN=[{type:"mobile",caption:"手机号",regex:ON},{type:"email",caption:"邮箱",regex:MN}];function Wx(e){return FN.find(n=>n.regex.test(e)===!0)}function Ta(e){let{label:t,children:n,errors:r,memos:i,contentContainerClassName:s}=e,l,o="col-sm-9 "+(s??"");return t?l=a.jsx("label",{className:"col-sm-3 col-form-label text-sm-end",children:a.jsx("b",{children:t})}):o+=" offset-sm-3",a.jsxs("div",{className:"mb-3 row bg-white",children:[l,a.jsxs("div",{className:o,children:[n,a.jsx(lu,{errors:r}),a.jsx(ou,{memos:i})]})]})}function TN({passwordParams:e,onVerify:t,header:n}){let{type:r,account:i}=e,s=async c=>{let d=c.verify;if(await t(d)===0)return[["verify","验证码错误"]]};async function l({name:c,value:d},h){h.fields.submit&&h.setDisabled("submit",d.length>0)}let o,u;switch(r){case"mobile":o="手机号";break;case"email":o="邮箱",u=a.jsxs("small",{children:[a.jsx("span",{className:"text-danger",children:"注意"}),": 有可能误为垃圾邮件，请检查",a.jsx("br",{})]});break}return a.jsx(H,{header:n,children:a.jsxs("div",{className:"w-min-20c my-5 py-5 mx-auto",children:[a.jsxs("div",{className:"text-center mb-4",children:["验证码已经发送到",o," ",a.jsx("b",{children:i}),a.jsx("br",{}),u]}),a.jsx("div",{}),a.jsx("div",{className:"h-1c"}),a.jsxs(pi,{onValuesChanged:l,BandTemplate:Ta,children:[a.jsx(Rk,{name:"verify",label:"验证码",placeholder:"请输入验证码",maxLength:6,rule:bd}),a.jsx(mt,{contentContainerClassName:"mt-3",children:a.jsxs(yi,{name:"submit",onSubmit:s,children:["下一步 ",">"]})})]})]})})}const Qp="forget",Gp="register";function Hx({header:e,submitCaption:t,account:n,onPasswordSubmit:r}){const{openModal:i}=ue(),s=E.useRef({});let l=async o=>{let{pwd:u,rePwd:c}=o,d;return!u||u!==c?(d="密码错误，请重新输入密码！",[["pwd",void 0],["rePwd",void 0],["pwd",d]]):(d=await r(u),s.current.error=d,d!==void 0&&i(a.jsx(H,{header:"注册不成功",children:a.jsx("div",{className:"p-5 text-danger",children:s.current.error})})),d)};return a.jsx(H,{header:e,children:a.jsxs("div",{className:"w-min-30c my-5 py-5 mx-auto",children:[a.jsx("div",{className:"h-1c"}),a.jsxs(pi,{BandTemplate:Ta,children:[a.jsx(mt,{label:"账号",contentContainerClassName:"d-flex align-items-center",children:a.jsx("b",{className:"text-primary",children:n})}),a.jsx(Wi,{name:"pwd",label:"密码",placeholder:"密码",maxLength:100}),a.jsx(Wi,{name:"rePwd",label:"重复密码",placeholder:"重复密码",maxLength:100}),a.jsx(mt,{contentContainerClassName:"mt-3",children:a.jsx(yi,{onSubmit:l,children:t})})]})]})})}function RN({passwordParams:e,header:t}){const{openModal:n}=ue();let{userApi:r}=vt(),{type:i,account:s,verify:l}=e,o=async d=>{e.password=d;let h={nick:void 0,user:s,pwd:d,country:void 0,mobile:void 0,mobileCountry:void 0,email:void 0,verify:l};switch(i){case"mobile":h.mobile=Number(s),h.mobileCountry=86;break;case"email":h.email=s;break}let m=await r.register(h);if(m===0){n(a.jsx(c,{}));return}return u(m)};function u(d){let h;switch(d){default:return"服务器发生错误";case 4:return"验证码错误";case 0:return;case 1:h="用户名 "+s;break;case 2:h="手机号 +"+s;break;case 3:h="邮箱 "+s;break}return h+" 已经被注册过了"}return a.jsx(Hx,{header:t,submitCaption:"注册新账号",account:s,onPasswordSubmit:o});function c(){let{account:d,toLogin:h}=e;return a.jsx("div",{className:"container w-min-30c mx-auto",children:a.jsxs("div",{className:"my-5 text-center",children:[a.jsxs("div",{className:"py-5",children:[a.jsx(J,{name:"check-circle",className:"me-2"}),"账号 ",a.jsxs("strong",{className:"text-primary",children:[d," "]})," 注册成功！"]}),a.jsx("button",{className:"btn btn-success btn-block",type:"button",onClick:h,children:"直接登录"})]})})}}function LN({header:e,passwordParams:t}){const{openModal:n,closeModal:r}=ue();let{userApi:i}=vt(),{account:s,verify:l,type:o,toLogin:u}=t,c=async h=>{if(t.password=h,(await i.resetPassword(s,h,l,o)).length===0){let v="something wrong in reseting password";throw console.log(v),v}r(),n(a.jsx(d,{}))};return a.jsx(Hx,{header:e,submitCaption:"改密码",account:s,onPasswordSubmit:c});function d(){return a.jsx("div",{className:"container w-min-30c mx-auto",children:a.jsxs("div",{className:"my-5 text-center",children:[a.jsxs("div",{className:"py-5 text-success",children:[a.jsx(J,{name:"check-circle",className:"me-2"}),"成功修改密码"]}),a.jsx("button",{className:"btn btn-primary btn-block",onClick:u,children:"登录账号"})]})})}}function Qx({header:e,accountLable:t,privacy:n,loginTop:r,ModalPassword:i,accountError:s,sendVerifyOem:l}){const{openModal:o}=ue(),u=Dn(),c=vt(),{userApi:d,pathLogin:h}=c;let{current:m}=E.useRef({toLogin:v});function v(){c.closeAllModal(),u(h)}async function y({name:S,value:g},f){f.fields.submit&&f.setDisabled("submit",g.length<6)}let w=async S=>{let g="user",f=S[g],p=Wx(f);if(p===void 0)return[void 0,[g,"必须是手机号或邮箱"]];let j=p.type;if(j==="mobile"&&(f.length!==11||f[0]!=="1"))return[void 0,[g,"请输入正确的手机号"]];let b=f,k=await d.isExists(b),_=s(k);if(_!==void 0)return _;k=await d.sendVerify(b,j,l),m.account=b,m.type=j;async function C(N){m.verify=N;let D=await d.checkVerify(b,N);if(D===0)return D;o(a.jsx(i,{header:e,passwordParams:m}))}o(a.jsx(TN,{header:e,onVerify:C,passwordParams:m}))};return a.jsx(H,{auth:!1,header:e,footer:n,children:a.jsx("div",{className:"d-grid",children:a.jsxs("div",{className:"d-grid w-20c my-5 py-5",style:{marginLeft:"auto",marginRight:"auto"},children:[r??a.jsx("div",{className:"text-center p-3 fs-5 text-primary",children:"注册"}),a.jsx("div",{className:"h-3c"}),a.jsxs(pi,{BandTemplate:Ta,onValuesChanged:y,children:[a.jsx(Ia,{name:"user",label:t,placeholder:"手机号或邮箱"}),a.jsx(mt,{contentContainerClassName:"mt-3",children:a.jsx(yi,{name:"submit",onSubmit:w,disabled:!0,children:"发送验证码"})})]}),a.jsx("div",{className:"text-center py-3",children:a.jsx(xe,{className:"btn btn-link text-primary",to:h,children:"已有账号，直接登录"})})]})})})}function Gx(e){let{loginTop:t,privacy:n}=e,r=i=>{if(i>0)return"已经被注册使用了"};return a.jsx(Qx,{header:"注册账号",accountLable:"账号",ModalPassword:RN,accountError:r,sendVerifyOem:void 0,loginTop:t,privacy:n})}function qN(e){let{loginTop:t,privacy:n}=e,r=i=>{if(i===0)return"请输入正确的账号"};return a.jsx(Qx,{header:"密码找回",accountLable:"账号",ModalPassword:LN,accountError:r,sendVerifyOem:void 0,loginTop:t,privacy:n})}function UN({url:e,withBack:t,loginTop:n,privacy:r,callback:i}){let s=vt(),{userApi:l,guest:o}=s;const u=Dn();let c=async(y,w)=>{let S=await l.login({user:y,pwd:w,guest:o});return S===void 0?!1:(console.log("onLoginSubmit: user=%s pwd:%s",S.name,S.token),await s.logined(S),await(i==null?void 0:i(S)),u(e??"/",{replace:!0}),!0)},d=async y=>{let w=y.username,S=y.password;if(S===void 0)return"something wrong, pwd is undefined";if(await c(w,S)===!0)return;let f=Wx(w);return(f!==void 0?f.caption:"用户名")+"或密码错！"},h=t===!0?"登录":!1;function m(){return a.jsx(H,{auth:!1,header:h,footer:r,children:a.jsxs("div",{className:"d-flex p-5 flex-column justify-content-center align-items-center",children:[a.jsx("div",{className:"flex-fill"}),a.jsxs("div",{className:"w-30c",children:[n??a.jsx("div",{className:"text-center p-3 fs-5 text-primary",children:"登录"}),a.jsx("div",{className:"h-2c"}),a.jsxs(pi,{BandTemplate:Ta,children:[a.jsx(Ia,{label:"登录账号",name:"username",placeholder:"手机/邮箱/用户名",rule:bd,maxLength:100}),a.jsx(Wi,{label:"密码",name:"password",placeholder:"密码",rule:bd,maxLength:100}),a.jsx(mt,{children:a.jsx(xx,{})}),a.jsx(mt,{contentContainerClassName:"my-3",children:a.jsx(yi,{onSubmit:d,children:a.jsx("div",{className:"mx-5",children:"登录"})})})]}),a.jsx("div",{className:"row",children:a.jsxs("div",{className:"offset-sm-3",children:[a.jsx(xe,{className:"btn btn-link",to:Qp,children:"忘记密码"}),a.jsx(xe,{className:"btn btn-link",to:Gp,children:"注册账号"})]})})]}),a.jsx("div",{className:"flex-fill"}),a.jsx("div",{className:"flex-fill"})]})})}function v(){return a.jsx(hx,{})}return a.jsx(Vf,{children:a.jsxs(ie,{element:a.jsx(v,{}),children:[a.jsx(ie,{index:!0,element:a.jsx(m,{})}),a.jsx(ie,{path:Qp,element:a.jsx(qN,{loginTop:n,privacy:r})}),a.jsx(ie,{path:Gp,element:a.jsx(Gx,{loginTop:n,privacy:r})})]})})}function $N({onLogout:e,resetAll:t}){let n=vt();async function r(){await n.logined(void 0),await(e==null?void 0:e()),t==null||t(),n.restart()}const i="安全退出";return a.jsx(H,{back:"back",header:i,children:a.jsxs("div",{className:"my-5 border border-info bg-white rounded-3 p-5 text-center mx-auto w-max-40c ",children:[a.jsx("div",{children:"退出当前账号不会删除任何历史数据，下次登录依然可以使用本账号"}),a.jsx("div",{className:"mt-5 text-center",children:a.jsx("button",{className:"btn btn-danger",onClick:r,children:"安全退出"})})]})})}function VN(){const e=Dn(),{openModal:t}=ue();let n=vt(),r=async i=>{let{orgPassword:s,newPassword:l,newPassword1:o}=i;if(l!==o)return["newPassword1","新密码错误，请重新输入"];if(await n.userApi.changePassword({orgPassword:s,newPassword:l})===!1)return["orgPassword","原密码错误"];t(a.jsx(zN,{}),()=>e(-1))};return a.jsx(H,{auth:!1,header:"修改密码",children:a.jsxs(pi,{className:"m-3 w-30c mx-auto",BandTemplate:Ta,children:[a.jsx(Wi,{name:"orgPassword",label:"原密码",placeholder:"输入原来的密码",maxLength:60}),a.jsx(Wi,{name:"newPassword",label:"新密码",placeholder:"输入新设的密码",maxLength:60}),a.jsx(Wi,{name:"newPassword1",label:"确认密码",placeholder:"再次输入新设密码",maxLength:60}),a.jsx(mt,{children:a.jsx(xx,{})}),a.jsx(mt,{children:a.jsx(yi,{onSubmit:r,children:"提交"})})]})})}function zN(){return a.jsx(H,{auth:!1,header:"密码修改",children:a.jsx("div",{className:"m-3  text-success",children:"密码修改成功！"})})}const Xs="一小时";function BN(){const e=Dn(),{openModal:t}=ue();let n=a.jsxs(a.Fragment,{children:["注意：账号注销后，账号绑定手机、邮件等相关信息将被释放。账号无法将登录。",a.jsx("br",{}),"请确认！"]});const r="注销账号";function i(){e(-1)}return a.jsx(H,{auth:!1,header:r,children:a.jsxs(Ma,{message:n,children:[a.jsx("button",{className:"btn btn-primary",onClick:()=>e(-1),children:"不注销"}),a.jsx("button",{className:"btn btn-outline-info ms-3",onClick:()=>t(a.jsx(YN,{header:r}),i),children:"我已了解，仍然注销"})]})})}function YN({header:e}){let t=vt();const{openModal:n,closeModal:r}=ue();let i=a.jsxs(a.Fragment,{children:["账号注销后，如果在",Xs,"内容重新登录账号，账号自动恢复。",Xs,"之后，账号绑定手机、邮件等相关信息将被释放。账号无法将登录。",a.jsx("br",{}),"请再次确认！"]}),s=async()=>{await t.userApi.userQuit(),r(),await n(a.jsx(WN,{}),()=>t.restart())};return a.jsx(H,{header:e,children:a.jsxs(Ma,{message:i,children:[a.jsx("button",{className:"btn btn-primary",onClick:()=>r(),children:"不注销"}),a.jsx("button",{className:"btn btn-outline-info ms-3",onClick:s,children:"确认注销"})]})})}function WN(){let e=vt();const{openModal:t,closeModal:n}=ue();let r=a.jsxs(a.Fragment,{children:["账号将在",Xs,"后彻底注销。",a.jsx("br",{}),"如果在",Xs,"内容重新登录账号，注销操作自动取消。",Xs,"之后，账号绑定手机、邮件等相关信息将被释放。账号无法将登录。"]}),i=()=>{t(a.jsx(HN,{}),()=>e.restart())};return a.jsx(H,{header:"注销已账号",children:a.jsx(Ma,{message:r,children:a.jsx("button",{className:"btn btn-primary",onClick:i,children:"反悔了，不要注销"})})})}function HN(){let e=vt(),t=a.jsxs(a.Fragment,{children:["重新登录之后，账号将恢复。",a.jsx("br",{})]});async function n(){await e.logined(void 0),e.restart()}return a.jsx(H,{header:"恢复账号",children:a.jsx(Ma,{message:t,children:a.jsx("button",{className:"btn btn-primary",onClick:n,children:"重新登录"})})})}var sn=(e=>(e[e.any=0]="any",e[e.atom=11]="atom",e[e.spec=12]="spec",e[e.bud=13]="bud",e[e.sheet=101]="sheet",e[e.main=102]="main",e[e.detail=103]="detail",e[e.pend=104]="pend",e[e.detailAct=111]="detailAct",e[e.query=151]="query",e[e.pick=161]="pick",e[e.role=201]="role",e[e.permit=202]="permit",e[e.options=301]="options",e[e.tree=401]="tree",e[e.tie=501]="tie",e[e.report=601]="report",e[e.title=901]="title",e[e.assign=902]="assign",e[e.key=1001]="key",e[e.prop=1011]="prop",e[e.optionsitem=1031]="optionsitem",e))(sn||{}),ki=(e=>(e[e.person=1]="person",e[e.group=2]="group",e))(ki||{});const QN={$phrase:{name:"$phrase",type:"id",private:!1,fields:[{name:"name",type:"char",size:200},{name:"caption",type:"char",size:100},{name:"base",type:"bigint"},{name:"valid",type:"tinyint"},{name:"owner",type:"bigint"},{name:"type",type:"tinyint"},{name:"index",type:"tinyint"}],keys:[],global:!1,isMinute:!1},$role_my:{name:"$role_my",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"sites",fields:[{name:"id",type:"id"},{name:"site",type:"id"},{name:"admin",type:"tinyint"},{name:"entity",type:"char",size:100},{name:"assigned",type:"char",size:100},{name:"def",type:"tinyint"}]},{name:"roles",fields:[{name:"site",type:"id"},{name:"role",type:"char",size:100}]},{name:"permits",fields:[{name:"site",type:"id"},{name:"permit",type:"char",size:100}]}]},$role_site_users:{name:"$role_site_users",type:"query",private:!1,sys:!0,fields:[{name:"site",type:"bigint"}],returns:[{name:"users",fields:[{name:"id",type:"id"},{name:"user",type:"id"},{name:"admin",type:"tinyint"},{name:"assigned",type:"char",size:100},{name:"name",type:"char",size:100},{name:"nick",type:"char",size:100},{name:"icon",type:"char",size:200},{name:"addBy",type:"id"}]},{name:"roles",fields:[{name:"user",type:"id"},{name:"role",type:"char",size:100}]}]},$role_site_add_admin:{name:"$role_site_add_admin",type:"action",private:!1,sys:!0,fields:[{name:"site",type:"bigint"},{name:"user",type:"bigint"},{name:"admin",type:"tinyint"},{name:"assigned",type:"char",size:100}],returns:[]},$role_site_del_admin:{name:"$role_site_del_admin",type:"action",private:!1,sys:!0,fields:[{name:"site",type:"bigint"},{name:"user",type:"bigint"},{name:"admin",type:"tinyint"}],returns:[]},$role_site_add_user:{name:"$role_site_add_user",type:"action",private:!1,sys:!0,fields:[{name:"site",type:"bigint"},{name:"user",type:"bigint"},{name:"assigned",type:"char",size:100}],returns:[]},$role_site_user_role:{name:"$role_site_user_role",type:"action",private:!1,sys:!0,fields:[{name:"site",type:"bigint"},{name:"user",type:"bigint"},{name:"action",type:"char",size:100},{name:"role",type:"char",size:100}],returns:[]},$role_site_quit_owner:{name:"$role_site_quit_owner",type:"action",private:!1,sys:!0,fields:[{name:"site",type:"bigint"}],returns:[]},$sites:{name:"$sites",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:50},{name:"ex",type:"char",size:100}],order:"desc"}]},$setsite:{name:"$setSite",type:"action",private:!1,sys:!0,fields:[{name:"site",type:"id"}],returns:[]},$poked:{name:"$poked",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"ret",fields:[{name:"poke",type:"tinyint"}]}]},$setmytimezone:{name:"$setMyTimezone",type:"action",private:!1,sys:!0,fields:[{name:"_timezone",type:"tinyint"}],returns:[]},$getunittime:{name:"$getUnitTime",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"ret",fields:[{name:"timezone",type:"tinyint"},{name:"unitTimeZone",type:"tinyint"},{name:"unitBizMonth",type:"tinyint"},{name:"unitBizDate",type:"tinyint"}]}]},saveatom:{name:"SaveAtom",type:"action",private:!1,sys:!0,fields:[{name:"atomPhrase",type:"id"},{name:"base",type:"bigint"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200}],returns:[{name:"ret",fields:[{name:"id",type:"id"}]}]},savebudvalue:{name:"SaveBudValue",type:"action",private:!1,sys:!0,fields:[{name:"phraseId",type:"id"},{name:"id",type:"id"},{name:"int",type:"bigint"},{name:"dec",type:"dec",scale:6,precision:18},{name:"str",type:"char",size:100}],returns:[]},savebudcheck:{name:"SaveBudCheck",type:"action",private:!1,sys:!0,fields:[{name:"budPhrase",type:"id"},{name:"id",type:"id"},{name:"optionsItemPhrase",type:"id"},{name:"checked",type:"tinyint"}],returns:[]},savebudradio:{name:"SaveBudRadio",type:"action",private:!1,sys:!0,fields:[{name:"budPhrase",type:"id"},{name:"id",type:"id"},{name:"optionsItemPhrase",type:"id"}],returns:[]},delatom:{name:"DelAtom",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[]},savespec:{name:"SaveSpec",type:"action",private:!1,sys:!0,fields:[{name:"spec",type:"id"},{name:"base",type:"id"},{name:"keys",type:"json"},{name:"props",type:"json"}],jsoned:!0,returns:[{name:"ret",fields:[{name:"id",type:"id"}]}]},getspec:{name:"GetSpec",type:"query",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[{name:"props",fields:[{name:"id",type:"id"},{name:"phrase",type:"id"},{name:"value",type:"json"}]}]},savesheet:{name:"SaveSheet",type:"action",private:!1,sys:!0,fields:[{name:"phrase",type:"id"},{name:"no",type:"char",size:30},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18}],returns:[{name:"ret",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:30}]}]},savedetail:{name:"SaveDetail",type:"action",private:!1,sys:!0,fields:[{name:"base",type:"id"},{name:"phrase",type:"id"},{name:"id",type:"id"},{name:"i",type:"id"},{name:"x",type:"id"},{name:"origin",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18},{name:"pendFrom",type:"id"}],jsoned:!0,returns:[{name:"ret",fields:[{name:"id",type:"id"}]}]},deletebin:{name:"DeleteBin",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"}],jsoned:!0,returns:[]},submitsheet:{name:"SubmitSheet",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"}],jsoned:!0,returns:[]},doquery:{name:"DoQuery",type:"action",private:!1,sys:!0,fields:[{name:"query",type:"id"},{name:"json",type:"json"},{name:"pageStart",type:"int"},{name:"pageSize",type:"int"}],jsoned:!0,returns:[{name:"ret",fields:[{name:"id",type:"id"},{name:"ban",type:"tinyint"},{name:"json",type:"json"}]}]},getreport:{name:"GetReport",type:"query",private:!1,sys:!0,fields:[{name:"reportPhrase",type:"id"},{name:"atomPhrase",type:"id"},{name:"atomId",type:"id"},{name:"dateStart",type:"date"},{name:"dateEnd",type:"date"},{name:"params",type:"json"}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"phrase",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200},{name:"value",type:"json"}],order:"asc"},{name:"specs",fields:[{name:"id",type:"id"},{name:"phrase",type:"id"},{name:"base",type:"id"},{name:"value",type:"json"},{name:"props",type:"json"}]}]},gethistory:{name:"GetHistory",type:"query",private:!1,sys:!0,fields:[{name:"objId",type:"id"},{name:"title",type:"id"}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"ref",type:"id"},{name:"plusMinus",type:"tinyint"},{name:"sheetNo",type:"char",size:30},{name:"sheetPhrase",type:"id"},{name:"binPhrase",type:"id"}],order:"desc"}]},removedraft:{name:"RemoveDraft",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[]},getmydrafts:{name:"GetMyDrafts",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"$page",fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:20},{name:"operator",type:"id"},{name:"phrase",type:"char",size:200}],order:"desc"}]},deletemydrafts:{name:"DeleteMyDrafts",type:"action",private:!1,sys:!0,fields:[],jsoned:!0,returns:[]},searchatom:{name:"SearchAtom",type:"query",private:!1,sys:!0,fields:[{name:"atom",type:"id"},{name:"key",type:"char",size:50}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:50},{name:"ex",type:"char",size:50},{name:"phrase",type:"id"}],order:"desc"}]},getassigns:{name:"GetAssigns",type:"query",private:!1,sys:!0,fields:[{name:"assign",type:"id"},{name:"params",type:"json"}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200},{name:"values",type:"json"}],order:"asc"}]},searchatombuds:{name:"SearchAtomBuds",type:"query",private:!1,sys:!0,fields:[{name:"phrase",type:"char",size:200},{name:"key",type:"char",size:50},{name:"budNames",type:"char",size:300}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:50},{name:"ex",type:"char",size:50},{name:"phrase",type:"char",size:200}],order:"desc"},{name:"meds",fields:[{name:"id",type:"id"},{name:"main",type:"id"},{name:"detail",type:"id"}]},{name:"budsInt",fields:[{name:"id",type:"id"},{name:"bud",type:"id"},{name:"phrase",type:"char",size:50},{name:"value",type:"int"}]},{name:"budsDec",fields:[{name:"id",type:"id"},{name:"bud",type:"id"},{name:"phrase",type:"char",size:50},{name:"value",type:"dec",scale:6,precision:18}]},{name:"budsStr",fields:[{name:"id",type:"id"},{name:"bud",type:"id"},{name:"phrase",type:"char",size:50},{name:"value",type:"char",size:200}]}]},searchatomuombuds:{name:"SearchAtomUomBuds",type:"query",private:!1,sys:!0,fields:[{name:"phrase",type:"char",size:200},{name:"key",type:"char",size:50},{name:"budNames",type:"char",size:300}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:50},{name:"ex",type:"char",size:50},{name:"phrase",type:"char",size:200}],order:"desc"},{name:"uoms",fields:[{name:"id",type:"id"},{name:"atom",type:"id"},{name:"uom",type:"id"}]},{name:"budsInt",fields:[{name:"id",type:"id"},{name:"bud",type:"id"},{name:"phrase",type:"char",size:50},{name:"value",type:"int"}]},{name:"budsDec",fields:[{name:"id",type:"id"},{name:"bud",type:"id"},{name:"phrase",type:"char",size:50},{name:"value",type:"dec",scale:6,precision:18}]},{name:"budsStr",fields:[{name:"id",type:"id"},{name:"bud",type:"id"},{name:"phrase",type:"char",size:50},{name:"value",type:"char",size:200}]}]},getsheet:{name:"GetSheet",type:"query",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[{name:"main",fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:20},{name:"operator",type:"id"},{name:"origin",type:"id"},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18},{name:"phrase",type:"id"}]},{name:"details",fields:[{name:"id",type:"id"},{name:"origin",type:"id"},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18},{name:"pendFrom",type:"id"},{name:"pendValue",type:"dec",scale:6,precision:18},{name:"phrase",type:"id"}]},{name:"origins",fields:[{name:"id",type:"id"},{name:"origin",type:"id"},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18}]},{name:"buds",fields:[{name:"id",type:"id"},{name:"bud",type:"id"},{name:"value",type:"char",size:100}]}]},getatom:{name:"GetAtom",type:"query",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[{name:"props",fields:[{name:"phrase",type:"id"},{name:"value",type:"json"}]}]},getspecsfrombase:{name:"GetSpecsFromBase",type:"query",private:!1,sys:!0,fields:[{name:"base",type:"id"}],returns:[{name:"ret",fields:[{name:"id",type:"id"},{name:"keys",type:"json"},{name:"props",type:"json"}]}]},bizphrasetype:{name:"BizPhraseType",type:"enum",private:!1,sys:!0,values:{any:0,atom:11,spec:12,bud:13,sheet:101,main:102,detail:103,pend:104,detailAct:111,query:151,pick:161,role:201,permit:202,options:301,tree:401,tie:501,report:601,title:901,assign:902,key:1001,prop:1011,optionsitem:1031}},buddatatype:{name:"BudDataType",type:"enum",private:!1,sys:!0,values:{none:0,int:11,atom:12,radio:13,check:14,ID:19,dec:21,char:31,str:32,date:41}},bizbudflag:{name:"BizBudFlag",type:"enum",private:!1,sys:!0,values:{index:1}},getbizobjects:{name:"GetBizObjects",type:"query",private:!1,sys:!0,fields:[{name:"lang",type:"char",size:10},{name:"culture",type:"char",size:10}],returns:[{name:"objs",fields:[{name:"id",type:"id"},{name:"phrase",type:"char",size:200},{name:"source",type:"text"},{name:"caption",type:"char",size:100}]},{name:"buds",fields:[{name:"id",type:"id"},{name:"base",type:"id"},{name:"phrase",type:"char",size:200},{name:"caption",type:"char",size:100},{name:"ex",type:"json"}]}]},getentitycode:{name:"GetEntityCode",type:"query",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[{name:"ret",fields:[{name:"code",type:"text"},{name:"schema",type:"text"}]}]},createsiteforuser:{name:"CreateSiteForUser",type:"action",private:!1,sys:!0,fields:[{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200},{name:"tonwaUser",type:"id"}],jsoned:!0,returns:[{name:"ret",fields:[{name:"site",type:"id"},{name:"userSite",type:"id"}]}]},atom:{name:"Atom",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200}],keys:[{name:"base",type:"id"}],global:!1,idType:3,isMinute:!1},spec:{name:"Spec",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"}],keys:[{name:"base",type:"id"}],global:!1,idType:3,isMinute:!1},sheet:{name:"Sheet",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:20},{name:"operator",type:"id"}],keys:[{name:"base",type:"id"},{name:"no",type:"char",size:20}],global:!1,idType:3,isMinute:!0},detail:{name:"Detail",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"}],keys:[{name:"base",type:"id"}],global:!1,idType:3,isMinute:!0},pend:{name:"Pend",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"bin",type:"id"},{name:"mid",type:"json"},{name:"value",type:"dec",scale:6,precision:18}],keys:[{name:"base",type:"id"}],global:!1,idType:3,isMinute:!0},getpend:{name:"GetPend",type:"query",private:!1,sys:!0,fields:[{name:"pend",type:"id"},{name:"key",type:"char",size:100}],returns:[{name:"$page",fields:[{name:"pend",type:"id"},{name:"sheet",type:"id"},{name:"id",type:"id"},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18},{name:"mid",type:"json"},{name:"pendValue",type:"dec",scale:6,precision:18}],order:"asc"},{name:"retSheet",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:30},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18}]},{name:"retAtom",fields:[{name:"atom",type:"id"},{name:"value",type:"json"}]}]},getpendsnotify:{name:"GetPendsNotify",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"ret",fields:[{name:"phrase",type:"id"},{name:"count",type:"int"}]}]},getpendsheetfromno:{name:"GetPendSheetFromNo",type:"query",private:!1,sys:!0,fields:[{name:"pend",type:"char",size:200},{name:"key",type:"char",size:100}],returns:[{name:"$page",fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:20},{name:"operator",type:"id"},{name:"sheet",type:"char",size:200}],order:"asc"}]},getpendsheetfromtarget:{name:"GetPendSheetFromTarget",type:"query",private:!1,sys:!0,fields:[{name:"pend",type:"char",size:200},{name:"key",type:"char",size:100}],returns:[{name:"$page",fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:20},{name:"operator",type:"id"},{name:"sheet",type:"char",size:200}],order:"asc"}]},getpenddetailfromitem:{name:"GetPendDetailFromItem",type:"query",private:!1,sys:!0,fields:[{name:"pend",type:"char",size:200},{name:"key",type:"char",size:100}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"origin",type:"id"},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18},{name:"pend",type:"id"},{name:"pendValue",type:"dec",scale:6,precision:18},{name:"sheet",type:"char",size:200},{name:"no",type:"char",size:30}],order:"asc"}]},getpenddetailfromsheetid:{name:"GetPendDetailFromSheetId",type:"query",private:!1,sys:!0,fields:[{name:"pend",type:"char",size:200},{name:"sheetId",type:"id"}],returns:[{name:"ret",fields:[{name:"id",type:"id"},{name:"origin",type:"id"},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18},{name:"pend",type:"id"},{name:"pendValue",type:"dec",scale:6,precision:18},{name:"sheet",type:"char",size:200},{name:"no",type:"char",size:30}]}]},getsitesheets:{name:"GetSiteSheets",type:"query",private:!1,sys:!0,fields:[{name:"from",type:"date"},{name:"to",type:"date"},{name:"timeZone",type:"tinyint"}],returns:[{name:"ret",fields:[{name:"phrase",type:"id"},{name:"count",type:"int"}]}]},getsitesheetlist:{name:"GetSiteSheetList",type:"query",private:!1,sys:!0,fields:[{name:"phrase",type:"id"}],returns:[{name:"$page",fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:20},{name:"operator",type:"id"},{name:"origin",type:"id"},{name:"i",type:"id"},{name:"x",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"amount",type:"dec",scale:6,precision:18},{name:"price",type:"dec",scale:6,precision:18}],order:"asc"}]},ixbud:{name:"IxBud",type:"ix",private:!1,sys:!0,fields:[{name:"i",type:"id"},{name:"x",type:"id"}],ixx:!1,hasSort:!1,xType:0},bud:{name:"Bud",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"ext",type:"id"}],keys:[{name:"base",type:"id"},{name:"ext",type:"id"}],global:!1,idType:3,isMinute:!0},history:{name:"History",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"bud",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"ref",type:"id"},{name:"plusMinus",type:"tinyint"}],keys:[],global:!1,idType:3,isMinute:!0},reportstorage:{name:"ReportStorage",type:"query",private:!1,sys:!0,fields:[{name:"key",type:"char",size:50},{name:"subject",type:"char",size:200}],returns:[{name:"$page",fields:[{name:"atom",type:"id"},{name:"uom",type:"id"},{name:"spec",type:"id"},{name:"id",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"init",type:"dec",scale:6,precision:18}],order:"asc"}]},reportstorageatom:{name:"ReportStorageAtom",type:"query",private:!1,sys:!0,fields:[{name:"key",type:"char",size:50},{name:"subject",type:"char",size:200}],returns:[{name:"$page",fields:[{name:"obj",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"init",type:"dec",scale:6,precision:18}],order:"asc"}]},reportstoragespec:{name:"ReportStorageSpec",type:"query",private:!1,sys:!0,fields:[{name:"key",type:"char",size:50},{name:"subject",type:"char",size:200}],returns:[{name:"$page",fields:[{name:"obj",type:"id"},{name:"value",type:"dec",scale:6,precision:18},{name:"init",type:"dec",scale:6,precision:18}],order:"asc"}]},sumformulatype:{name:"SumFormulaType",type:"enum",private:!1,sys:!0,values:{person:1,group:2}},sumformula:{name:"SumFormula",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"formulaType",type:"enum"},{name:"subject",type:"id"},{name:"post",type:"id"},{name:"sumSubject",type:"id"},{name:"caption",type:"char",size:100},{name:"start",type:"date"},{name:"end",type:"date"},{name:"ratio",type:"dec",scale:6,precision:18},{name:"valid",type:"tinyint"}],keys:[{name:"formulaType",type:"enum"},{name:"subject",type:"id"},{name:"post",type:"id"},{name:"sumSubject",type:"id"}],global:!1,idType:3,isMinute:!0},searchgrouppersons:{name:"SearchGroupPersons",type:"query",private:!1,sys:!0,fields:[{name:"group",type:"id"},{name:"key",type:"char",size:50}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:50},{name:"ex",type:"char",size:50},{name:"phrase",type:"char",size:200},{name:"selected",type:"tinyint"}],order:"desc"}]},savesumformula:{name:"SaveSumFormula",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"},{name:"formulaType",type:"enum"},{name:"subject",type:"id"},{name:"post",type:"id"},{name:"sumSubject",type:"id"},{name:"caption",type:"char",size:100},{name:"start",type:"date"},{name:"end",type:"date"},{name:"ratio",type:"dec",scale:6,precision:18}],returns:[{name:"ret",fields:[{name:"id",type:"id"}]}]},changesumformulacaption:{name:"ChangeSumFormulaCaption",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"},{name:"caption",type:"char",size:100}],returns:[]},changesumformula:{name:"ChangeSumFormula",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"},{name:"start",type:"date"},{name:"end",type:"date"},{name:"ratio",type:"dec",scale:6,precision:18}],returns:[{name:"ret",fields:[{name:"id",type:"id"}]}]},usersitefromtonwauser:{name:"UserSiteFromTonwaUser",type:"action",private:!1,sys:!0,fields:[{name:"tonwaUser",type:"id"}],returns:[{name:"ret",fields:[{name:"userSite",type:"id"}]}]},changeixmysum:{name:"ChangeIxMySum",type:"action",private:!1,sys:!0,fields:[{name:"userSite",type:"id"}],arrs:[{name:"added",fields:[{name:"id",type:"id"}]},{name:"removed",fields:[{name:"idDel",type:"id"}]}],returns:[]},getixmysum:{name:"GetIxMySum",type:"query",private:!1,sys:!0,fields:[{name:"userSite",type:"id"}],returns:[{name:"users",fields:[{name:"tonwaUser",type:"id"},{name:"userSite",type:"id"}]},{name:"atoms",fields:[{name:"userSite",type:"id"},{name:"atom",type:"id"},{name:"phrase",type:"char",size:200},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200}]}]},getallformula:{name:"GetAllFormula",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"ret",fields:[{name:"id",type:"id",null:!1},{name:"formulaType",type:"enum"},{name:"subject",type:"id"},{name:"post",type:"id"},{name:"sumSubject",type:"id"},{name:"caption",type:"char",size:100},{name:"start",type:"date"},{name:"end",type:"date"},{name:"ratio",type:"dec",scale:6,precision:18},{name:"valid",type:"tinyint"}]}]},setsumgroupperson:{name:"SetSumGroupPerson",type:"action",private:!1,sys:!0,fields:[{name:"group",type:"id"},{name:"person",type:"id"},{name:"act",type:"tinyint"}],returns:[]},getmysums:{name:"GetMySums",type:"query",private:!1,sys:!0,fields:[{name:"start",type:"date"},{name:"end",type:"date"}],returns:[{name:"ret",fields:[{name:"obj",type:"id"},{name:"post",type:"id"},{name:"subject",type:"id"},{name:"value",type:"dec",scale:6,precision:18}]}]},getmybalance:{name:"GetMyBalance",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"ret",fields:[{name:"obj",type:"id"},{name:"post",type:"id"},{name:"subject",type:"id"},{name:"value",type:"dec",scale:6,precision:18}]}]},getsitesetting:{name:"GetSiteSetting",type:"query",private:!1,sys:!0,fields:[],returns:[{name:"budsInt",fields:[{name:"bud",type:"id"},{name:"value",type:"bigint"}]},{name:"budsDec",fields:[{name:"bud",type:"id"},{name:"value",type:"dec",scale:6,precision:18}]},{name:"budsStr",fields:[{name:"bud",type:"id"},{name:"value",type:"char",size:200}]},{name:"budsCheck",fields:[{name:"bud",type:"id"},{name:"item",type:"id"}]}]},atomuom:{name:"AtomUom",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"atom",type:"id",ID:"atom",tuid:"atom"},{name:"uom",type:"id",ID:"atom",tuid:"atom"},{name:"visible",type:"tinyint"}],keys:[{name:"atom",type:"id",ID:"atom",tuid:"atom"},{name:"uom",type:"id",ID:"atom",tuid:"atom"}],global:!1,idType:3,isMinute:!1,stars:["atom","uom"]},atomspec:{name:"AtomSpec",type:"id",private:!1,sys:!0,fields:[{name:"id",type:"id",null:!1},{name:"atomUom",type:"id",ID:"atomuom",tuid:"atomuom"},{name:"spec",type:"id"}],keys:[{name:"atomUom",type:"id",ID:"atomuom",tuid:"atomuom"},{name:"spec",type:"id"}],global:!1,idType:3,isMinute:!1,stars:["atomUom","spec"]},saveuomtype:{name:"SaveUomType",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"},{name:"type",type:"id"}],returns:[]},saveuomiuom:{name:"SaveUomIUom",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"},{name:"type",type:"id"}],returns:[]},getuomfromtype:{name:"GetUomFromType",type:"query",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[{name:"uom",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200},{name:"discription",type:"char",size:100}]}]},getuomilistofuom:{name:"GetUomIListOfUom",type:"query",private:!1,sys:!0,fields:[{name:"uom",type:"id"}],returns:[{name:"$page",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:50},{name:"ex",type:"char",size:50},{name:"phrase",type:"char",size:200}],order:"desc"}]},getatomuomi:{name:"GetAtomUomI",type:"query",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[{name:"uomI",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200}]},{name:"uomX",fields:[{name:"id",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200},{name:"ratio",type:"dec",scale:6,precision:18},{name:"prevEx",type:"char",size:200},{name:"prevRatio",type:"dec",scale:6,precision:18},{name:"atomUom",type:"id"}]}]},saveuomx:{name:"SaveUomX",type:"action",private:!1,sys:!0,fields:[{name:"i",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:100},{name:"ratio",type:"dec",scale:6,precision:18}],returns:[{name:"ret",fields:[{name:"id",type:"id"}]}]},deluomx:{name:"DelUomX",type:"action",private:!1,sys:!0,fields:[{name:"uomI",type:"id"},{name:"uomX",type:"id"}],returns:[]},saveatomuom:{name:"SaveAtomUom",type:"action",private:!1,sys:!0,fields:[{name:"atom",type:"id"},{name:"uom",type:"id"}],returns:[{name:"ret",fields:[{name:"id",type:"id",ID:"atomuom",tuid:"atomuom"}]}]},hideatomuomx:{name:"HideAtomUomX",type:"action",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[]},deleteatomuomi:{name:"DeleteAtomUomI",type:"action",private:!1,sys:!0,fields:[{name:"atom",type:"id"},{name:"uomI",type:"id"}],returns:[]},saveatomspec:{name:"SaveAtomSpec",type:"action",private:!1,sys:!0,fields:[{name:"atomUom",type:"id"},{name:"spec",type:"id"}],returns:[{name:"ret",fields:[{name:"id",type:"id",ID:"atomspec",tuid:"atomspec"}]}]},getuomi:{name:"GetUomI",type:"query",private:!1,sys:!0,fields:[{name:"id",type:"id"}],returns:[{name:"UomI",fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200},{name:"discription",type:"char",size:100},{name:"ratio",type:"dec",scale:6,precision:18},{name:"uom",type:"id",ID:"atom",tuid:"atom"},{name:"uomNo",type:"char",size:30},{name:"uomEx",type:"char",size:100},{name:"uomDiscription",type:"char",size:100}]},{name:"UomX",fields:[{name:"id",type:"id",null:!1},{name:"base",type:"id"},{name:"no",type:"char",size:30},{name:"ex",type:"char",size:200},{name:"ratio",type:"dec",scale:6,precision:18}]}]},$biz:{$user:{name:"$user",type:"$user"},$unit:{name:"$unit",type:"$unit"},sum:{name:"sum",jName:"Sum",type:"moniker",caption:"Sum",assigns:[{name:"psource",type:"assign",dataType:"int"},{name:"psource1",type:"assign",dataType:"int"}]},subject:{name:"subject",jName:"Subject",type:"atom",caption:"科目",props:[{name:"balance",type:"prop",caption:"结余",dataType:"radio",items:[["none","无",0],["yes","有",1]]}],uom:!0},sumpersonpost:{name:"sumpersonpost",jName:"SumPersonPost",type:"atom",caption:"岗位"},sumgrouppost:{name:"sumgrouppost",jName:"SumGroupPost",type:"atom",caption:"职能组"},sumgroup:{name:"sumgroup",jName:"SumGroup",type:"atom",caption:"小组合计"},sitesetting:{name:"sitesetting",jName:"SiteSetting",type:"moniker",caption:"SiteSetting",assigns:[{name:"currency",type:"assign",caption:"默认货币",dataType:"ID"},{name:"startsummonth",type:"assign",caption:"汇总开始月",dataType:"int"},{name:"startfiscalmonth",type:"assign",caption:"财年开始月",dataType:"int"},{name:"startfiscalday",type:"assign",caption:"财年开始日",dataType:"int"}]},uom:{name:"uom",jName:"Uom",type:"atom",caption:"基本单位",props:[{name:"discription",type:"prop",caption:"说明",dataType:"char"},{name:"type",type:"prop",dataType:"radio",items:[["count","计数",1],["length","长度",2],["area","面积",3],["volume","体积",4],["weight","重量",5],["time","时长",6],["currency","货币",7]]}]},uomi:{name:"uomi",jName:"UomI",type:"atom",caption:"计量单位",props:[{name:"discription",type:"prop",caption:"说明",dataType:"char"},{name:"uom",type:"prop",caption:"基本单位",dataType:"atom",atom:"uom"},{name:"ratio",type:"prop",caption:"换算率",dataType:"dec"}]},uomx:{name:"uomx",jName:"UomX",type:"atom",caption:"换算单位"},a菜单:{name:"a菜单",jName:"A菜单",type:"permit",caption:"A菜单",items:[{phrase:"permit.a菜单.i1",name:"i1"},{phrase:"permit.a菜单.i2",name:"i2"},{phrase:"permit.a菜单.i4",name:"i4"}],permits:[]},销售1:{name:"销售1",type:"permit",items:[{phrase:"permit.销售1.入库",name:"入库"},{phrase:"permit.销售1.发货",name:"发货"},{phrase:"permit.销售1.检验",name:"检验"}],permits:[]},入库:{name:"入库",type:"permit",items:[{phrase:"permit.入库.上架",name:"上架"},{phrase:"permit.入库.收货",name:"收货"}],permits:[]},检验:{name:"检验",type:"permit",items:[{phrase:"permit.检验.初检",name:"初检"},{phrase:"permit.检验.复检",name:"复检"}],permits:["入库"]},经理:{name:"经理",type:"role"},销售部经理:{name:"销售部经理",type:"role"},检验员:{name:"检验员",type:"role"},storage:{name:"storage",type:"moniker",caption:"库存",assigns:[{name:"goodsinit",type:"assign",dataType:"dec"},{name:"goodsbalance",type:"assign",dataType:"dec",history:!0}]},c:{name:"c",type:"moniker",assigns:[{name:"流水",type:"assign",caption:"下一步",dataType:"char",value:"s2"}]},accountsetting:{name:"accountsetting",jName:"AccountSetting",type:"moniker",caption:"AccountSetting",assigns:[{name:"name",type:"assign",caption:"单位名称",dataType:"char"},{name:"库存上限",type:"assign",dataType:"dec"},{name:"库存下限",type:"assign",dataType:"dec"}]},personsetting:{name:"personsetting",jName:"PersonSetting",type:"moniker",caption:"PersonSetting",assigns:[{name:"name",type:"assign",caption:"名字",dataType:"char"},{name:"工时上限",type:"assign",dataType:"int"},{name:"工时下限",type:"assign",dataType:"int"}]},price:{name:"price",jName:"Price",type:"moniker",caption:"Price",assigns:[{name:"retail",type:"assign",dataType:"dec"}]},customertree:{name:"customertree",jName:"CustomerTree",type:"tree",caption:"客户分组"},vendortree:{name:"vendortree",jName:"VendorTree",type:"tree",caption:"供应商分组"}}};var it=(e=>(e.Subject="subject",e.SumPersonPost="sumpersonpost",e.SumGroupPost="sumgrouppost",e.SumGroup="sumgroup",e.Uom="uom",e.UomI="uomi",e.UomX="uomx",e))(it||{});const GN={"jksoft/jksoft-mini-jxc-trial":QN},KN={bz:{name:"bizdev",alias:"bz"},br:{name:"bruce",alias:"br"},jksoft:{name:"jksoft",alias:"js"}},XN=[{dev:"jksoft",name:"jksoft-mini-jxc-trial",alias:"Ticket"}],ZN=[{dev:"jksoft",name:"ticket",alias:"Ticket"},{dev:"bz",name:"jxc",alias:"Jxc"}],JN={devs:KN,uqs:XN,uqs1:ZN},eD=function(){let e,t,n=/\+/g,r=/([^&=]+)=?([^&]*)/g,i=function(c){return decodeURIComponent(c.replace(n," "))},s;window&&(s=window.location.search.substring(1));let l={};for(;s;){let c=r.exec(s);if(!c)break;l[i(c[1])]=i(c[2])}let o=l.u||l.unit;if(o){let c=o.indexOf("-");if(c>=0){let d=o.charCodeAt(c+1);const h="tT";e=d===h.charCodeAt(0)||d===h.charCodeAt(1),o=o.substring(0,c)}else e=!1;o[0]==="0"?t=Number(o):t=kn(o),isNaN(t)===!0&&(t=void 0)}else t=0;return{isDevelopment:!1,testing:e,unit:t}}();class Kx{constructor(t,n,r,i){x(this,"biz");x(this,"uq");x(this,"type");x(this,"_name");x(this,"id");x(this,"phrase");x(this,"caption");x(this,"bizPhraseType");this.biz=t,this.uq=t.uq,this.id=n,this._name=r,this.type=i,this.bizPhraseType=sn[i]}get name(){return this._name}setName(t){this._name=t}fromSchema(t){for(let n in t)this.fromSwitch(n,t[n])}fromSwitch(t,n){switch(t){default:debugger;throw Error(`unknown ${t}`);case"id":break;case"name":break;case"jName":break;case"type":break;case"dataType":break;case"history":break;case"phrase":this.phrase=n;break;case"caption":this.caption=n;break}}}const tD=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),nD=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),rD=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),iD=[tD,nD,rD];function sD(e,t){let n=iD[t];return n===void 0&&(n=new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})),n.format(e??0).split(".")}function aD(e,t,n,r){let i;t!==void 0&&(i=a.jsx("small",{children:a.jsx("small",{className:"text-muted",children:t})})),n===void 0&&(n=2);let s=sD(e,n),l=s[0],o=r===!1?a.jsx(a.Fragment,{children:l}):a.jsx("b",{children:l}),u=s[1],c;return u!==void 0&&(c=a.jsx("span",{className:"small text-muted",children:a.jsxs("small",{children:[" .",u]})})),a.jsxs("span",{children:[o,c," ",i]})}const zn={cacheTime:100,refetchOnWindowFocus:!1};function Xx(e,t){let n,r={},i=t[0];if(i!==void 0){const{phrase:o,value:[u,c]}=i;n={id:e,phrase:o,no:u,ex:c}}let s=t.length,l={};for(let o=1;o<s;o++){let{phrase:u,value:c}=t[o];switch(c.length){default:case 0:debugger;break;case 1:r[u]=c[0];break;case 2:let d=l[u];d===void 0&&(l[u]=d={}),d[c[1]]=!0;break}}for(let o in l)r[o]=l[o];return{main:n,buds:r}}function Zx({phrase:e}){const t=G();let r=je(t._notifyCounts)[e];if(r>0)return a.jsxs("span",{className:"ms-3 badge rounded-pill bg-danger",children:[r>100?"99+":r,a.jsx("span",{className:"visually-hidden",children:"unread messages"})]})}function Kp(e){switch(typeof e){default:debugger;throw new Error("wrong part in idPart(part)");case"undefined":return"";case"string":return"/:"+e;case"number":return"/"+jn(e)}}function Gr(e,t,n){return`${e}${Kp(t)}${Kp(n)}`}function ah(e,t,n){return Gr(`../${e}`,t,n)}const Jx=Date.parse("1970-1-1"),e0=1e3*60*60*24;function t0(e){return Math.floor((Date.parse(e)-Jx)/e0)+1}function lD(e){return new Date(Jx+e*e0)}function lh(e){if(e===void 0)return;let n=lD(e).toISOString(),r=n.indexOf("T");return n.substring(0,r)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var n0;function Q(){return n0.apply(null,arguments)}function oD(e){n0=e}function Cn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function si(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ke(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oh(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ke(e,t))return!1;return!0}function Mt(e){return e===void 0}function ur(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ra(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function r0(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function jr(e,t){for(var n in t)ke(t,n)&&(e[n]=t[n]);return ke(t,"toString")&&(e.toString=t.toString),ke(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Bn(e,t,n,r){return N0(e,t,n,r,!0).utc()}function uD(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function he(e){return e._pf==null&&(e._pf=uD()),e._pf}var Nd;Array.prototype.some?Nd=Array.prototype.some:Nd=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function uh(e){if(e._isValid==null){var t=he(e),n=Nd.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function fu(e){var t=Bn(NaN);return e!=null?jr(he(t),e):he(t).userInvalidated=!0,t}var Xp=Q.momentProperties=[],cc=!1;function ch(e,t){var n,r,i,s=Xp.length;if(Mt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Mt(t._i)||(e._i=t._i),Mt(t._f)||(e._f=t._f),Mt(t._l)||(e._l=t._l),Mt(t._strict)||(e._strict=t._strict),Mt(t._tzm)||(e._tzm=t._tzm),Mt(t._isUTC)||(e._isUTC=t._isUTC),Mt(t._offset)||(e._offset=t._offset),Mt(t._pf)||(e._pf=he(t)),Mt(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)r=Xp[n],i=t[r],Mt(i)||(e[r]=i);return e}function La(e){ch(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),cc===!1&&(cc=!0,Q.updateOffset(this),cc=!1)}function _n(e){return e instanceof La||e!=null&&e._isAMomentObject!=null}function i0(e){Q.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function cn(e,t){var n=!0;return jr(function(){if(Q.deprecationHandler!=null&&Q.deprecationHandler(null,e),n){var r=[],i,s,l,o=arguments.length;for(s=0;s<o;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(l in arguments[0])ke(arguments[0],l)&&(i+=l+": "+arguments[0][l]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}i0(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var Zp={};function s0(e,t){Q.deprecationHandler!=null&&Q.deprecationHandler(e,t),Zp[e]||(i0(t),Zp[e]=!0)}Q.suppressDeprecationWarnings=!1;Q.deprecationHandler=null;function Yn(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function cD(e){var t,n;for(n in e)ke(e,n)&&(t=e[n],Yn(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Dd(e,t){var n=jr({},e),r;for(r in t)ke(t,r)&&(si(e[r])&&si(t[r])?(n[r]={},jr(n[r],e[r]),jr(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ke(e,r)&&!ke(t,r)&&si(e[r])&&(n[r]=jr({},n[r]));return n}function dh(e){e!=null&&this.set(e)}var Id;Object.keys?Id=Object.keys:Id=function(e){var t,n=[];for(t in e)ke(e,t)&&n.push(t);return n};var dD={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function fD(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Yn(r)?r.call(t,n):r}function Un(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var fh=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vl=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,dc={},Hi={};function se(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Hi[e]=i),t&&(Hi[t[0]]=function(){return Un(i.apply(this,arguments),t[1],t[2])}),n&&(Hi[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function hD(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function mD(e){var t=e.match(fh),n,r;for(n=0,r=t.length;n<r;n++)Hi[t[n]]?t[n]=Hi[t[n]]:t[n]=hD(t[n]);return function(i){var s="",l;for(l=0;l<r;l++)s+=Yn(t[l])?t[l].call(i,e):t[l];return s}}function Fl(e,t){return e.isValid()?(t=a0(t,e.localeData()),dc[t]=dc[t]||mD(t),dc[t](e)):e.localeData().invalidDate()}function a0(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(vl.lastIndex=0;n>=0&&vl.test(e);)e=e.replace(vl,r),vl.lastIndex=0,n-=1;return e}var pD={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function yD(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(fh).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var vD="Invalid date";function gD(){return this._invalidDate}var xD="%d",wD=/\d{1,2}/;function bD(e){return this._ordinal.replace("%d",e)}var jD={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function SD(e,t,n,r){var i=this._relativeTime[n];return Yn(i)?i(e,t,n,r):i.replace(/%d/i,e)}function kD(e,t){var n=this._relativeTime[e>0?"future":"past"];return Yn(n)?n(t):n.replace(/%s/i,t)}var Zs={};function Ct(e,t){var n=e.toLowerCase();Zs[n]=Zs[n+"s"]=Zs[t]=e}function dn(e){return typeof e=="string"?Zs[e]||Zs[e.toLowerCase()]:void 0}function hh(e){var t={},n,r;for(r in e)ke(e,r)&&(n=dn(r),n&&(t[n]=e[r]));return t}var l0={};function _t(e,t){l0[e]=t}function CD(e){var t=[],n;for(n in e)ke(e,n)&&t.push({unit:n,priority:l0[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function hu(e){return e%4===0&&e%100!==0||e%400===0}function tn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function pe(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=tn(t)),n}function ps(e,t){return function(n){return n!=null?(o0(this,e,n),Q.updateOffset(this,t),this):Co(this,e)}}function Co(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function o0(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&hu(e.year())&&e.month()===1&&e.date()===29?(n=pe(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xu(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function _D(e){return e=dn(e),Yn(this[e])?this[e]():this}function ND(e,t){if(typeof e=="object"){e=hh(e);var n=CD(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=dn(e),Yn(this[e]))return this[e](t);return this}var u0=/\d/,Kt=/\d\d/,c0=/\d{3}/,mh=/\d{4}/,mu=/[+-]?\d{6}/,Re=/\d\d?/,d0=/\d\d\d\d?/,f0=/\d\d\d\d\d\d?/,pu=/\d{1,3}/,ph=/\d{1,4}/,yu=/[+-]?\d{1,6}/,ys=/\d+/,vu=/[+-]?\d+/,DD=/Z|[+-]\d\d:?\d\d/gi,gu=/Z|[+-]\d\d(?::?\d\d)?/gi,ID=/[+-]?\d+(\.\d{1,3})?/,qa=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,_o;_o={};function X(e,t,n){_o[e]=Yn(t)?t:function(r,i){return r&&n?n:t}}function ED(e,t){return ke(_o,e)?_o[e](t._strict,t._locale):new RegExp(PD(e))}function PD(e){return zt(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,s){return n||r||i||s}))}function zt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ed={};function Ae(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),ur(t)&&(r=function(s,l){l[t]=pe(s)}),i=e.length,n=0;n<i;n++)Ed[e[n]]=r}function Ua(e,t){Ae(e,function(n,r,i,s){i._w=i._w||{},t(n,i._w,i,s)})}function AD(e,t,n){t!=null&&ke(Ed,e)&&Ed[e](t,n._a,n,e)}var St=0,er=1,Mn=2,lt=3,xn=4,tr=5,ei=6,OD=7,MD=8;function FD(e,t){return(e%t+t)%t}var Xe;Array.prototype.indexOf?Xe=Array.prototype.indexOf:Xe=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function xu(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=FD(t,12);return e+=(t-n)/12,n===1?hu(e)?29:28:31-n%7%2}se("M",["MM",2],"Mo",function(){return this.month()+1});se("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});se("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ct("month","M");_t("month",8);X("M",Re);X("MM",Re,Kt);X("MMM",function(e,t){return t.monthsShortRegex(e)});X("MMMM",function(e,t){return t.monthsRegex(e)});Ae(["M","MM"],function(e,t){t[er]=pe(e)-1});Ae(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[er]=i:he(n).invalidMonth=e});var TD="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),h0="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),m0=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,RD=qa,LD=qa;function qD(e,t){return e?Cn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||m0).test(t)?"format":"standalone"][e.month()]:Cn(this._months)?this._months:this._months.standalone}function UD(e,t){return e?Cn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[m0.test(t)?"format":"standalone"][e.month()]:Cn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function $D(e,t,n){var r,i,s,l=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Bn([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(i=Xe.call(this._shortMonthsParse,l),i!==-1?i:null):(i=Xe.call(this._longMonthsParse,l),i!==-1?i:null):t==="MMM"?(i=Xe.call(this._shortMonthsParse,l),i!==-1?i:(i=Xe.call(this._longMonthsParse,l),i!==-1?i:null)):(i=Xe.call(this._longMonthsParse,l),i!==-1?i:(i=Xe.call(this._shortMonthsParse,l),i!==-1?i:null))}function VD(e,t,n){var r,i,s;if(this._monthsParseExact)return $D.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Bn([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function p0(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=pe(t);else if(t=e.localeData().monthsParse(t),!ur(t))return e}return n=Math.min(e.date(),xu(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function y0(e){return e!=null?(p0(this,e),Q.updateOffset(this,!0),this):Co(this,"Month")}function zD(){return xu(this.year(),this.month())}function BD(e){return this._monthsParseExact?(ke(this,"_monthsRegex")||v0.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ke(this,"_monthsShortRegex")||(this._monthsShortRegex=RD),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function YD(e){return this._monthsParseExact?(ke(this,"_monthsRegex")||v0.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ke(this,"_monthsRegex")||(this._monthsRegex=LD),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function v0(){function e(l,o){return o.length-l.length}var t=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=Bn([2e3,i]),t.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=zt(t[i]),n[i]=zt(n[i]);for(i=0;i<24;i++)r[i]=zt(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}se("Y",0,0,function(){var e=this.year();return e<=9999?Un(e,4):"+"+e});se(0,["YY",2],0,function(){return this.year()%100});se(0,["YYYY",4],0,"year");se(0,["YYYYY",5],0,"year");se(0,["YYYYYY",6,!0],0,"year");Ct("year","y");_t("year",1);X("Y",vu);X("YY",Re,Kt);X("YYYY",ph,mh);X("YYYYY",yu,mu);X("YYYYYY",yu,mu);Ae(["YYYYY","YYYYYY"],St);Ae("YYYY",function(e,t){t[St]=e.length===2?Q.parseTwoDigitYear(e):pe(e)});Ae("YY",function(e,t){t[St]=Q.parseTwoDigitYear(e)});Ae("Y",function(e,t){t[St]=parseInt(e,10)});function Js(e){return hu(e)?366:365}Q.parseTwoDigitYear=function(e){return pe(e)+(pe(e)>68?1900:2e3)};var g0=ps("FullYear",!0);function WD(){return hu(this.year())}function HD(e,t,n,r,i,s,l){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,i,s,l),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,i,s,l),o}function xa(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function No(e,t,n){var r=7+t-n,i=(7+xa(e,0,r).getUTCDay()-t)%7;return-i+r-1}function x0(e,t,n,r,i){var s=(7+n-r)%7,l=No(e,r,i),o=1+7*(t-1)+s+l,u,c;return o<=0?(u=e-1,c=Js(u)+o):o>Js(e)?(u=e+1,c=o-Js(e)):(u=e,c=o),{year:u,dayOfYear:c}}function wa(e,t,n){var r=No(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,s,l;return i<1?(l=e.year()-1,s=i+ir(l,t,n)):i>ir(e.year(),t,n)?(s=i-ir(e.year(),t,n),l=e.year()+1):(l=e.year(),s=i),{week:s,year:l}}function ir(e,t,n){var r=No(e,t,n),i=No(e+1,t,n);return(Js(e)-r+i)/7}se("w",["ww",2],"wo","week");se("W",["WW",2],"Wo","isoWeek");Ct("week","w");Ct("isoWeek","W");_t("week",5);_t("isoWeek",5);X("w",Re);X("ww",Re,Kt);X("W",Re);X("WW",Re,Kt);Ua(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=pe(e)});function QD(e){return wa(e,this._week.dow,this._week.doy).week}var GD={dow:0,doy:6};function KD(){return this._week.dow}function XD(){return this._week.doy}function ZD(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function JD(e){var t=wa(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}se("d",0,"do","day");se("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});se("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});se("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});se("e",0,0,"weekday");se("E",0,0,"isoWeekday");Ct("day","d");Ct("weekday","e");Ct("isoWeekday","E");_t("day",11);_t("weekday",11);_t("isoWeekday",11);X("d",Re);X("e",Re);X("E",Re);X("dd",function(e,t){return t.weekdaysMinRegex(e)});X("ddd",function(e,t){return t.weekdaysShortRegex(e)});X("dddd",function(e,t){return t.weekdaysRegex(e)});Ua(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:he(n).invalidWeekday=e});Ua(["d","e","E"],function(e,t,n,r){t[r]=pe(e)});function eI(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function tI(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function yh(e,t){return e.slice(t,7).concat(e.slice(0,t))}var nI="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),w0="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),rI="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),iI=qa,sI=qa,aI=qa;function lI(e,t){var n=Cn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?yh(n,this._week.dow):e?n[e.day()]:n}function oI(e){return e===!0?yh(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function uI(e){return e===!0?yh(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function cI(e,t,n){var r,i,s,l=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Bn([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(i=Xe.call(this._weekdaysParse,l),i!==-1?i:null):t==="ddd"?(i=Xe.call(this._shortWeekdaysParse,l),i!==-1?i:null):(i=Xe.call(this._minWeekdaysParse,l),i!==-1?i:null):t==="dddd"?(i=Xe.call(this._weekdaysParse,l),i!==-1||(i=Xe.call(this._shortWeekdaysParse,l),i!==-1)?i:(i=Xe.call(this._minWeekdaysParse,l),i!==-1?i:null)):t==="ddd"?(i=Xe.call(this._shortWeekdaysParse,l),i!==-1||(i=Xe.call(this._weekdaysParse,l),i!==-1)?i:(i=Xe.call(this._minWeekdaysParse,l),i!==-1?i:null)):(i=Xe.call(this._minWeekdaysParse,l),i!==-1||(i=Xe.call(this._weekdaysParse,l),i!==-1)?i:(i=Xe.call(this._shortWeekdaysParse,l),i!==-1?i:null))}function dI(e,t,n){var r,i,s;if(this._weekdaysParseExact)return cI.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Bn([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function fI(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=eI(e,this.localeData()),this.add(e-t,"d")):t}function hI(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function mI(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=tI(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function pI(e){return this._weekdaysParseExact?(ke(this,"_weekdaysRegex")||vh.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ke(this,"_weekdaysRegex")||(this._weekdaysRegex=iI),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function yI(e){return this._weekdaysParseExact?(ke(this,"_weekdaysRegex")||vh.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ke(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sI),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function vI(e){return this._weekdaysParseExact?(ke(this,"_weekdaysRegex")||vh.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ke(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=aI),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vh(){function e(d,h){return h.length-d.length}var t=[],n=[],r=[],i=[],s,l,o,u,c;for(s=0;s<7;s++)l=Bn([2e3,1]).day(s),o=zt(this.weekdaysMin(l,"")),u=zt(this.weekdaysShort(l,"")),c=zt(this.weekdays(l,"")),t.push(o),n.push(u),r.push(c),i.push(o),i.push(u),i.push(c);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function gh(){return this.hours()%12||12}function gI(){return this.hours()||24}se("H",["HH",2],0,"hour");se("h",["hh",2],0,gh);se("k",["kk",2],0,gI);se("hmm",0,0,function(){return""+gh.apply(this)+Un(this.minutes(),2)});se("hmmss",0,0,function(){return""+gh.apply(this)+Un(this.minutes(),2)+Un(this.seconds(),2)});se("Hmm",0,0,function(){return""+this.hours()+Un(this.minutes(),2)});se("Hmmss",0,0,function(){return""+this.hours()+Un(this.minutes(),2)+Un(this.seconds(),2)});function b0(e,t){se(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}b0("a",!0);b0("A",!1);Ct("hour","h");_t("hour",13);function j0(e,t){return t._meridiemParse}X("a",j0);X("A",j0);X("H",Re);X("h",Re);X("k",Re);X("HH",Re,Kt);X("hh",Re,Kt);X("kk",Re,Kt);X("hmm",d0);X("hmmss",f0);X("Hmm",d0);X("Hmmss",f0);Ae(["H","HH"],lt);Ae(["k","kk"],function(e,t,n){var r=pe(e);t[lt]=r===24?0:r});Ae(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Ae(["h","hh"],function(e,t,n){t[lt]=pe(e),he(n).bigHour=!0});Ae("hmm",function(e,t,n){var r=e.length-2;t[lt]=pe(e.substr(0,r)),t[xn]=pe(e.substr(r)),he(n).bigHour=!0});Ae("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[lt]=pe(e.substr(0,r)),t[xn]=pe(e.substr(r,2)),t[tr]=pe(e.substr(i)),he(n).bigHour=!0});Ae("Hmm",function(e,t,n){var r=e.length-2;t[lt]=pe(e.substr(0,r)),t[xn]=pe(e.substr(r))});Ae("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[lt]=pe(e.substr(0,r)),t[xn]=pe(e.substr(r,2)),t[tr]=pe(e.substr(i))});function xI(e){return(e+"").toLowerCase().charAt(0)==="p"}var wI=/[ap]\.?m?\.?/i,bI=ps("Hours",!0);function jI(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var S0={calendar:dD,longDateFormat:pD,invalidDate:vD,ordinal:xD,dayOfMonthOrdinalParse:wD,relativeTime:jD,months:TD,monthsShort:h0,week:GD,weekdays:nI,weekdaysMin:rI,weekdaysShort:w0,meridiemParse:wI},qe={},Ps={},ba;function SI(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Jp(e){return e&&e.toLowerCase().replace("_","-")}function kI(e){for(var t=0,n,r,i,s;t<e.length;){for(s=Jp(e[t]).split("-"),n=s.length,r=Jp(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=wu(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&SI(s,r)>=n-1)break;n--}t++}return ba}function CI(e){return e.match("^[^/\\\\]*$")!=null}function wu(e){var t=null,n;if(qe[e]===void 0&&typeof $l<"u"&&$l&&$l.exports&&CI(e))try{t=ba._abbr,n=require,n("./locale/"+e),Mr(t)}catch{qe[e]=null}return qe[e]}function Mr(e,t){var n;return e&&(Mt(t)?n=fr(e):n=xh(e,t),n?ba=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ba._abbr}function xh(e,t){if(t!==null){var n,r=S0;if(t.abbr=e,qe[e]!=null)s0("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=qe[e]._config;else if(t.parentLocale!=null)if(qe[t.parentLocale]!=null)r=qe[t.parentLocale]._config;else if(n=wu(t.parentLocale),n!=null)r=n._config;else return Ps[t.parentLocale]||(Ps[t.parentLocale]=[]),Ps[t.parentLocale].push({name:e,config:t}),null;return qe[e]=new dh(Dd(r,t)),Ps[e]&&Ps[e].forEach(function(i){xh(i.name,i.config)}),Mr(e),qe[e]}else return delete qe[e],null}function _I(e,t){if(t!=null){var n,r,i=S0;qe[e]!=null&&qe[e].parentLocale!=null?qe[e].set(Dd(qe[e]._config,t)):(r=wu(e),r!=null&&(i=r._config),t=Dd(i,t),r==null&&(t.abbr=e),n=new dh(t),n.parentLocale=qe[e],qe[e]=n),Mr(e)}else qe[e]!=null&&(qe[e].parentLocale!=null?(qe[e]=qe[e].parentLocale,e===Mr()&&Mr(e)):qe[e]!=null&&delete qe[e]);return qe[e]}function fr(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ba;if(!Cn(e)){if(t=wu(e),t)return t;e=[e]}return kI(e)}function NI(){return Id(qe)}function wh(e){var t,n=e._a;return n&&he(e).overflow===-2&&(t=n[er]<0||n[er]>11?er:n[Mn]<1||n[Mn]>xu(n[St],n[er])?Mn:n[lt]<0||n[lt]>24||n[lt]===24&&(n[xn]!==0||n[tr]!==0||n[ei]!==0)?lt:n[xn]<0||n[xn]>59?xn:n[tr]<0||n[tr]>59?tr:n[ei]<0||n[ei]>999?ei:-1,he(e)._overflowDayOfYear&&(t<St||t>Mn)&&(t=Mn),he(e)._overflowWeeks&&t===-1&&(t=OD),he(e)._overflowWeekday&&t===-1&&(t=MD),he(e).overflow=t),e}var DI=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,II=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,EI=/Z|[+-]\d\d(?::?\d\d)?/,gl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],PI=/^\/?Date\((-?\d+)/i,AI=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,OI={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function k0(e){var t,n,r=e._i,i=DI.exec(r)||II.exec(r),s,l,o,u,c=gl.length,d=fc.length;if(i){for(he(e).iso=!0,t=0,n=c;t<n;t++)if(gl[t][1].exec(i[1])){l=gl[t][0],s=gl[t][2]!==!1;break}if(l==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(fc[t][1].exec(i[3])){o=(i[2]||" ")+fc[t][0];break}if(o==null){e._isValid=!1;return}}if(!s&&o!=null){e._isValid=!1;return}if(i[4])if(EI.exec(i[4]))u="Z";else{e._isValid=!1;return}e._f=l+(o||"")+(u||""),jh(e)}else e._isValid=!1}function MI(e,t,n,r,i,s){var l=[FI(e),h0.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&l.push(parseInt(s,10)),l}function FI(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function TI(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function RI(e,t,n){if(e){var r=w0.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return he(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function LI(e,t,n){if(e)return OI[e];if(t)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function C0(e){var t=AI.exec(TI(e._i)),n;if(t){if(n=MI(t[4],t[3],t[2],t[5],t[6],t[7]),!RI(t[1],n,e))return;e._a=n,e._tzm=LI(t[8],t[9],t[10]),e._d=xa.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),he(e).rfc2822=!0}else e._isValid=!1}function qI(e){var t=PI.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(k0(e),e._isValid===!1)delete e._isValid;else return;if(C0(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Q.createFromInputFallback(e)}Q.createFromInputFallback=cn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ci(e,t,n){return e??t??n}function UI(e){var t=new Date(Q.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function bh(e){var t,n,r=[],i,s,l;if(!e._d){for(i=UI(e),e._w&&e._a[Mn]==null&&e._a[er]==null&&$I(e),e._dayOfYear!=null&&(l=Ci(e._a[St],i[St]),(e._dayOfYear>Js(l)||e._dayOfYear===0)&&(he(e)._overflowDayOfYear=!0),n=xa(l,0,e._dayOfYear),e._a[er]=n.getUTCMonth(),e._a[Mn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[lt]===24&&e._a[xn]===0&&e._a[tr]===0&&e._a[ei]===0&&(e._nextDay=!0,e._a[lt]=0),e._d=(e._useUTC?xa:HD).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[lt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(he(e).weekdayMismatch=!0)}}function $I(e){var t,n,r,i,s,l,o,u,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,l=4,n=Ci(t.GG,e._a[St],wa(Te(),1,4).year),r=Ci(t.W,1),i=Ci(t.E,1),(i<1||i>7)&&(u=!0)):(s=e._locale._week.dow,l=e._locale._week.doy,c=wa(Te(),s,l),n=Ci(t.gg,e._a[St],c.year),r=Ci(t.w,c.week),t.d!=null?(i=t.d,(i<0||i>6)&&(u=!0)):t.e!=null?(i=t.e+s,(t.e<0||t.e>6)&&(u=!0)):i=s),r<1||r>ir(n,s,l)?he(e)._overflowWeeks=!0:u!=null?he(e)._overflowWeekday=!0:(o=x0(n,r,i,s,l),e._a[St]=o.year,e._dayOfYear=o.dayOfYear)}Q.ISO_8601=function(){};Q.RFC_2822=function(){};function jh(e){if(e._f===Q.ISO_8601){k0(e);return}if(e._f===Q.RFC_2822){C0(e);return}e._a=[],he(e).empty=!0;var t=""+e._i,n,r,i,s,l,o=t.length,u=0,c,d;for(i=a0(e._f,e._locale).match(fh)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(t.match(ED(s,e))||[])[0],r&&(l=t.substr(0,t.indexOf(r)),l.length>0&&he(e).unusedInput.push(l),t=t.slice(t.indexOf(r)+r.length),u+=r.length),Hi[s]?(r?he(e).empty=!1:he(e).unusedTokens.push(s),AD(s,r,e)):e._strict&&!r&&he(e).unusedTokens.push(s);he(e).charsLeftOver=o-u,t.length>0&&he(e).unusedInput.push(t),e._a[lt]<=12&&he(e).bigHour===!0&&e._a[lt]>0&&(he(e).bigHour=void 0),he(e).parsedDateParts=e._a.slice(0),he(e).meridiem=e._meridiem,e._a[lt]=VI(e._locale,e._a[lt],e._meridiem),c=he(e).era,c!==null&&(e._a[St]=e._locale.erasConvertYear(c,e._a[St])),bh(e),wh(e)}function VI(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function zI(e){var t,n,r,i,s,l,o=!1,u=e._f.length;if(u===0){he(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<u;i++)s=0,l=!1,t=ch({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],jh(t),uh(t)&&(l=!0),s+=he(t).charsLeftOver,s+=he(t).unusedTokens.length*10,he(t).score=s,o?s<r&&(r=s,n=t):(r==null||s<r||l)&&(r=s,n=t,l&&(o=!0));jr(e,n||t)}function BI(e){if(!e._d){var t=hh(e._i),n=t.day===void 0?t.date:t.day;e._a=r0([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),bh(e)}}function YI(e){var t=new La(wh(_0(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function _0(e){var t=e._i,n=e._f;return e._locale=e._locale||fr(e._l),t===null||n===void 0&&t===""?fu({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),_n(t)?new La(wh(t)):(Ra(t)?e._d=t:Cn(n)?zI(e):n?jh(e):WI(e),uh(e)||(e._d=null),e))}function WI(e){var t=e._i;Mt(t)?e._d=new Date(Q.now()):Ra(t)?e._d=new Date(t.valueOf()):typeof t=="string"?qI(e):Cn(t)?(e._a=r0(t.slice(0),function(n){return parseInt(n,10)}),bh(e)):si(t)?BI(e):ur(t)?e._d=new Date(t):Q.createFromInputFallback(e)}function N0(e,t,n,r,i){var s={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(si(e)&&oh(e)||Cn(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,YI(s)}function Te(e,t,n,r){return N0(e,t,n,r,!1)}var HI=cn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:fu()}),QI=cn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:fu()});function D0(e,t){var n,r;if(t.length===1&&Cn(t[0])&&(t=t[0]),!t.length)return Te();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function GI(){var e=[].slice.call(arguments,0);return D0("isBefore",e)}function KI(){var e=[].slice.call(arguments,0);return D0("isAfter",e)}var XI=function(){return Date.now?Date.now():+new Date},As=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ZI(e){var t,n=!1,r,i=As.length;for(t in e)if(ke(e,t)&&!(Xe.call(As,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[As[r]]){if(n)return!1;parseFloat(e[As[r]])!==pe(e[As[r]])&&(n=!0)}return!0}function JI(){return this._isValid}function eE(){return In(NaN)}function bu(e){var t=hh(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,l=t.day||0,o=t.hour||0,u=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=ZI(t),this._milliseconds=+d+c*1e3+u*6e4+o*1e3*60*60,this._days=+l+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=fr(),this._bubble()}function Tl(e){return e instanceof bu}function Pd(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function tE(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,l;for(l=0;l<r;l++)(n&&e[l]!==t[l]||!n&&pe(e[l])!==pe(t[l]))&&s++;return s+i}function I0(e,t){se(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Un(~~(n/60),2)+t+Un(~~n%60,2)})}I0("Z",":");I0("ZZ","");X("Z",gu);X("ZZ",gu);Ae(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Sh(gu,e)});var nE=/([\+\-]|\d\d)/gi;function Sh(e,t){var n=(t||"").match(e),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(nE)||["-",0,0],s=+(i[1]*60)+pe(i[2]),s===0?0:i[0]==="+"?s:-s)}function kh(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(_n(e)||Ra(e)?e.valueOf():Te(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Q.updateOffset(n,!1),n):Te(e).local()}function Ad(e){return-Math.round(e._d.getTimezoneOffset())}Q.updateOffset=function(){};function rE(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Sh(gu,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=Ad(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?A0(this,In(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Ad(this)}function iE(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function sE(e){return this.utcOffset(0,e)}function aE(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ad(this),"m")),this}function lE(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Sh(DD,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function oE(e){return this.isValid()?(e=e?Te(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function uE(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function cE(){if(!Mt(this._isDSTShifted))return this._isDSTShifted;var e={},t;return ch(e,this),e=_0(e),e._a?(t=e._isUTC?Bn(e._a):Te(e._a),this._isDSTShifted=this.isValid()&&tE(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function dE(){return this.isValid()?!this._isUTC:!1}function fE(){return this.isValid()?this._isUTC:!1}function E0(){return this.isValid()?this._isUTC&&this._offset===0:!1}var hE=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,mE=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function In(e,t){var n=e,r=null,i,s,l;return Tl(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ur(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=hE.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:pe(r[Mn])*i,h:pe(r[lt])*i,m:pe(r[xn])*i,s:pe(r[tr])*i,ms:pe(Pd(r[ei]*1e3))*i}):(r=mE.exec(e))?(i=r[1]==="-"?-1:1,n={y:Yr(r[2],i),M:Yr(r[3],i),w:Yr(r[4],i),d:Yr(r[5],i),h:Yr(r[6],i),m:Yr(r[7],i),s:Yr(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(l=pE(Te(n.from),Te(n.to)),n={},n.ms=l.milliseconds,n.M=l.months),s=new bu(n),Tl(e)&&ke(e,"_locale")&&(s._locale=e._locale),Tl(e)&&ke(e,"_isValid")&&(s._isValid=e._isValid),s}In.fn=bu.prototype;In.invalid=eE;function Yr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ey(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function pE(e,t){var n;return e.isValid()&&t.isValid()?(t=kh(t,e),e.isBefore(t)?n=ey(e,t):(n=ey(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function P0(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(s0(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=In(n,r),A0(this,i,e),this}}function A0(e,t,n,r){var i=t._milliseconds,s=Pd(t._days),l=Pd(t._months);e.isValid()&&(r=r??!0,l&&p0(e,Co(e,"Month")+l*n),s&&o0(e,"Date",Co(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&Q.updateOffset(e,s||l))}var yE=P0(1,"add"),vE=P0(-1,"subtract");function O0(e){return typeof e=="string"||e instanceof String}function gE(e){return _n(e)||Ra(e)||O0(e)||ur(e)||wE(e)||xE(e)||e===null||e===void 0}function xE(e){var t=si(e)&&!oh(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,l=r.length;for(i=0;i<l;i+=1)s=r[i],n=n||ke(e,s);return t&&n}function wE(e){var t=Cn(e),n=!1;return t&&(n=e.filter(function(r){return!ur(r)&&O0(e)}).length===0),t&&n}function bE(e){var t=si(e)&&!oh(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||ke(e,s);return t&&n}function jE(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function SE(e,t){arguments.length===1&&(arguments[0]?gE(arguments[0])?(e=arguments[0],t=void 0):bE(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Te(),r=kh(n,this).startOf("day"),i=Q.calendarFormat(this,r)||"sameElse",s=t&&(Yn(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,Te(n)))}function kE(){return new La(this)}function CE(e,t){var n=_n(e)?e:Te(e);return this.isValid()&&n.isValid()?(t=dn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function _E(e,t){var n=_n(e)?e:Te(e);return this.isValid()&&n.isValid()?(t=dn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function NE(e,t,n,r){var i=_n(e)?e:Te(e),s=_n(t)?t:Te(t);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function DE(e,t){var n=_n(e)?e:Te(e),r;return this.isValid()&&n.isValid()?(t=dn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function IE(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function EE(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function PE(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(r=kh(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=dn(t),t){case"year":s=Rl(this,r)/12;break;case"month":s=Rl(this,r);break;case"quarter":s=Rl(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:tn(s)}function Rl(e,t){if(e.date()<t.date())return-Rl(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)||0}Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Q.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function AE(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function OE(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Fl(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Yn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fl(n,"Z")):Fl(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ME(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+i+s)}function FE(e){e||(e=this.isUtc()?Q.defaultFormatUtc:Q.defaultFormat);var t=Fl(this,e);return this.localeData().postformat(t)}function TE(e,t){return this.isValid()&&(_n(e)&&e.isValid()||Te(e).isValid())?In({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function RE(e){return this.from(Te(),e)}function LE(e,t){return this.isValid()&&(_n(e)&&e.isValid()||Te(e).isValid())?In({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function qE(e){return this.to(Te(),e)}function M0(e){var t;return e===void 0?this._locale._abbr:(t=fr(e),t!=null&&(this._locale=t),this)}var F0=cn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function T0(){return this._locale}var Do=1e3,Qi=60*Do,Io=60*Qi,R0=(365*400+97)*24*Io;function Gi(e,t){return(e%t+t)%t}function L0(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-R0:new Date(e,t,n).valueOf()}function q0(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-R0:Date.UTC(e,t,n)}function UE(e){var t,n;if(e=dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?q0:L0,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Gi(t+(this._isUTC?0:this.utcOffset()*Qi),Io);break;case"minute":t=this._d.valueOf(),t-=Gi(t,Qi);break;case"second":t=this._d.valueOf(),t-=Gi(t,Do);break}return this._d.setTime(t),Q.updateOffset(this,!0),this}function $E(e){var t,n;if(e=dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?q0:L0,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Io-Gi(t+(this._isUTC?0:this.utcOffset()*Qi),Io)-1;break;case"minute":t=this._d.valueOf(),t+=Qi-Gi(t,Qi)-1;break;case"second":t=this._d.valueOf(),t+=Do-Gi(t,Do)-1;break}return this._d.setTime(t),Q.updateOffset(this,!0),this}function VE(){return this._d.valueOf()-(this._offset||0)*6e4}function zE(){return Math.floor(this.valueOf()/1e3)}function BE(){return new Date(this.valueOf())}function YE(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function WE(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function HE(){return this.isValid()?this.toISOString():null}function QE(){return uh(this)}function GE(){return jr({},he(this))}function KE(){return he(this).overflow}function XE(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}se("N",0,0,"eraAbbr");se("NN",0,0,"eraAbbr");se("NNN",0,0,"eraAbbr");se("NNNN",0,0,"eraName");se("NNNNN",0,0,"eraNarrow");se("y",["y",1],"yo","eraYear");se("y",["yy",2],0,"eraYear");se("y",["yyy",3],0,"eraYear");se("y",["yyyy",4],0,"eraYear");X("N",Ch);X("NN",Ch);X("NNN",Ch);X("NNNN",oP);X("NNNNN",uP);Ae(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?he(n).era=i:he(n).invalidEra=e});X("y",ys);X("yy",ys);X("yyy",ys);X("yyyy",ys);X("yo",cP);Ae(["y","yy","yyy","yyyy"],St);Ae(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[St]=n._locale.eraYearOrdinalParse(e,i):t[St]=parseInt(e,10)});function ZE(e,t){var n,r,i,s=this._eras||fr("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=Q(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=Q(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function JE(e,t,n){var r,i,s=this.eras(),l,o,u;for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(l=s[r].name.toUpperCase(),o=s[r].abbr.toUpperCase(),u=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[r];break;case"NNNN":if(l===e)return s[r];break;case"NNNNN":if(u===e)return s[r];break}else if([l,o,u].indexOf(e)>=0)return s[r]}function eP(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Q(e.since).year():Q(e.since).year()+(t-e.offset)*n}function tP(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function nP(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function rP(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function iP(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-Q(i[e].since).year())*n+i[e].offset;return this.year()}function sP(e){return ke(this,"_erasNameRegex")||_h.call(this),e?this._erasNameRegex:this._erasRegex}function aP(e){return ke(this,"_erasAbbrRegex")||_h.call(this),e?this._erasAbbrRegex:this._erasRegex}function lP(e){return ke(this,"_erasNarrowRegex")||_h.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ch(e,t){return t.erasAbbrRegex(e)}function oP(e,t){return t.erasNameRegex(e)}function uP(e,t){return t.erasNarrowRegex(e)}function cP(e,t){return t._eraYearOrdinalRegex||ys}function _h(){var e=[],t=[],n=[],r=[],i,s,l=this.eras();for(i=0,s=l.length;i<s;++i)t.push(zt(l[i].name)),e.push(zt(l[i].abbr)),n.push(zt(l[i].narrow)),r.push(zt(l[i].name)),r.push(zt(l[i].abbr)),r.push(zt(l[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}se(0,["gg",2],0,function(){return this.weekYear()%100});se(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ju(e,t){se(0,[e,e.length],0,t)}ju("gggg","weekYear");ju("ggggg","weekYear");ju("GGGG","isoWeekYear");ju("GGGGG","isoWeekYear");Ct("weekYear","gg");Ct("isoWeekYear","GG");_t("weekYear",1);_t("isoWeekYear",1);X("G",vu);X("g",vu);X("GG",Re,Kt);X("gg",Re,Kt);X("GGGG",ph,mh);X("gggg",ph,mh);X("GGGGG",yu,mu);X("ggggg",yu,mu);Ua(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=pe(e)});Ua(["gg","GG"],function(e,t,n,r){t[r]=Q.parseTwoDigitYear(e)});function dP(e){return U0.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function fP(e){return U0.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function hP(){return ir(this.year(),1,4)}function mP(){return ir(this.isoWeekYear(),1,4)}function pP(){var e=this.localeData()._week;return ir(this.year(),e.dow,e.doy)}function yP(){var e=this.localeData()._week;return ir(this.weekYear(),e.dow,e.doy)}function U0(e,t,n,r,i){var s;return e==null?wa(this,r,i).year:(s=ir(e,r,i),t>s&&(t=s),vP.call(this,e,t,n,r,i))}function vP(e,t,n,r,i){var s=x0(e,t,n,r,i),l=xa(s.year,0,s.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}se("Q",0,"Qo","quarter");Ct("quarter","Q");_t("quarter",7);X("Q",u0);Ae("Q",function(e,t){t[er]=(pe(e)-1)*3});function gP(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}se("D",["DD",2],"Do","date");Ct("date","D");_t("date",9);X("D",Re);X("DD",Re,Kt);X("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ae(["D","DD"],Mn);Ae("Do",function(e,t){t[Mn]=pe(e.match(Re)[0])});var $0=ps("Date",!0);se("DDD",["DDDD",3],"DDDo","dayOfYear");Ct("dayOfYear","DDD");_t("dayOfYear",4);X("DDD",pu);X("DDDD",c0);Ae(["DDD","DDDD"],function(e,t,n){n._dayOfYear=pe(e)});function xP(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}se("m",["mm",2],0,"minute");Ct("minute","m");_t("minute",14);X("m",Re);X("mm",Re,Kt);Ae(["m","mm"],xn);var wP=ps("Minutes",!1);se("s",["ss",2],0,"second");Ct("second","s");_t("second",15);X("s",Re);X("ss",Re,Kt);Ae(["s","ss"],tr);var bP=ps("Seconds",!1);se("S",0,0,function(){return~~(this.millisecond()/100)});se(0,["SS",2],0,function(){return~~(this.millisecond()/10)});se(0,["SSS",3],0,"millisecond");se(0,["SSSS",4],0,function(){return this.millisecond()*10});se(0,["SSSSS",5],0,function(){return this.millisecond()*100});se(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});se(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});se(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});se(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ct("millisecond","ms");_t("millisecond",16);X("S",pu,u0);X("SS",pu,Kt);X("SSS",pu,c0);var Sr,V0;for(Sr="SSSS";Sr.length<=9;Sr+="S")X(Sr,ys);function jP(e,t){t[ei]=pe(("0."+e)*1e3)}for(Sr="S";Sr.length<=9;Sr+="S")Ae(Sr,jP);V0=ps("Milliseconds",!1);se("z",0,0,"zoneAbbr");se("zz",0,0,"zoneName");function SP(){return this._isUTC?"UTC":""}function kP(){return this._isUTC?"Coordinated Universal Time":""}var V=La.prototype;V.add=yE;V.calendar=SE;V.clone=kE;V.diff=PE;V.endOf=$E;V.format=FE;V.from=TE;V.fromNow=RE;V.to=LE;V.toNow=qE;V.get=_D;V.invalidAt=KE;V.isAfter=CE;V.isBefore=_E;V.isBetween=NE;V.isSame=DE;V.isSameOrAfter=IE;V.isSameOrBefore=EE;V.isValid=QE;V.lang=F0;V.locale=M0;V.localeData=T0;V.max=QI;V.min=HI;V.parsingFlags=GE;V.set=ND;V.startOf=UE;V.subtract=vE;V.toArray=YE;V.toObject=WE;V.toDate=BE;V.toISOString=OE;V.inspect=ME;typeof Symbol<"u"&&Symbol.for!=null&&(V[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});V.toJSON=HE;V.toString=AE;V.unix=zE;V.valueOf=VE;V.creationData=XE;V.eraName=tP;V.eraNarrow=nP;V.eraAbbr=rP;V.eraYear=iP;V.year=g0;V.isLeapYear=WD;V.weekYear=dP;V.isoWeekYear=fP;V.quarter=V.quarters=gP;V.month=y0;V.daysInMonth=zD;V.week=V.weeks=ZD;V.isoWeek=V.isoWeeks=JD;V.weeksInYear=pP;V.weeksInWeekYear=yP;V.isoWeeksInYear=hP;V.isoWeeksInISOWeekYear=mP;V.date=$0;V.day=V.days=fI;V.weekday=hI;V.isoWeekday=mI;V.dayOfYear=xP;V.hour=V.hours=bI;V.minute=V.minutes=wP;V.second=V.seconds=bP;V.millisecond=V.milliseconds=V0;V.utcOffset=rE;V.utc=sE;V.local=aE;V.parseZone=lE;V.hasAlignedHourOffset=oE;V.isDST=uE;V.isLocal=dE;V.isUtcOffset=fE;V.isUtc=E0;V.isUTC=E0;V.zoneAbbr=SP;V.zoneName=kP;V.dates=cn("dates accessor is deprecated. Use date instead.",$0);V.months=cn("months accessor is deprecated. Use month instead",y0);V.years=cn("years accessor is deprecated. Use year instead",g0);V.zone=cn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",iE);V.isDSTShifted=cn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",cE);function CP(e){return Te(e*1e3)}function _P(){return Te.apply(null,arguments).parseZone()}function z0(e){return e}var Ce=dh.prototype;Ce.calendar=fD;Ce.longDateFormat=yD;Ce.invalidDate=gD;Ce.ordinal=bD;Ce.preparse=z0;Ce.postformat=z0;Ce.relativeTime=SD;Ce.pastFuture=kD;Ce.set=cD;Ce.eras=ZE;Ce.erasParse=JE;Ce.erasConvertYear=eP;Ce.erasAbbrRegex=aP;Ce.erasNameRegex=sP;Ce.erasNarrowRegex=lP;Ce.months=qD;Ce.monthsShort=UD;Ce.monthsParse=VD;Ce.monthsRegex=YD;Ce.monthsShortRegex=BD;Ce.week=QD;Ce.firstDayOfYear=XD;Ce.firstDayOfWeek=KD;Ce.weekdays=lI;Ce.weekdaysMin=uI;Ce.weekdaysShort=oI;Ce.weekdaysParse=dI;Ce.weekdaysRegex=pI;Ce.weekdaysShortRegex=yI;Ce.weekdaysMinRegex=vI;Ce.isPM=xI;Ce.meridiem=jI;function Eo(e,t,n,r){var i=fr(),s=Bn().set(r,t);return i[n](s,e)}function B0(e,t,n){if(ur(e)&&(t=e,e=void 0),e=e||"",t!=null)return Eo(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Eo(e,r,n,"month");return i}function Nh(e,t,n,r){typeof e=="boolean"?(ur(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ur(t)&&(n=t,t=void 0),t=t||"");var i=fr(),s=e?i._week.dow:0,l,o=[];if(n!=null)return Eo(t,(n+s)%7,r,"day");for(l=0;l<7;l++)o[l]=Eo(t,(l+s)%7,r,"day");return o}function NP(e,t){return B0(e,t,"months")}function DP(e,t){return B0(e,t,"monthsShort")}function IP(e,t,n){return Nh(e,t,n,"weekdays")}function EP(e,t,n){return Nh(e,t,n,"weekdaysShort")}function PP(e,t,n){return Nh(e,t,n,"weekdaysMin")}Mr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=pe(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Q.lang=cn("moment.lang is deprecated. Use moment.locale instead.",Mr);Q.langData=cn("moment.langData is deprecated. Use moment.localeData instead.",fr);var Hn=Math.abs;function AP(){var e=this._data;return this._milliseconds=Hn(this._milliseconds),this._days=Hn(this._days),this._months=Hn(this._months),e.milliseconds=Hn(e.milliseconds),e.seconds=Hn(e.seconds),e.minutes=Hn(e.minutes),e.hours=Hn(e.hours),e.months=Hn(e.months),e.years=Hn(e.years),this}function Y0(e,t,n,r){var i=In(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function OP(e,t){return Y0(this,e,t,1)}function MP(e,t){return Y0(this,e,t,-1)}function ty(e){return e<0?Math.floor(e):Math.ceil(e)}function FP(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,l,o,u;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=ty(Od(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=tn(e/1e3),r.seconds=i%60,s=tn(i/60),r.minutes=s%60,l=tn(s/60),r.hours=l%24,t+=tn(l/24),u=tn(W0(t)),n+=u,t-=ty(Od(u)),o=tn(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function W0(e){return e*4800/146097}function Od(e){return e*146097/4800}function TP(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=dn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+W0(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Od(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function RP(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+pe(this._months/12)*31536e6:NaN}function hr(e){return function(){return this.as(e)}}var LP=hr("ms"),qP=hr("s"),UP=hr("m"),$P=hr("h"),VP=hr("d"),zP=hr("w"),BP=hr("M"),YP=hr("Q"),WP=hr("y");function HP(){return In(this)}function QP(e){return e=dn(e),this.isValid()?this[e+"s"]():NaN}function xi(e){return function(){return this.isValid()?this._data[e]:NaN}}var GP=xi("milliseconds"),KP=xi("seconds"),XP=xi("minutes"),ZP=xi("hours"),JP=xi("days"),eA=xi("months"),tA=xi("years");function nA(){return tn(this.days()/7)}var Kn=Math.round,Li={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rA(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function iA(e,t,n,r){var i=In(e).abs(),s=Kn(i.as("s")),l=Kn(i.as("m")),o=Kn(i.as("h")),u=Kn(i.as("d")),c=Kn(i.as("M")),d=Kn(i.as("w")),h=Kn(i.as("y")),m=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||l<=1&&["m"]||l<n.m&&["mm",l]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return n.w!=null&&(m=m||d<=1&&["w"]||d<n.w&&["ww",d]),m=m||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],m[2]=t,m[3]=+e>0,m[4]=r,rA.apply(null,m)}function sA(e){return e===void 0?Kn:typeof e=="function"?(Kn=e,!0):!1}function aA(e,t){return Li[e]===void 0?!1:t===void 0?Li[e]:(Li[e]=t,e==="s"&&(Li.ss=t-1),!0)}function lA(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Li,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Li,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),s=iA(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var hc=Math.abs;function ji(e){return(e>0)-(e<0)||+e}function Su(){if(!this.isValid())return this.localeData().invalidDate();var e=hc(this._milliseconds)/1e3,t=hc(this._days),n=hc(this._months),r,i,s,l,o=this.asSeconds(),u,c,d,h;return o?(r=tn(e/60),i=tn(r/60),e%=60,r%=60,s=tn(n/12),n%=12,l=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=o<0?"-":"",c=ji(this._months)!==ji(o)?"-":"",d=ji(this._days)!==ji(o)?"-":"",h=ji(this._milliseconds)!==ji(o)?"-":"",u+"P"+(s?c+s+"Y":"")+(n?c+n+"M":"")+(t?d+t+"D":"")+(i||r||e?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(e?h+l+"S":"")):"P0D"}var we=bu.prototype;we.isValid=JI;we.abs=AP;we.add=OP;we.subtract=MP;we.as=TP;we.asMilliseconds=LP;we.asSeconds=qP;we.asMinutes=UP;we.asHours=$P;we.asDays=VP;we.asWeeks=zP;we.asMonths=BP;we.asQuarters=YP;we.asYears=WP;we.valueOf=RP;we._bubble=FP;we.clone=HP;we.get=QP;we.milliseconds=GP;we.seconds=KP;we.minutes=XP;we.hours=ZP;we.days=JP;we.weeks=nA;we.months=eA;we.years=tA;we.humanize=lA;we.toISOString=Su;we.toString=Su;we.toJSON=Su;we.locale=M0;we.localeData=T0;we.toIsoString=cn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Su);we.lang=F0;se("X",0,0,"unix");se("x",0,0,"valueOf");X("x",vu);X("X",ID);Ae("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Ae("x",function(e,t,n){n._d=new Date(pe(e))});//! moment.js
Q.version="2.29.4";oD(Te);Q.fn=V;Q.min=GI;Q.max=KI;Q.now=XI;Q.utc=Bn;Q.unix=CP;Q.months=NP;Q.isDate=Ra;Q.locale=Mr;Q.invalid=fu;Q.duration=In;Q.isMoment=_n;Q.weekdays=IP;Q.parseZone=_P;Q.localeData=fr;Q.isDuration=Tl;Q.monthsShort=DP;Q.weekdaysMin=PP;Q.defineLocale=xh;Q.updateLocale=_I;Q.locales=NI;Q.weekdaysShort=EP;Q.normalizeUnits=dn;Q.relativeTimeRounding=sA;Q.relativeTimeThreshold=aA;Q.calendarFormat=jE;Q.prototype=V;Q.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Ll=(e=>(e[e.day=0]="day",e[e.month=1]="month",e[e.week=2]="week",e[e.year=3]="year",e))(Ll||{});const H0="periodType",ny=0;function oA(){let e=localStorage.getItem(H0);if(e===null)return 0;let t=Number(e);return Number.isNaN(t)===!0||t<0||t>3?ny:t}function uA(e){localStorage.setItem(H0,String(e))}class ku{constructor(t,n,r,i){x(this,"timezone");x(this,"siteBizMonth");x(this,"siteBizDate");x(this,"onChanged");x(this,"type");x(this,"state");x(this,"hasNext");x(this,"caption");this.timezone=t,this.siteBizMonth=n,this.siteBizDate=r,this.onChanged=i;let s=this.newDate();this.state=ze({to:s,from:new Date(s),caption:null}),this.hasNext=ze(l=>{let o=this.newDate();return l(this.state).to<=o}),this.caption=ze(l=>this.getCaption(l)),this.init()}newDate(){let t=new Date;return t.setHours(t.getHours()-iu.timeZone+this.timezone),t.setHours(0,0,0,0),t}getGrainSize(t){return""}prev(){var t;this.prevInternal(),(t=this.onChanged)==null||t.call(this,this)}next(){var t;this.nextInternal(),(t=this.onChanged)==null||t.call(this,this)}}const cA="日一二三四五六";class dA extends ku{init(){this.type=0;let{from:t,to:n}=ye(this.state),r=new Date(t),i=new Date(n);i.setDate(t.getDate()+1),oe(this.state,{from:r,to:i})}prevInternal(){let{from:t,to:n}=ye(this.state);oe(this.state,{to:new Date(n.setDate(n.getDate()-1)),from:new Date(t.setDate(t.getDate()-1))})}nextInternal(){let{from:t,to:n}=ye(this.state);oe(this.state,{to:new Date(n.setDate(n.getDate()+1)),from:new Date(t.setDate(t.getDate()+1))})}getCaption(t){let{from:n}=t(this.state),r=new Date().getFullYear(),i=n.getFullYear(),s=n.getMonth(),l=n.getDate(),o=n.getDay();return(i===r?"":`${i}年`)+`${s+1}月${l}日 星期${cA[o]}`}}class fA extends ku{init(){let{to:t}=ye(this.state);this.type=2;let n=t.getDay(),i=t.getDate()-n+(n===0?-6:1),s=new Date(t),l=new Date(t.setDate(i));s.setDate(t.getDate()+7),oe(this.state,{from:l,to:s})}prevInternal(){let{from:t,to:n}=ye(this.state);oe(this.state,{from:new Date(t.setDate(t.getDate()-7)),to:new Date(n.setDate(n.getDate()-7))})}nextInternal(){let{from:t,to:n}=ye(this.state);oe(this.state,{from:new Date(t.setDate(t.getDate()+7)),to:new Date(n.setDate(n.getDate()+7))})}getCaption(t){let{from:n,to:r}=t(this.state),i=new Date().getFullYear(),s=n.getFullYear(),l=n.getMonth(),o=n.getDate(),u=new Date(r);u.setDate(r.getDate()-1);let c=u.getMonth(),d=u.getDate();return(s===i?"":`${s}年`)+`${l+1}月${o}日 - `+(c===l?"":`${c+1}月`)+`${d}日`}getGrainSize(t){return Q(t).format("MM-DD")}}class hA extends ku{init(){let{from:t,to:n}=ye(this.state);this.type=1;let r=n.getFullYear(),i=n.getMonth();n.getDate()<this.siteBizDate&&(i--,i<0&&(i=11,r--));let l=new Date(r,i,this.siteBizDate),o=new Date(l);o.setMonth(i+1),oe(this.state,{from:l,to:o})}prevInternal(){let{from:t,to:n}=ye(this.state),r=new Date(t.setMonth(t.getMonth()-1)),i=new Date(n.setMonth(n.getMonth()-1));oe(this.state,{from:r,to:i})}nextInternal(){let{from:t,to:n}=ye(this.state);oe(this.state,{from:new Date(t.setMonth(t.getMonth()+1)),to:new Date(n.setMonth(n.getMonth()+1))})}getCaption(t){let{from:n,to:r}=t(this.state),i=new Date().getFullYear(),s=n.getFullYear(),l=n.getMonth(),o=r.getMonth(),u=`${i===s?"":s+"年"}${l+1}月`;return this.siteBizDate>1&&(u+=`${this.siteBizDate}日-${o+1}月${this.siteBizDate-1}日`),u}getGrainSize(t){return Q(t).format("MM-DD")}}class mA extends ku{init(){let{from:t,to:n}=ye(this.state);this.type=3;let r=n.getFullYear(),i=n.getMonth(),s=n.getDate();i<this.siteBizMonth?r--:s<this.siteBizDate&&(i++,i>11&&r++),i=this.siteBizMonth;let l=new Date(t);l.setFullYear(n.getFullYear()+1),oe(this.state,{from:new Date(r,i,this.siteBizDate),to:l})}prevInternal(){let{from:t,to:n}=ye(this.state);oe(this.state,{from:new Date(t.setFullYear(t.getFullYear()-1)),to:new Date(n.setFullYear(n.getFullYear()-1))})}nextInternal(){let{from:t,to:n}=ye(this.state);oe(this.state,{from:new Date(t.setFullYear(t.getFullYear()+1)),to:new Date(n.setFullYear(n.getFullYear()+1))})}getCaption(t){let{from:n,to:r}=t(this.state),i=n.getFullYear(),s=r.getFullYear(),l;switch(this.siteBizMonth){case 0:l=`${i}年`;break;case 11:l=`${s}年`;break;default:l=`${i}-${s.toString().substring(2)}年`;break}return l}getGrainSize(t){return Q(t).add(1,"M").format("MM")}}function ry(e,t,n,r,i){let s;switch(e){case 0:s=new dA(t,n,r,i);break;case 2:s=new fA(t,n,r,i);break;case 1:s=new hA(t,n,r,i);break;case 3:s=new mA(t,n,r,i);break}return s}function Dh(e,t,n,r){let i=oA();const[s,l]=E.useState(ry(i,e,n,t,r));function o(u){let c=ry(u,e,n,t,r);l(c),uA(u),r(c)}return[s,o]}const pA="col text-center border-start border-end",yA=" py-2 px-3 ",vA=" border-3 border-bottom border-primary fw-bold bg-light text-primary",gA=" border-1 border-bottom cursor-pointer text-secondary ",xA=[[Ll.day,"日"],[Ll.week,"周"],[Ll.month,"月"]];function Ih({period:e,setEnumPeriod:t}){let n=je(e.hasNext),r=je(e.caption);function i(){e.prev()}function s(){n&&e.next()}return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"row g-0 tonwa-bg-gray-2 border-top",children:xA.map(l=>{let[o,u]=l,c=yA+(o===e.type?vA:gA);return a.jsx("div",{className:pA,onClick:()=>t(o),children:a.jsx("div",{className:c,children:u})},u)})}),a.jsxs("div",{className:"d-flex justify-content-center",children:[a.jsx("div",{className:"cursor-pointer p-3",onClick:i,children:a.jsx(J,{name:"angle-left"})}),a.jsx("div",{className:"text-center px-1 py-3 w-min-10c",children:r}),a.jsx("div",{className:" p-3 "+(n?" cursor-pointer ":" text-light "),onClick:s,children:a.jsx(J,{name:"angle-right"})})]})]})}function wA(e){if(e===null)return null;if(typeof e!="object")return e;let t={};for(let n in e){let r=e[n];typeof r=="string"&&r.trim().length===0||(t[n]=r)}return t}var de=(e=>(e[e.none=0]="none",e[e.int=11]="int",e[e.atom=12]="atom",e[e.radio=13]="radio",e[e.check=14]="check",e[e.intof=15]="intof",e[e.pick=18]="pick",e[e.ID=19]="ID",e[e.dec=21]="dec",e[e.char=31]="char",e[e.str=32]="str",e[e.date=41]="date",e[e.datetime=42]="datetime",e))(de||{});class Eh{fromSchema(t){}scan(t,n){}valueToContent(t){return t}}class wi extends Eh{constructor(){super(...arguments);x(this,"dataType","number")}}class Q0 extends Eh{constructor(){super(...arguments);x(this,"dataType","string")}}class bA extends Q0{constructor(){super(...arguments);x(this,"type",0)}}class jA extends wi{constructor(){super(...arguments);x(this,"type",11)}}class SA extends wi{constructor(){super(...arguments);x(this,"type",21);x(this,"fraction")}scan(n,r){const{ex:i}=r;i!==void 0&&(this.fraction=i.fraction)}valueToContent(n){if(this.fraction===void 0)return n;if(n!==void 0)return n.toFixed(this.fraction)}}class kA extends Q0{constructor(){super(...arguments);x(this,"type",32)}}class CA extends wi{constructor(){super(...arguments);x(this,"type",12);x(this,"atom");x(this,"bizAtom")}fromSchema(n){this.atom=n.atom}scan(n,r){this.bizAtom=n.entities[this.atom]}}class _A extends wi{constructor(){super(...arguments);x(this,"type",19);x(this,"IDName");x(this,"ID")}fromSchema(n){this.IDName=n.ID}scan(n,r){this.IDName!==void 0&&(this.ID=n.uqApp.uq[this.IDName])}}class Ph extends Eh{constructor(){super(...arguments);x(this,"optionsName");x(this,"options")}get dataType(){}scan(n,r){this.options=n.entities[this.optionsName]}fromSchema(n){this.optionsName=n.options}}class NA extends Ph{constructor(){super(...arguments);x(this,"type",15)}}class DA extends Ph{constructor(){super(...arguments);x(this,"type",13)}}class IA extends Ph{constructor(){super(...arguments);x(this,"type",14)}}class EA extends wi{constructor(){super(...arguments);x(this,"type",41)}valueToContent(n){return lh(n)}}class PA extends wi{constructor(){super(...arguments);x(this,"type",42)}}class AA extends wi{constructor(){super(...arguments);x(this,"type",18);x(this,"schema");x(this,"atom");x(this,"pick");x(this,"value")}fromSchema(n){this.schema=n}scan(n,r){const{entities:i}=n,{pick:s}=this.schema;if(s!==void 0){const l=i[s];switch(l.type){case"atom":this.atom=l;break;case"pick":this.pick=l;break}}this.schema=void 0}}class $a extends Kx{constructor(n,r,i,s,l){super(n,r,i,"bud");x(this,"entity");x(this,"budDataType");x(this,"defaultValue");x(this,"ex");this.entity=l;let o;switch(s){case 0:o=new bA;break;case 11:o=new jA;break;case 21:o=new SA;break;case 31:case 32:o=new kA;break;case 12:o=new CA;break;case 19:o=new _A;break;case 18:o=new AA;break;case 15:o=new NA;break;case 13:o=new DA;break;case 14:o=new IA;break;case 41:o=new EA;break;case 42:o=new PA;break}this.budDataType=o}scan(){this.budDataType.scan(this.biz,this)}valueToContent(n){return this.budDataType.valueToContent(n)}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"ex":this.ex=r;break;case"items":case"atom":case"options":case"setType":break;case"value":this.defaultValue=r;break}}}class Xt extends Kx{constructor(){super(...arguments);x(this,"selfProps",[]);x(this,"buds",{});x(this,"props",[])}fromSwitch(n,r){if(r!==void 0)switch(n){default:super.fromSwitch(n,r);break;case"props":this.fromProps(r);break}}fromProp(n){let{id:r,name:i,dataType:s}=n,l=new $a(this.biz,r,i,s,this),{budDataType:o}=l;if(o===void 0){debugger;return}return o.fromSchema(n),l.fromSchema(n),l}fromProps(n){for(let r of n){let i=this.fromProp(r);i!==void 0&&this.selfProps.push(i)}}buildBuds(){for(let n of this.selfProps){let{id:r,name:i,phrase:s}=n;this.buds[r]=n,this.buds[i]=n,this.buds[s]=n,this.props.push(n)}}scan(){for(let n of this.selfProps)n.scan();this.buildBuds()}}class G0 extends Xt{constructor(){super(...arguments);x(this,"_extends");x(this,"children",[])}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"extends":this.fromExtends(r);break}}buildBuds(){const n=[];for(let s=this;s!==void 0;s=s._extends)n.unshift(s);let{buds:r,props:i}=this;for(let s of n)for(let l of s.selfProps){let{id:o,name:u,phrase:c}=l;r[u]=l,r[c]=l,r[o]=l,i.push(l)}}fromExtends(n){if(n===void 0)return;let r=this._extends=this.biz.entities[n];if(r===void 0)debugger;r.children.push(this)}}class OA extends G0{constructor(){super(...arguments);x(this,"uom")}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"uom":this.uom=r;break}}}class MA extends G0{constructor(){super(...arguments);x(this,"base")}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"base":this.base=r;break}}}class FA extends MA{constructor(){super(...arguments);x(this,"keyColl",{});x(this,"keys",[]);x(this,"ix")}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"keys":this.fromKeys(r);break;case"ix":this.ix=r;break}}fromKeys(n){for(let r of n){let{id:i,name:s,dataType:l}=r,o=new $a(this.biz,i,s,l,this),{budDataType:u}=o;if(u===void 0){debugger;continue}u.fromSchema(r),o.fromSchema(r),this.keyColl[o.phrase]=o,this.keys.push(o)}}scan(){super.scan();for(let n of this.keys)n.scan()}getSpecValues(n){if(!n)return"";let r=[];for(let s of this.keys)r.push(n[s.name]??"");for(let s of this.props)r.push(n[s.name]??"");return r.join(String.fromCharCode(12))}fromSpecValues(n){let r={},i=n.split(String.fromCharCode(12)),s=0;for(let l of this.keys)r[l.name]=i[s++];for(let l of this.props)r[l.name]=i[s++];return r}}class TA extends Xt{constructor(){super(...arguments);x(this,"atoms");x(this,"specs")}fromSwitch(n,r){const{entities:i}=this.biz;function s(l){return l.map(o=>i[o])}switch(n){default:super.fromSwitch(n,r);break;case"atoms":this.atoms=s(r);break;case"specs":this.specs=s(r);break}}scan(){super.scan();let n=this.specs.length;for(let r=0;r<n;r++)if(this.specs[r].name==="specuom"){this.specs.splice(r,1);break}}}class RA extends Xt{}class Cu{constructor(){x(this,"bizPhraseType")}}class LA extends Cu{constructor(){super(...arguments);x(this,"query")}}class qA extends Cu{constructor(){super(...arguments);x(this,"from")}}class UA extends Cu{constructor(){super(...arguments);x(this,"from")}}class $A extends Cu{constructor(){super(...arguments);x(this,"from")}}class VA extends $a{constructor(n,r,i,s){super(n,r,i,de.pick,s);x(this,"bin");x(this,"param");x(this,"pick");this.bin=s}}class zA extends Xt{constructor(){super(...arguments);x(this,"picks");x(this,"i");x(this,"x");x(this,"pend");x(this,"value");x(this,"price");x(this,"amount")}fromSwitch(n,r){if(r!==void 0)switch(n){default:super.fromSwitch(n,r);break;case"picks":this.picks=r;break;case"i":this.i=r;break;case"x":this.x=r;break;case"pend":this.fromPend(r);break;case"value":this.fromValue(r);break;case"price":this.fromPrice(r);break;case"amount":this.fromAmount(r);break}}fromPend(n){let{caption:r,entity:i,search:s}=n;this.pend={caption:r,entity:this.biz.entities[i],search:s}}fromValue(n){this.value=this.fromProp(n)}fromPrice(n){this.price=this.fromProp(n)}fromAmount(n){this.amount=this.fromProp(n)}buildBudPickable(n){const{id:r,name:i}=n;let s=new $a(this.biz,r,i,de.atom,this);return s.fromSchema(n),s.budDataType.fromSchema(n),s.scan(),s}buildPick(n){const{id:r,name:i,param:s,from:l,caption:o}=n;let u=new VA(this.biz,r,i,this);u.caption=o,u.param=s;let c=l.map(g=>this.biz.entities[g]),d=c[0],{bizPhraseType:h}=d,m;function v(){let g=new qA;return g.from=c,g}function y(){let g=new UA;return g.from=d,g}function w(){let g=new LA;return g.query=d,g}function S(){let g=new $A;return g.from=d,g}switch(h){default:debugger;case sn.atom:m=v();break;case sn.spec:m=y();break;case sn.query:m=w();break;case sn.pend:m=S();break}return m.bizPhraseType=h,u.pick=m,u}scan(){super.scan(),this.picks!==void 0&&(this.picks=this.picks.map(n=>this.buildPick(n))),this.i!==void 0&&(this.i=this.buildBudPickable(this.i)),this.x!==void 0&&(this.x=this.buildBudPickable(this.x))}}const BA=["s","si","sx","svalue","sprice","samount","i","x","value","price","amount"];class YA extends Xt{constructor(){super(...arguments);x(this,"predefined")}fromSwitch(n,r){switch(n){default:if(BA.includes(n)===!0)break;super.fromSwitch(n,r);break;case"predefined":this.predefined=r;break}}}class WA extends Xt{constructor(){super(...arguments);x(this,"main");x(this,"coreDetail");x(this,"details",[]);x(this,"detailActs",[])}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"main":this.fromMain(r);break;case"details":this.fromDetails(r);break;case"acts":this.fromActs(r);break}}fromMain(n){this.main=this.biz.entities[n]}fromDetails(n){var r;for(let{bin:i,caption:s}of n)this.details.push({bin:this.biz.entities[i],caption:s});this.coreDetail=(r=this.details[0])==null?void 0:r.bin}fromActs(n){for(const r of n){const{name:i,fromPend:s,detail:l}=r;this.detailActs.push({actName:i,detail:this.biz.entities[l],fromPend:this.biz.entities[s]})}}getAct(n,r){for(let i of this.detailActs){let{actName:s,detail:l}=i;if(s===r&&l.name===n)return i}}}class HA extends Xt{fromSchema(t){super.fromSchema(t)}scan(){super.scan()}}class QA extends Xt{}class GA extends Xt{}class KA extends Xt{constructor(){super(...arguments);x(this,"items",[]);x(this,"coll",{})}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"items":this.fromItems(r);break}}fromItems(n){this.items.push(...n.map(r=>({...r,phrase:`${this.phrase}.${r.name}`})));for(let r of this.items)this.coll[r.id]=r}}class XA extends $a{constructor(){super(...arguments);x(this,"atom")}}class ZA extends Xt{constructor(){super(...arguments);x(this,"title");x(this,"from");x(this,"joins");x(this,"lists")}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"title":this.fromTitle(r);break;case"from":this.fromFrom(r);break;case"joins":this.fromJoins(r);break;case"lists":this.fromLists(r);break}}fromTitle(n){this.title=n.map(r=>{const{caption:i,title:[s,l]}=r;return{caption:i,entity:this.biz.entities[s],bud:l}})}fromFrom(n){this.from=this.biz.entities[n]}fromJoins(n){this.joins=n.map(r=>{const{type:i,entity:s}=r;return{type:i,entity:this.biz.entities[s]}})}fromLists(n){this.lists=n.map(r=>{const{id:i,name:s,caption:l,atom:o}=r;let u=new XA(this.biz,i,s,de.none,this);return u.caption=l,u.atom=this.biz.entities[o],u})}scan(){for(let n of this.title)n.bud=n.entity.buds[n.bud]}}class JA extends Xt{constructor(){super(...arguments);x(this,"asc");x(this,"ban");x(this,"params");x(this,"cols")}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"asc":this.asc=r;break;case"params":this.params=r.map(i=>this.fromProp(i));break;case"ban":this.ban=r;break;case"cols":this.cols=r;break}}scan(){super.scan();for(let n of this.cols){let[r,i]=n,s=this.biz.entityIds[r];if(s===void 0)continue;let l=s.buds[i];l!==void 0&&(this.buds[l.id]=l)}}}class eO extends Xt{constructor(){super(...arguments);x(this,"atoms");x(this,"titles")}fromSwitch(n,r){switch(n){default:super.fromSwitch(n,r);break;case"atom":this.fromAtom(r);break;case"title":this.fromTitle(r);break}}fromAtom(n){this.atoms=n.map(r=>this.biz.entities[r])}fromTitle(n){this.titles=n}scan(){this.titles=this.titles.map(([n,r])=>this.biz.entities[n].buds[r])}}var K0=(e=>(e[e.sheet=0]="sheet",e[e.bin=1]="bin",e[e.pend=2]="pend",e[e.atom=3]="atom",e[e.spec=4]="spec",e[e.query=5]="query",e[e.pick=6]="pick",e[e.options=7]="options",e[e.report=8]="report",e[e.permit=9]="permit",e[e.title=10]="title",e[e.assign=11]="assign",e[e.tree=12]="tree",e[e.tie=13]="tie",e))(K0||{});class iy{constructor(t,n){x(this,"uqApp");x(this,"uq");x(this,"atoms",[]);x(this,"atomRoots",[]);x(this,"specs",[]);x(this,"sheets",[]);x(this,"bins",[]);x(this,"pends",[]);x(this,"queries",[]);x(this,"picks",[]);x(this,"options",[]);x(this,"ties",[]);x(this,"trees",[]);x(this,"titles",[]);x(this,"reports",[]);x(this,"assigns",[]);x(this,"roles",[]);x(this,"all",[]);x(this,"_refresh",ze(!1));x(this,"entities",{});x(this,"entityIds",{});x(this,"buildSheet",(t,n,r)=>{let i=new WA(this,t,n,r);return this.sheets.push(i),i});x(this,"buildBin",(t,n,r)=>{let i=new zA(this,t,n,r);return this.bins.push(i),i});x(this,"buildPend",(t,n,r)=>{let i=new YA(this,t,n,r);return this.pends.push(i),i});x(this,"buildAtom",(t,n,r)=>{let i=new OA(this,t,n,r);return this.atoms.push(i),i});x(this,"buildSpec",(t,n,r)=>{let i=new FA(this,t,n,r);return this.specs.push(i),i});x(this,"buildQuery",(t,n,r)=>{let i=new JA(this,t,n,r);return this.queries.push(i),i});x(this,"buildPick",(t,n,r)=>{let i=new TA(this,t,n,r);return this.picks.push(i),i});x(this,"buildOptions",(t,n,r)=>{let i=new KA(this,t,n,r);return this.options.push(i),i});x(this,"buildRole",(t,n,r)=>{let i=new GA(this,t,n,r);return this.roles.push(i),i});x(this,"buildTitle",(t,n,r)=>{let i=new HA(this,t,n,r);return this.titles.push(i),i});x(this,"buildAssign",(t,n,r)=>{let i=new eO(this,t,n,r);return this.assigns.push(i),i});x(this,"buildReport",(t,n,r)=>{let i=new ZA(this,t,n,r);return this.reports.push(i),i});x(this,"buildTree",(t,n,r)=>{let i=new RA(this,t,n,r);return this.trees.push(i),i});x(this,"buildTie",(t,n,r)=>{let i=new QA(this,t,n,r);return this.ties.push(i),i});this.uqApp=t,this.uq=t.uq,this.buildEntities(n)}init(){}entityFrom62(t){let n=kn(t);return this.entityIds[n]}buildEntities(t){if(t===void 0)return;const n={0:this.buildSheet,1:this.buildBin,2:this.buildPend,3:this.buildAtom,4:this.buildSpec,5:this.buildQuery,6:this.buildPick,7:this.buildOptions,8:this.buildReport,9:this.buildRole,10:this.buildTitle,11:this.buildAssign,12:this.buildTree,13:this.buildTie};for(let l of this.all){let{entities:o}=l;for(let u of o){let[c]=u;c.splice(0)}}this.all.splice(0);let r=t,i={};this.entities={},this.entityIds={};for(let l in r){let o=r[l],{id:u,name:c,phrase:d,type:h,caption:m}=o,v=K0[h],y=n[v];if(y===void 0){if(c==="$user"||c==="$unit")continue;throw new Error(`unknown biz type='${h}' name='${c}' caption='${m}'`)}let w=y(u,c,h);this.entityIds[u]=w,this.entities[c]=w,c!==d&&(this.entities[d]=w);let S=i[v];S===void 0&&(S=[],i[v]=S),S.push([w,o])}for(let l in i)for(let[o,u]of i[l])o.fromSchema(u);const s=[10,11,7,9,3,4,0,1,2,6,5,8,12,13];for(let l of s){let o=i[l];if(o!==void 0)for(let[u]of o)u.scan()}this.buildRootAtoms(),this.all.push({name:"sheet",caption:"业务流程",entities:[[this.sheets,"业务单据","file"],[this.bins,"单据条","file-text-o"],[this.pends,"待处理","clone"]]},{name:"query",caption:"业务查询",entities:[[this.queries,"捡取查询","hand-pointer-o"]]},{name:"info",caption:"基础数据",entities:[[this.atoms],[this.atomRoots,"基础编码","id-card-o"],[this.specs,"细分编码","asterisk"],[this.titles,"科目","flag-o"],[this.assigns,"赋值","flag-o"]]},{name:"relate",caption:"数据关系",entities:[[this.queries,"捡取查询","hand-pointer-o"],[this.picks,"捡取器","hand-pointer-o"],[this.options,"可选项","check-square-o"],[this.ties,"对照表","list"],[this.trees,"层级结构","indent"]]},{name:"report",caption:"查询汇总",entities:[[this.reports,"报表","file"]]},{name:"permit",caption:"权限",entities:[[this.roles,"许可","user-o"]]});for(let l of this.all){let{entities:o}=l;for(let u of o){let[c]=u;c.sort((d,h)=>{const{id:m}=d,{id:v}=h;return m<v?-1:m===v?0:1})}}this.refresh()}refresh(){oe(this._refresh,!ye(this._refresh))}delEntity(t){this.entities[t.name],this.entityIds[t.id];for(let n of this.all){const{entities:r}=n;for(let i of r){const[s]=i;for(let l=0;l<s.length;l++)if(s[l]===t){s.splice(l,1);break}}}this.refresh()}buildRootAtoms(){for(let t in this.entityIds){const n=this.entityIds[t];if(n.type==="atom"){const r=n,{_extends:i}=r;if(i!==void 0)continue;this.atomRoots.push(r)}}}}var ce=(e=>(e[e.home=0]="home",e[e.relation=1]="relation",e[e.discover=2]="discover",e[e.supervise=3]="supervise",e[e.ids=4]="ids",e[e.test=5]="test",e[e.debug=6]="debug",e[e.me=7]="me",e[e.find=8]="find",e[e.version=9]="version",e[e.changePassword=10]="changePassword",e[e.aboutTheApp=11]="aboutTheApp",e[e.logout=12]="logout",e[e.pleaseLogin=13]="pleaseLogin",e[e.userQuit=14]="userQuit",e[e.content=15]="content",e[e.backend=16]="backend",e[e.list=17]="list",e))(ce||{});const tO={[ce.home]:"Home",[ce.relation]:"Relation",[ce.discover]:"Discover",[ce.supervise]:"Supervise",[ce.ids]:"Items",[ce.test]:"Test",[ce.debug]:"Debug",[ce.me]:"Me",[ce.find]:"Find",[ce.version]:"Version",[ce.changePassword]:"Change password",[ce.aboutTheApp]:"About the APP",[ce.logout]:"Logout",[ce.pleaseLogin]:"Login",[ce.userQuit]:"User quit",[ce.content]:"Content",[ce.backend]:"Backend Management",[ce.list]:"List"},nO={[ce.home]:"首页",[ce.relation]:"关系",[ce.discover]:"发现",[ce.supervise]:"团队",[ce.ids]:"基础ID",[ce.test]:"测试",[ce.debug]:"Debug",[ce.me]:"我",[ce.find]:"发现",[ce.version]:"版本",[ce.changePassword]:"修改密码",[ce.aboutTheApp]:"关于本APP",[ce.logout]:"退出登录",[ce.pleaseLogin]:"登录",[ce.userQuit]:"注销用户",[ce.content]:"内容",[ce.backend]:"后台管理",[ce.list]:"列表"},X0=ix({en:tO,zh:nO}),rO="/assets/logo-70aa190a.svg";function Z0(){return a.jsxs("div",{className:"d-flex align-items-center position-relative",children:[a.jsx("img",{className:"App-logo h-3c position-absolute",src:rO,alt:"img"}),a.jsxs("div",{className:"h3 flex-fill text-center",children:[a.jsx("span",{className:"text-primary me-3",children:"同"}),a.jsx("span",{className:"text-danger",children:"花"})]})]})}const J0="/privacy",iO=a.jsx(a.Fragment,{children:a.jsx(ie,{path:J0,element:a.jsx(sO,{})})});function ew(){return a.jsx("div",{className:"d-flex p-3 align-items-center justify-content-center bg-light border-top",children:a.jsx(xe,{to:J0,className:"small d-inline-block ",children:"隐私政策"})})}function sO(){return a.jsx(H,{auth:!1,header:"隐私政策",children:a.jsx("div",{className:"d-grid p-3",children:aO.split(`
`).map((e,t)=>a.jsx("p",{children:e},t))})})}const aO=`
我们将保护您的隐私

同花
`;function lO(){const{state:e}=Vr();return a.jsx(UN,{url:e,loginTop:a.jsx(Z0,{}),privacy:a.jsx(ew,{}),withBack:!1})}function oO(){return a.jsx(Gx,{loginTop:a.jsx(Z0,{}),privacy:a.jsx(ew,{})})}function uO(){let e=async()=>{},t=()=>{};return a.jsx($N,{onLogout:e,resetAll:t})}function cO(){let e=G();return a.jsx(H,{header:"关于APP",children:a.jsxs("div",{className:"py-5 px-3 my-3 w-max-30c mx-auto bg-white",children:[a.jsxs("div",{className:"text-center mb-5 position-relative",children:[a.jsxs("small",{className:"text-muted position-absolute",style:{right:"0",top:"-2.8rem"},children:["版本: ",e.version]}),a.jsx("i",{className:"text-danger position-absolute top-0 start-0 fa fa-fire fa-2x",style:{left:"2rem",top:"0.5rem"}}),a.jsxs("b",{className:"text-danger h5 mb-0",children:[a.jsx("span",{className:"text-primary",children:"同"}),a.jsx("b",{className:"mx-1",children:"花"})]}),a.jsx("br",{}),a.jsx("small",{className:"text-info",children:"企业管理系统开发平台"})]}),a.jsxs("ul",{children:[a.jsx("li",{children:"面向企业业务的UQ数据库编程语言。"}),a.jsx("li",{children:"自适应网页编程。"}),a.jsx("li",{children:"前台代码跟服务器代码协同。"})]}),a.jsxs("div",{className:"mt-5 text-center",children:[a.jsx("small",{className:"text-muted me-2",children:"by"}),"同花"]})]})})}function dO(){let e=G(),[t]=Mf(e.user),n=rx(X0),r=async o=>{let{name:u,value:c}=o;e.setUserProp(u,c)},i={labelAlign:"end",MidContainer:function({children:o}){return a.jsx("div",{className:"ms-2",children:o})}};function s({text:o,onClick:u}){let c="px-3 py-3";return u&&(c+=" cursor-pointer"),a.jsx("div",{className:c,onClick:u,children:o})}let l=n(ce.changePassword);return a.jsx(H,{header:"个人信息",children:a.jsxs("div",{children:[a.jsxs(ga,{...i,children:["ok",a.jsx("div",{children:"content"}),a.jsx(s,{text:"right"})]}),a.jsx(ge,{}),a.jsxs(ga,{...i,children:["ok1",a.jsx("div",{children:"content"}),a.jsx(s,{text:"right"})]}),a.jsx(ge,{}),a.jsx(Bx,{...i,label:"a",value:1,type:"number"}),a.jsx(ge,{}),a.jsxs(Yx,{className:"container",values:t,onValuesChanged:r,labelSize:3,children:[a.jsx(Ia,{label:"别名",name:"nick",placeholder:"好的别名更方便记忆"}),a.jsx(ge,{}),a.jsx(wd,{label:l,toEdit:nw,children:a.jsx(J,{className:"text-info m-2 align-self-center",name:"key"})}),a.jsx(ge,{}),a.jsx(wd,{label:n(ce.userQuit),toEdit:iw,children:a.jsx(J,{className:"text-info m-2 align-self-center",name:"key"})})]}),a.jsx(ge,{}),a.jsx("div",{className:"mt-5 w-100 text-center",children:a.jsxs(xe,{className:"btn btn-danger w-100 w-max-20c",to:"../"+rw,children:[a.jsx(J,{name:"sign-out",size:"lg"})," ",n(ce.logout)]})})]})})}const Md="me",tw="edit",nw="changePassword",rw="logout",iw="quit",fO="about",hO=a.jsxs(ie,{path:Md+"/*",children:[a.jsx(ie,{path:tw+"/*",element:a.jsx(mO,{})}),a.jsx(ie,{path:fO,element:a.jsx(cO,{})})]});function mO(){return a.jsx(a.Fragment,{children:a.jsxs(Vf,{children:[a.jsx(ie,{path:"*",element:a.jsx(dO,{})}),a.jsx(ie,{path:nw,element:a.jsx(VN,{})}),a.jsx(ie,{path:rw,element:a.jsx(uO,{})}),a.jsx(ie,{path:iw,element:a.jsx(BN,{})})]})})}function sw({permit:e,children:t}){let n=G();if(aw(n,e)===!0)return a.jsx(a.Fragment,{children:t})}function aw(e,t){let{uqSites:n}=e;if(n===void 0)return!1;let{userSite:r}=n;if(r===void 0)return!1;let{permits:i,isAdmin:s}=r;if(s===!0)return!0;if(t!==void 0){if(typeof t=="string"){if(i[t]===!0)return!0}else for(let l of t)if(i[l]===!0)return!0}return!1}var Va=e=>e.type==="checkbox",qi=e=>e instanceof Date,It=e=>e==null;const lw=e=>typeof e=="object";var dt=e=>!It(e)&&!Array.isArray(e)&&lw(e)&&!qi(e),pO=e=>dt(e)&&e.target?Va(e.target)?e.target.checked:e.target.value:e,yO=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,vO=(e,t)=>e.has(yO(t)),za=e=>Array.isArray(e)?e.filter(Boolean):[],et=e=>e===void 0,te=(e,t,n)=>{if(!t||!dt(e))return n;const r=za(t.split(/[,[\].]+?/)).reduce((i,s)=>It(i)?i:i[s],e);return et(r)||r===e?et(e[t])?n:e[t]:r};const sy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};re.createContext(null);var gO=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const l=s;return t._proxyFormState[l]!==gn.all&&(t._proxyFormState[l]=!r||gn.all),n&&(n[l]=!0),e[l]}});return i},Zt=e=>dt(e)&&!Object.keys(e).length,xO=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Zt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(l=>t[l]===(!r||gn.all))},mc=e=>Array.isArray(e)?e:[e];function wO(e){const t=re.useRef(e);t.current=e,re.useEffect(()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var Tn=e=>typeof e=="string",bO=(e,t,n,r,i)=>Tn(e)?(r&&t.watch.add(e),te(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),te(n,s))):(r&&(t.watchAll=!0),n),jO=e=>{const t=e.constructor&&e.constructor.prototype;return dt(t)&&t.hasOwnProperty("isPrototypeOf")},Ah=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qr(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ah&&(e instanceof Blob||e instanceof FileList))&&(n||dt(e)))if(t=n?[]:{},!Array.isArray(e)&&!jO(e))t=e;else for(const r in e)t[r]=Qr(e[r]);else return e;return t}var SO=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Oh=e=>/^\w*$/.test(e),ow=e=>za(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Le(e,t,n){let r=-1;const i=Oh(t)?[t]:ow(t),s=i.length,l=s-1;for(;++r<s;){const o=i[r];let u=n;if(r!==l){const c=e[o];u=dt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[o]=u,e=e[o]}return e}const Fd=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=te(e,r);if(i){const{_f:s,...l}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else dt(l)&&Fd(l,t)}}};var ay=e=>({isOnSubmit:!e||e===gn.onSubmit,isOnBlur:e===gn.onBlur,isOnChange:e===gn.onChange,isOnAll:e===gn.all,isOnTouch:e===gn.onTouched}),ly=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),kO=(e,t,n)=>{const r=za(te(e,n));return Le(r,"root",t[n]),Le(e,n,r),e},Ki=e=>typeof e=="boolean",Mh=e=>e.type==="file",Xi=e=>typeof e=="function",Po=e=>{if(!Ah)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ql=e=>Tn(e)||re.isValidElement(e),Fh=e=>e.type==="radio",Ao=e=>e instanceof RegExp;const oy={value:!1,isValid:!1},uy={value:!0,isValid:!0};var uw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!et(e[0].attributes.value)?et(e[0].value)||e[0].value===""?uy:{value:e[0].value,isValid:!0}:uy:oy}return oy};const cy={isValid:!1,value:null};var cw=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,cy):cy;function dy(e,t,n="validate"){if(ql(e)||Array.isArray(e)&&e.every(ql)||Ki(e)&&!e)return{type:n,message:ql(e)?e:"",ref:t}}var Si=e=>dt(e)&&!Ao(e)?e:{value:e,message:""},fy=async(e,t,n,r,i)=>{const{ref:s,refs:l,required:o,maxLength:u,minLength:c,min:d,max:h,pattern:m,validate:v,name:y,valueAsNumber:w,mount:S,disabled:g}=e._f,f=te(t,y);if(!S||g)return{};const p=l?l[0]:s,j=A=>{r&&p.reportValidity&&(p.setCustomValidity(Ki(A)?"":A||""),p.reportValidity())},b={},k=Fh(s),_=Va(s),C=k||_,N=(w||Mh(s))&&et(s.value)&&et(f)||Po(s)&&s.value===""||f===""||Array.isArray(f)&&!f.length,D=SO.bind(null,y,n,b),I=(A,M,F,q=Qn.maxLength,z=Qn.minLength)=>{const W=A?M:F;b[y]={type:A?q:z,message:W,ref:s,...D(A?q:z,W)}};if(i?!Array.isArray(f)||!f.length:o&&(!C&&(N||It(f))||Ki(f)&&!f||_&&!uw(l).isValid||k&&!cw(l).isValid)){const{value:A,message:M}=ql(o)?{value:!!o,message:o}:Si(o);if(A&&(b[y]={type:Qn.required,message:M,ref:p,...D(Qn.required,M)},!n))return j(M),b}if(!N&&(!It(d)||!It(h))){let A,M;const F=Si(h),q=Si(d);if(!It(f)&&!isNaN(f)){const z=s.valueAsNumber||f&&+f;It(F.value)||(A=z>F.value),It(q.value)||(M=z<q.value)}else{const z=s.valueAsDate||new Date(f),W=B=>new Date(new Date().toDateString()+" "+B),O=s.type=="time",R=s.type=="week";Tn(F.value)&&f&&(A=O?W(f)>W(F.value):R?f>F.value:z>new Date(F.value)),Tn(q.value)&&f&&(M=O?W(f)<W(q.value):R?f<q.value:z<new Date(q.value))}if((A||M)&&(I(!!A,F.message,q.message,Qn.max,Qn.min),!n))return j(b[y].message),b}if((u||c)&&!N&&(Tn(f)||i&&Array.isArray(f))){const A=Si(u),M=Si(c),F=!It(A.value)&&f.length>A.value,q=!It(M.value)&&f.length<M.value;if((F||q)&&(I(F,A.message,M.message),!n))return j(b[y].message),b}if(m&&!N&&Tn(f)){const{value:A,message:M}=Si(m);if(Ao(A)&&!f.match(A)&&(b[y]={type:Qn.pattern,message:M,ref:s,...D(Qn.pattern,M)},!n))return j(M),b}if(v){if(Xi(v)){const A=await v(f,t),M=dy(A,p);if(M&&(b[y]={...M,...D(Qn.validate,M.message)},!n))return j(M.message),b}else if(dt(v)){let A={};for(const M in v){if(!Zt(A)&&!n)break;const F=dy(await v[M](f,t),p,M);F&&(A={...F,...D(M,F.message)},j(F.message),n&&(b[y]=A))}if(!Zt(A)&&(b[y]={ref:p,...A},!n))return b}}return j(!0),b};function CO(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=et(e)?r++:e[t[r++]];return e}function _O(e){for(const t in e)if(!et(e[t]))return!1;return!0}function wt(e,t){const n=Array.isArray(t)?t:Oh(t)?[t]:ow(t),r=n.length===1?e:CO(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(dt(r)&&Zt(r)||Array.isArray(r)&&_O(r))&&wt(e,n.slice(0,-1)),e}function pc(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var Oo=e=>It(e)||!lw(e);function ti(e,t){if(Oo(e)||Oo(t))return e===t;if(qi(e)&&qi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=t[i];if(qi(s)&&qi(l)||dt(s)&&dt(l)||Array.isArray(s)&&Array.isArray(l)?!ti(s,l):s!==l)return!1}}return!0}var dw=e=>e.type==="select-multiple",NO=e=>Fh(e)||Va(e),yc=e=>Po(e)&&e.isConnected,fw=e=>{for(const t in e)if(Xi(e[t]))return!0;return!1};function Mo(e,t={}){const n=Array.isArray(e);if(dt(e)||n)for(const r in e)Array.isArray(e[r])||dt(e[r])&&!fw(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Mo(e[r],t[r])):It(e[r])||(t[r]=!0);return t}function hw(e,t,n){const r=Array.isArray(e);if(dt(e)||r)for(const i in e)Array.isArray(e[i])||dt(e[i])&&!fw(e[i])?et(t)||Oo(n[i])?n[i]=Array.isArray(e[i])?Mo(e[i],[]):{...Mo(e[i])}:hw(e[i],It(t)?{}:t[i],n[i]):ti(e[i],t[i])?delete n[i]:n[i]=!0;return n}var vc=(e,t)=>hw(e,t,Mo(t)),mw=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>et(e)?e:t?e===""?NaN:e&&+e:n&&Tn(e)?new Date(e):r?r(e):e;function gc(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Mh(t)?t.files:Fh(t)?cw(e.refs).value:dw(t)?[...t.selectedOptions].map(({value:n})=>n):Va(t)?uw(e.refs).value:mw(et(t.value)?e.ref.value:t.value,e)}var DO=(e,t,n,r)=>{const i={};for(const s of e){const l=te(t,s);l&&Le(i,s,l._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Os=e=>et(e)?e:Ao(e)?e.source:dt(e)?Ao(e.value)?e.value.source:e.value:e,IO=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function hy(e,t,n){const r=te(e,n);if(r||Oh(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),l=te(t,s),o=te(e,s);if(l&&!Array.isArray(l)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:n}}var EO=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,PO=(e,t)=>!za(te(e,t)).length&&wt(e,t);const AO={mode:gn.onSubmit,reValidateMode:gn.onChange,shouldFocusError:!0};function OO(e={},t){let n={...AO,...e};const r=e.resetOptions&&e.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},l=dt(n.defaultValues)?Qr(n.defaultValues)||{}:{},o=n.shouldUnregister?{}:Qr(l),u={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={watch:pc(),array:pc(),state:pc()},y=ay(n.mode),w=ay(n.reValidateMode),S=n.criteriaMode===gn.all,g=P=>L=>{clearTimeout(h),h=window.setTimeout(P,L)},f=async P=>{if(m.isValid||P){const L=n.resolver?Zt((await N()).errors):await I(s,!0);L!==i.isValid&&(i.isValid=L,v.state.next({isValid:L}))}},p=P=>m.isValidating&&v.state.next({isValidating:P}),j=(P,L=[],U,K,ne=!0,Y=!0)=>{if(K&&U){if(u.action=!0,Y&&Array.isArray(te(s,P))){const le=U(te(s,P),K.argA,K.argB);ne&&Le(s,P,le)}if(Y&&Array.isArray(te(i.errors,P))){const le=U(te(i.errors,P),K.argA,K.argB);ne&&Le(i.errors,P,le),PO(i.errors,P)}if(m.touchedFields&&Y&&Array.isArray(te(i.touchedFields,P))){const le=U(te(i.touchedFields,P),K.argA,K.argB);ne&&Le(i.touchedFields,P,le)}m.dirtyFields&&(i.dirtyFields=vc(l,o)),v.state.next({name:P,isDirty:M(P,L),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else Le(o,P,L)},b=(P,L)=>{Le(i.errors,P,L),v.state.next({errors:i.errors})},k=(P,L,U,K)=>{const ne=te(s,P);if(ne){const Y=te(o,P,et(U)?te(l,P):U);et(Y)||K&&K.defaultChecked||L?Le(o,P,L?Y:gc(ne._f)):z(P,Y),u.mount&&f()}},_=(P,L,U,K,ne)=>{let Y=!1,le=!1;const Je={name:P};if(!U||K){m.isDirty&&(le=i.isDirty,i.isDirty=Je.isDirty=M(),Y=le!==Je.isDirty);const Qe=ti(te(l,P),L);le=te(i.dirtyFields,P),Qe?wt(i.dirtyFields,P):Le(i.dirtyFields,P,!0),Je.dirtyFields=i.dirtyFields,Y=Y||m.dirtyFields&&le!==!Qe}if(U){const Qe=te(i.touchedFields,P);Qe||(Le(i.touchedFields,P,U),Je.touchedFields=i.touchedFields,Y=Y||m.touchedFields&&Qe!==U)}return Y&&ne&&v.state.next(Je),Y?Je:{}},C=(P,L,U,K)=>{const ne=te(i.errors,P),Y=m.isValid&&Ki(L)&&i.isValid!==L;if(e.delayError&&U?(d=g(()=>b(P,U)),d(e.delayError)):(clearTimeout(h),d=null,U?Le(i.errors,P,U):wt(i.errors,P)),(U?!ti(ne,U):ne)||!Zt(K)||Y){const le={...K,...Y&&Ki(L)?{isValid:L}:{},errors:i.errors,name:P};i={...i,...le},v.state.next(le)}p(!1)},N=async P=>await n.resolver(o,n.context,DO(P||c.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),D=async P=>{const{errors:L}=await N();if(P)for(const U of P){const K=te(L,U);K?Le(i.errors,U,K):wt(i.errors,U)}else i.errors=L;return L},I=async(P,L,U={valid:!0})=>{for(const K in P){const ne=P[K];if(ne){const{_f:Y,...le}=ne;if(Y){const Je=c.array.has(Y.name),Qe=await fy(ne,o,S,n.shouldUseNativeValidation,Je);if(Qe[Y.name]&&(U.valid=!1,L))break;!L&&(te(Qe,Y.name)?Je?kO(i.errors,Qe,Y.name):Le(i.errors,Y.name,Qe[Y.name]):wt(i.errors,Y.name))}le&&await I(le,L,U)}}return U.valid},A=()=>{for(const P of c.unMount){const L=te(s,P);L&&(L._f.refs?L._f.refs.every(U=>!yc(U)):!yc(L._f.ref))&&Ne(P)}c.unMount=new Set},M=(P,L)=>(P&&L&&Le(o,P,L),!ti(ee(),l)),F=(P,L,U)=>bO(P,c,{...u.mount?o:et(L)?l:Tn(P)?{[P]:L}:L},U,L),q=P=>za(te(u.mount?o:l,P,e.shouldUnregister?te(l,P,[]):[])),z=(P,L,U={})=>{const K=te(s,P);let ne=L;if(K){const Y=K._f;Y&&(!Y.disabled&&Le(o,P,mw(L,Y)),ne=Po(Y.ref)&&It(L)?"":L,dw(Y.ref)?[...Y.ref.options].forEach(le=>le.selected=ne.includes(le.value)):Y.refs?Va(Y.ref)?Y.refs.length>1?Y.refs.forEach(le=>(!le.defaultChecked||!le.disabled)&&(le.checked=Array.isArray(ne)?!!ne.find(Je=>Je===le.value):ne===le.value)):Y.refs[0]&&(Y.refs[0].checked=!!ne):Y.refs.forEach(le=>le.checked=le.value===ne):Mh(Y.ref)?Y.ref.value="":(Y.ref.value=ne,Y.ref.type||v.watch.next({name:P})))}(U.shouldDirty||U.shouldTouch)&&_(P,ne,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&B(P)},W=(P,L,U)=>{for(const K in L){const ne=L[K],Y=`${P}.${K}`,le=te(s,Y);(c.array.has(P)||!Oo(ne)||le&&!le._f)&&!qi(ne)?W(Y,ne,U):z(Y,ne,U)}},O=(P,L,U={})=>{const K=te(s,P),ne=c.array.has(P),Y=Qr(L);Le(o,P,Y),ne?(v.array.next({name:P,values:o}),(m.isDirty||m.dirtyFields)&&U.shouldDirty&&(i.dirtyFields=vc(l,o),v.state.next({name:P,dirtyFields:i.dirtyFields,isDirty:M(P,Y)}))):K&&!K._f&&!It(Y)?W(P,Y,U):z(P,Y,U),ly(P,c)&&v.state.next({}),v.watch.next({name:P}),!u.mount&&t()},R=async P=>{const L=P.target;let U=L.name;const K=te(s,U),ne=()=>L.type?gc(K._f):pO(P);if(K){let Y,le;const Je=ne(),Qe=P.type===sy.BLUR||P.type===sy.FOCUS_OUT,ab=!IO(K._f)&&!n.resolver&&!te(i.errors,U)&&!K._f.deps||EO(Qe,te(i.touchedFields,U),i.isSubmitted,w,y),Au=ly(U,c,Qe);Le(o,U,Je),Qe?(K._f.onBlur&&K._f.onBlur(P),d&&d(0)):K._f.onChange&&K._f.onChange(P);const Ou=_(U,Je,Qe,!1),lb=!Zt(Ou)||Au;if(!Qe&&v.watch.next({name:U,type:P.type}),ab)return m.isValid&&f(),lb&&v.state.next({name:U,...Au?{}:Ou});if(!Qe&&Au&&v.state.next({}),p(!0),n.resolver){const{errors:Jh}=await N([U]),ob=hy(i.errors,s,U),em=hy(Jh,s,ob.name||U);Y=em.error,U=em.name,le=Zt(Jh)}else Y=(await fy(K,o,S,n.shouldUseNativeValidation))[U],Y?le=!1:m.isValid&&(le=await I(s,!0));K._f.deps&&B(K._f.deps),C(U,le,Y,Ou)}},B=async(P,L={})=>{let U,K;const ne=mc(P);if(p(!0),n.resolver){const Y=await D(et(P)?P:ne);U=Zt(Y),K=P?!ne.some(le=>te(Y,le)):U}else P?(K=(await Promise.all(ne.map(async Y=>{const le=te(s,Y);return await I(le&&le._f?{[Y]:le}:le)}))).every(Boolean),!(!K&&!i.isValid)&&f()):K=U=await I(s);return v.state.next({...!Tn(P)||m.isValid&&U!==i.isValid?{}:{name:P},...n.resolver||!P?{isValid:U}:{},errors:i.errors,isValidating:!1}),L.shouldFocus&&!K&&Fd(s,Y=>Y&&te(i.errors,Y),P?ne:c.mount),K},ee=P=>{const L={...l,...u.mount?o:{}};return et(P)?L:Tn(P)?te(L,P):P.map(U=>te(L,U))},ae=(P,L)=>({invalid:!!te((L||i).errors,P),isDirty:!!te((L||i).dirtyFields,P),isTouched:!!te((L||i).touchedFields,P),error:te((L||i).errors,P)}),Ee=P=>{P?mc(P).forEach(L=>wt(i.errors,L)):i.errors={},v.state.next({errors:i.errors})},fe=(P,L,U)=>{const K=(te(s,P,{_f:{}})._f||{}).ref;Le(i.errors,P,{...L,ref:K}),v.state.next({name:P,errors:i.errors,isValid:!1}),U&&U.shouldFocus&&K&&K.focus&&K.focus()},_e=(P,L)=>Xi(P)?v.watch.subscribe({next:U=>P(F(void 0,L),U)}):F(P,L,!0),Ne=(P,L={})=>{for(const U of P?mc(P):c.mount)c.mount.delete(U),c.array.delete(U),te(s,U)&&(L.keepValue||(wt(s,U),wt(o,U)),!L.keepError&&wt(i.errors,U),!L.keepDirty&&wt(i.dirtyFields,U),!L.keepTouched&&wt(i.touchedFields,U),!n.shouldUnregister&&!L.keepDefaultValue&&wt(l,U));v.watch.next({}),v.state.next({...i,...L.keepDirty?{isDirty:M()}:{}}),!L.keepIsValid&&f()},Se=(P,L={})=>{let U=te(s,P);const K=Ki(L.disabled);return Le(s,P,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:P}},name:P,mount:!0,...L}}),c.mount.add(P),U?K&&Le(o,P,L.disabled?void 0:te(o,P,gc(U._f))):k(P,!0,L.value),{...K?{disabled:L.disabled}:{},...n.shouldUseNativeValidation?{required:!!L.required,min:Os(L.min),max:Os(L.max),minLength:Os(L.minLength),maxLength:Os(L.maxLength),pattern:Os(L.pattern)}:{},name:P,onChange:R,onBlur:R,ref:ne=>{if(ne){Se(P,L),U=te(s,P);const Y=et(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,le=NO(Y),Je=U._f.refs||[];if(le?Je.find(Qe=>Qe===Y):Y===U._f.ref)return;Le(s,P,{_f:{...U._f,...le?{refs:[...Je.filter(yc),Y,...Array.isArray(te(l,P))?[{}]:[]],ref:{type:Y.type,name:P}}:{ref:Y}}}),k(P,!1,void 0,Y)}else U=te(s,P,{}),U._f&&(U._f.mount=!1),(n.shouldUnregister||L.shouldUnregister)&&!(vO(c.array,P)&&u.action)&&c.unMount.add(P)}}},Nt=()=>n.shouldFocusError&&Fd(s,P=>P&&te(i.errors,P),c.mount),hn=(P,L)=>async U=>{U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let K=Qr(o);if(v.state.next({isSubmitting:!0}),n.resolver){const{errors:ne,values:Y}=await N();i.errors=ne,K=Y}else await I(s);Zt(i.errors)?(v.state.next({errors:{}}),await P(K,U)):(L&&await L({...i.errors},U),Nt()),v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zt(i.errors),submitCount:i.submitCount+1,errors:i.errors})},zr=(P,L={})=>{te(s,P)&&(et(L.defaultValue)?O(P,te(l,P)):(O(P,L.defaultValue),Le(l,P,L.defaultValue)),L.keepTouched||wt(i.touchedFields,P),L.keepDirty||(wt(i.dirtyFields,P),i.isDirty=L.defaultValue?M(P,te(l,P)):M()),L.keepError||(wt(i.errors,P),m.isValid&&f()),v.state.next({...i}))},Br=(P,L={})=>{const U=P||l,K=Qr(U),ne=P&&!Zt(P)?K:l;if(L.keepDefaultValues||(l=U),!L.keepValues){if(L.keepDirtyValues||r)for(const Y of c.mount)te(i.dirtyFields,Y)?Le(ne,Y,te(o,Y)):O(Y,te(ne,Y));else{if(Ah&&et(P))for(const Y of c.mount){const le=te(s,Y);if(le&&le._f){const Je=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(Po(Je)){const Qe=Je.closest("form");if(Qe){Qe.reset();break}}}}s={}}o=e.shouldUnregister?L.keepDefaultValues?Qr(l):{}:K,v.array.next({values:ne}),v.watch.next({values:ne})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&t(),u.mount=!m.isValid||!!L.keepIsValid,u.watch=!!e.shouldUnregister,v.state.next({submitCount:L.keepSubmitCount?i.submitCount:0,isDirty:L.keepDirty||L.keepDirtyValues?i.isDirty:!!(L.keepDefaultValues&&!ti(P,l)),isSubmitted:L.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:L.keepDirty||L.keepDirtyValues?i.dirtyFields:L.keepDefaultValues&&P?vc(l,P):{},touchedFields:L.keepTouched?i.touchedFields:{},errors:L.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ka=(P,L)=>Br(Xi(P)?P(o):P,L),xs=(P,L={})=>{const U=te(s,P),K=U&&U._f;if(K){const ne=K.refs?K.refs[0]:K.ref;ne.focus&&(ne.focus(),L.shouldSelect&&ne.select())}},sb=P=>{i={...i,...P}};return Xi(n.defaultValues)&&n.defaultValues().then(P=>{Ka(P,n.resetOptions),v.state.next({isLoading:!1})}),{control:{register:Se,unregister:Ne,getFieldState:ae,_executeSchema:N,_focusError:Nt,_getWatch:F,_getDirty:M,_updateValid:f,_removeUnmounted:A,_updateFieldArray:j,_getFieldArray:q,_reset:Br,_updateFormState:sb,_subjects:v,_proxyFormState:m,get _fields(){return s},get _formValues(){return o},get _stateFlags(){return u},set _stateFlags(P){u=P},get _defaultValues(){return l},get _names(){return c},set _names(P){c=P},get _formState(){return i},set _formState(P){i=P},get _options(){return n},set _options(P){n={...n,...P}}},trigger:B,register:Se,handleSubmit:hn,watch:_e,setValue:O,getValues:ee,reset:Ka,resetField:zr,clearErrors:Ee,unregister:Ne,setError:fe,setFocus:xs,getFieldState:ae}}function En(e={}){const t=re.useRef(),[n,r]=re.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Xi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...OO(e,()=>r(s=>({...s}))),formState:n});const i=t.current.control;return i._options=e,wO({subject:i._subjects.state,next:s=>{xO(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),re.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),re.useEffect(()=>{e.values&&!ti(e.values,i._defaultValues)&&i._reset(e.values,i._options.resetOptions)},[e.values,i]),re.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),t.current.formState=gO(n,i),t.current}const MO={self:"Self",owner:"Owner",admin:"Admin",user:"User",adminMemo1:"Admin can set user roles",adminMemo2:"Admin has all roles permission",ownerMemo1:"Owner can add or delete an owner",ownerMemo2:"Owner can add or delete an admin",ownerReallyQuit:"Do you really want to quit owner?",ownerLost:"You will lost owner",ownerConfirmQuit:"Confirm quit",userReallyDelete:"Do you really want to delete {0} '{1}'?",deleteThe:"Delete the {0}",save:"Save",new:"New",assigned:"Assigned",searchUser:"Search user",none:"None"},FO={self:"自己",owner:"拥有者",admin:"管理员",user:"用户",adminMemo1:"管理员可以给用户赋予角色",adminMemo2:"管理员拥有全部角色权限",ownerMemo1:"拥有者可以增加其他拥有者",ownerMemo2:"拥有者可以增减管理员",ownerReallyQuit:"真的要退出拥有者吗？",ownerLost:"你将无法设置角色权限",ownerConfirmQuit:"确认退出",userReallyDelete:'真的要删除{0} "{1}" 吗?',deleteThe:"删除此{0}",save:"保存",new:"新增",assigned:"标注",searchUser:"搜索用户账户",none:"无"},Ue=ix({en:MO,zh:FO});function TO({caption:e,entityAtom:t}){const{closeModal:n}=ue(),{children:r}=t;function i({value:l}){const{caption:o}=l;return a.jsx("div",{className:"px-3 py-2",children:o})}function s(l){n(l)}return a.jsx(H,{header:`选择${e}类型`,children:a.jsx(Be,{items:r,ViewItem:i,onItemClick:s})})}function Ba(e){if(typeof e=="string"){if(e!==":atom")debugger;return e}return jn(e)}function Th(e){return`atom/${Ba(e)}/new`}function Ya(e){return`atom/${Ba(e)}/list`}function Rh(e,t){return`atom/${Ba(e)}/${jn(t)??":id"}`}function RO(e,t){return`atom/${Ba(e)}/${jn(t)??":id"}`}function LO(e,t){return`atom/${Ba(e)}/${jn(t)??":id"}`}async function pw(e,t){let{props:n}=await e.GetAtom.query({id:t}),{main:r,buds:i}=Xx(t,n),s;return{main:r,buds:i,uoms:s}}async function qO(e,t,n){let{main:r,buds:i}=await pw(t,n),s={...r},{phrase:l}=r,o=e.entityIds[l];function u(c,d){let h=o.buds[c];s[h.name]=d}for(let c in i)u(Number(c),i[c]);return s}function _u(e){const{atom:t}=un();let n=kn(t);const r=G(),{uq:i,biz:s}=r,l=s.entityIds[n],o=l.phrase,u=l.name,c=l.name+"-list";async function d(w){let S=await pw(i,w),{main:g}=S,{phrase:f}=g,p=s.entityIds[f];return{...S,entityAtom:p}}async function h(w,S,g){await i.ActIDProp(i.Atom,w,S,g)}async function m(w,S,g){let f,p,j;const{budDataType:b,id:k}=S;switch(b.type){default:case de.int:f=g;break;case de.dec:p=g;break;case de.str:j=g;break}await i.SaveBudValue.submit({id:w,phraseId:k,int:f,dec:p,str:j})}async function v(w,S,g){let f={atom:o,...w},p=i.SearchAtom,{$page:j}=await p.page(f,S,g);return j}async function y(w){w===void 0&&(w=l);const{openModal:S}=Zf(r),{children:g}=w;switch(g.length){case 0:return w;case 1:return g[0];default:let f=a.jsx(TO,{entityAtom:w,caption:"选择类型"});if(!f)return w;let p=await S(f);return p===void 0?void 0:await y(p)}}return{uqApp:r,biz:s,entity:l,uom:l.uom,pathView:u,pathList:c,getAtom:d,saveField:h,saveBud:m,searchAtoms:v,selectLeafAtom:y}}function Wa(e){const{top:t}=e,n=_u(),{entity:r,searchAtoms:i}=n;let s=r;const{children:l}=r;switch(l.length){case 0:break;case 1:s=l[0];break;default:return{page:a.jsx(w,{})}}const o=a.jsx(xe,{className:"btn btn-sm btn-success me-2",to:`../${Th(s.id)}`,children:a.jsx(J,{name:"plus"})}),{ViewItemAtom:u}=e;let{caption:c,name:d}=s;c=c??d;let h={atom:s.id,key:void 0};function m({value:g}){return a.jsx(xe,{to:`../${Rh(s.id,g.id)}`,children:a.jsx("div",{className:"px-3 py-2",children:a.jsx(u,{value:g})})})}const v="id",y=a.jsxs("div",{className:"m-3 small text-muted",children:["[无",c,"]"]});return{header:c,right:o,query:i,param:h,sortField:v,ViewItem:m,none:y,page:a.jsx(S,{}),top:t};function w(){let g=s.caption??s.name;const{children:f}=s;function p({value:b}){const{id:k,caption:_}=b;return a.jsx(xe,{to:`../${Ya(k)}`,children:a.jsx("div",{className:"px-3 py-2",children:_})})}function j(b){}return a.jsx(H,{header:`${g}列表 - 大类`,children:a.jsx(Be,{items:f,ViewItem:p,onItemClick:j})})}function S(){return a.jsx(fn,{header:c,right:o,query:i,param:h,sortField:v,ViewItem:m,none:y,children:t})}}function Ha(e){const t=_u(),{uqApp:n,pathView:r}=t,{uq:i}=n,{NOLabel:s,exLabel:l}=e,[o,u]=E.useState(void 0);if($t(()=>{(async()=>{let g=await t.selectLeafAtom(void 0);u(g)})()}),o===void 0){let g=a.jsx("div",{className:"m-3",children:"暂时没有内容，随后处理"});return{page:a.jsx(H,{header:"新建",children:g}),view:g}}const{id:c,name:d,caption:h}=o;return{page:a.jsx(m,{}),pageContent:a.jsx(v,{}),modal:a.jsx(w,{}),modalContent:a.jsx(y,{})};function m(){return a.jsx(H,{header:`新建${h??d}`,children:a.jsx(v,{})})}function v(){const g=Dn();function f(p){g(`../${Rh(c,p.id)}`,{replace:!0})}return a.jsx(S,{afterSubmit:f})}function y(){const{closeModal:g}=ue();function f(p){g(p)}return a.jsx(S,{afterSubmit:f})}function w(){return a.jsx(H,{header:`新建${h??d}`,children:a.jsx(y,{})})}function S({afterSubmit:g}){async function f(D,I,A){const{ex:M}=A;return await i.SaveAtom.submit({atomPhrase:D.id,base:void 0,no:I,ex:M})}async function p(){let D=await i.IDNO({ID:i.Atom});return{no:D,formRows:[{name:"no",label:s,type:"text",options:{maxLength:20,disabled:!0,value:D}},{name:"ex",label:l,type:"text",options:{maxLength:50}},{type:"submit",label:"下一步"}]}}const{data:{no:j,formRows:b}}=$n("PageAtomNew",async()=>await p(),zn),{register:k,handleSubmit:_,formState:{errors:C}}=En({mode:"onBlur"});async function N(D){let I=await f(o,j,D);g==null||g({...D,...I,no:j})}return a.jsx("form",{onSubmit:_(N),className:"container my-3 pe-5",children:a.jsx(Wn,{rows:b,register:k,errors:C})})}}function Td(e,t=!1){const{name:n,budDataType:r,caption:i,defaultValue:s}=e,l={required:t,value:s};switch(r.type){default:case de.char:case de.str:return{name:n,label:i??n,type:"string",options:{...l,maxLength:200}};case de.int:return{name:n,label:i??n,type:"number",options:l};case de.dec:return{name:n,label:i??n,type:"number",options:l};case de.date:return{name:n,label:i??n,type:"date",options:l};case de.atom:return{name:n,label:i??n,atom:r.bizAtom.name}}}function UO(e){const{uq:t}=G(),{id:n,readonly:r,value:i,bizBud:s,ViewValueEdit:l}=e,[o,u]=E.useState(i),{caption:c,name:d,budDataType:h}=s,{bizAtom:m}=h,v=c??d,y=Lh();async function w(){let S=await y(m.name);if(S===void 0)return;let g=S.id;await t.SaveBudValue.submit({phraseId:s.id,id:n,int:g,dec:void 0,str:void 0}),u(g)}return a.jsx(l,{label:v,readonly:r,onEditClick:w,children:a.jsx(yM,{id:o})})}function $O(e){const{uq:t}=G(),{id:n,readonly:r,value:i,bizBud:s,ViewValueEdit:l}=e,{budDataType:o,caption:u,name:c}=s;let{options:{items:d,phrase:h}}=o,m=i??{},v=[],y=!1;for(let S of d){let{id:g,name:f,caption:p,value:j}=S,b=m[g];b===!0&&(y=!0),v.push([g,p??f,j,b])}y===!1&&(v[0][3]=!0);async function w(S){const{id:g}=s,f=S;await t.SaveBudRadio.submit({budPhrase:g,id:n,optionsItemPhrase:f})}return a.jsx(l,{label:u??c,readonly:r,onEditClick:null,children:a.jsx(tx,{name:c,items:v,onCheckChanged:w})})}function VO(e){const{uq:t}=G(),{id:n,readonly:r,value:i,bizBud:s,ViewValueEdit:l}=e,{budDataType:o,caption:u,name:c}=s;let{options:{items:d,phrase:h}}=o,m="me-4 ";r===!0&&(m+="text-light invisible ");async function v(w,S){const{id:g}=s,f=w.id;await t.SaveBudCheck.submit({budPhrase:g,id:n,optionsItemPhrase:f,checked:S===!0?1:0})}let y=i??{};return a.jsx(l,{label:u??c,readonly:r,onEditClick:null,children:d.map((w,S)=>{let{id:g,name:f,caption:p,value:j}=w;async function b(k,_){await v(w,_)}return a.jsx(Rf,{className:"form-check-input",labelClassName:m,onCheckChanged:b,disabled:r,value:j,defaultChecked:y[g],children:p??f},S)})})}async function zO(e,t,n){const{label:r,value:i,type:s}=t,{openModal:l,closeModal:o}=Zf(e);return await l(a.jsx(yw,{label:r,value:i,type:s,options:n}))}function yw({label:e,value:t,type:n,options:r,step:i}){const{closeModal:s}=ue(),{register:l,handleSubmit:o,setValue:u,getValues:c,formState:{errors:d}}=En({mode:"onBlur"});async function h(v){s(v.value)}const m=[{name:"value",label:e,type:n,options:{...r,value:t},step:i},{type:"submit",label:"提交",options:{}}];return a.jsx(H,{header:e,children:a.jsx("div",{className:"px-5 py-3",children:a.jsx("form",{className:"container",onSubmit:o(h),children:a.jsx(Wn,{rows:m,register:l,errors:d})})})})}function Nu(e){const{uq:t}=G(),{openModal:n}=ue(),{id:r,readonly:i,value:s,bizBud:l,type:o,step:u,convertToBudValue:c,options:d,fromBudValue:h,ViewValueEdit:m,onChanged:v}=e,[y,w]=E.useState(h===void 0?s:h(s)),{caption:S,name:g,ex:f}=l,p=S??g;async function j(){let k=await n(a.jsx(yw,{label:p,value:y,type:o,options:d,step:u})),_=c(k);await t.SaveBudValue.submit({phraseId:l.id,id:r,..._}),w(k),v==null||v(l,k)}let b=y;if(f!==void 0){const{format:k}=f;k!==void 0&&(b=k.replace("{value}",y?String(y):"?"))}return a.jsx(m,{label:p,readonly:i,onEditClick:j,children:b})}function BO(e){function t(n){return{int:void 0,dec:void 0,str:n}}return a.jsx(Nu,{...e,type:"text",convertToBudValue:t})}function YO(e){function t(n){return{int:n,dec:void 0,str:void 0}}return a.jsx(Nu,{...e,type:"number",convertToBudValue:t})}function WO(e){const{ex:t}=e.bizBud;function n(i){return{int:void 0,dec:i,str:void 0}}let r="0.000001";if(t!==void 0){let{fraction:i}=t;r=String(1/Math.pow(10,i))}return a.jsx(Nu,{...e,type:"number",step:r,convertToBudValue:n})}function HO(e){const t=E.useCallback(function(r){return{int:t0(r),dec:void 0,str:void 0}},[]);return a.jsx(Nu,{...e,type:"date",fromBudValue:lh,convertToBudValue:t})}function QO(e){const{uq:t}=G(),{id:n,readonly:r,value:i,bizBud:s,ViewValueEdit:l}=e,{budDataType:o,caption:u,name:c}=s;let{options:{items:d,phrase:h}}=o,m=i??{},v=[],y=!1;for(let S of d){let{name:g,caption:f,value:p,phrase:j}=S,b=m[j];b===!0&&(y=!0),v.push([j,f??g,p,b])}y===!1&&(v[0][3]=!0);async function w(S){const{id:g}=s,f=d.find(p=>p.phrase===S).value;await t.SaveBudValue.submit({phraseId:g,id:n,int:f,dec:void 0,str:void 0})}return a.jsx(l,{label:u??c,readonly:r,onEditClick:null,children:a.jsx(tx,{name:c,items:v,onCheckChanged:w})})}function GO(e){let{label:t,children:n,onEditClick:r,readonly:i}=e,s=a.jsx("span",{className:"p-2",children:" "});return r!==null&&i!==!0&&(s=a.jsx("div",{onClick:r,className:"cursor-pointer p-3",children:a.jsx(J,{name:"pencil",className:"text-info"})})),a.jsxs(ga,{...e,children:[t,a.jsx("div",{className:"ms-3 position-relative",children:n}),s]})}function KO(e){let{label:t,children:n,onEditClick:r,readonly:i}=e,s=a.jsx("span",{className:"p-2",children:" "});return r!==null&&i!==!0&&(s=a.jsx("div",{onClick:r,className:"cursor-pointer p-2 align-self-start",children:a.jsx(J,{name:"pencil",className:"text-info"})})),a.jsxs("div",{className:"border border-secondary-subtle rounded d-flex bg-light align-items-center",children:[a.jsx("div",{className:"flex-fill py-2 ps-2",children:n}),s]})}function vw(e){return gw({...e,ViewValueEdit:GO})}function XO(e){return gw({...e,ViewValueEdit:KO})}function gw(e){const{bizBud:t}=e,{type:n}=t.budDataType;switch(n){default:return a.jsxs(a.Fragment,{children:["unknown bud type ",n," ",de[n]," "]});case de.int:return a.jsx(YO,{...e});case de.char:case de.str:return a.jsx(BO,{...e});case de.dec:return a.jsx(WO,{...e});case de.radio:return a.jsx($O,{...e});case de.check:return a.jsx(VO,{...e});case de.intof:return a.jsx(QO,{...e});case de.atom:return a.jsx(UO,{...e});case de.date:return a.jsx(HO,{...e})}}function ZO({label:e,name:t,readonly:n,type:r,value:i,saveBud:s,id:l,pickValue:o,ValueTemplate:u}){let c=G(),[d,h]=E.useState(i);async function m(v,y){await s(v);let w=c.pageCache.getPrevData();if(w){let S=w.getItem(g=>g.id===l);S&&(S[t]=v)}h(v)}return a.jsx(Bx,{label:e,value:d,readonly:n,type:r,onValueChanged:m,pickValue:o===null?null:o??zO,ValueTemplate:u})}function JO(e){const{id:t,name:n,saveField:r}=e;async function i(s){await r(t,n,s)}return a.jsx(ZO,{...e,saveBud:i})}function eM({bud:e,value:t}){if(e===void 0)return a.jsx(a.Fragment,{children:t});switch(e.budDataType.type){default:case de.dec:case de.none:case de.int:case de.char:case de.str:return a.jsx(a.Fragment,{children:t});case de.atom:return nM(e,t);case de.radio:return rM(e,t);case de.check:return iM(e,t);case de.intof:return sM(e,t);case de.pick:return aM(e,t);case de.ID:return uM(e,t);case de.date:return lM(e,t);case de.datetime:return oM(e,t)}}function tM({value:e}){return a.jsx(a.Fragment,{children:e==null?void 0:e.ex})}function nM(e,t){return a.jsx(Ht,{uq:e.biz.uq,id:t,Template:tM})}function rM(e,t){if(t===null)return a.jsx("small",{className:"text-secondary",children:"/"});let{options:n}=e.budDataType,r=n.coll[t[0]];if(r===void 0)return a.jsxs(a.Fragment,{children:[t," unknown"]});const{caption:i,name:s}=r;return a.jsx(a.Fragment,{children:i??s})}function iM(e,t){if(t===null)return a.jsx("small",{className:"text-secondary",children:"/"});let{options:n}=e.budDataType,r=[],i=t;for(let s of i){let l=n.coll[s];if(l===void 0)continue;const{caption:o,name:u}=l;r.length>0&&r.push(a.jsx("small",{className:"text-secondary mx-2",children:"|"},"s"+s)),r.push(a.jsx("span",{className:"",children:o??u},s))}return a.jsx(a.Fragment,{children:r})}function sM(e,t){return a.jsxs(a.Fragment,{children:["intof: ",t]})}function aM(e,t){return a.jsxs(a.Fragment,{children:["pick: ",t]})}function lM(e,t){return a.jsx(a.Fragment,{children:lh(t)})}function oM(e,t){return a.jsxs(a.Fragment,{children:["datetime: ",t]})}function uM(e,t){return a.jsxs(a.Fragment,{children:["ID: ",t]})}function cM(){const e=G(),{uq:t}=e,{openModal:n,closeModal:r}=ue(),i=E.useRef(void 0),s=Lh();async function l(c){return await n(a.jsx(h,{}));function h(){async function m(S,g,f){const{$page:p}=await t.GetUomIListOfUom.page(S,g,f);return p}const v={uom:c.id};function y({value:S}){return a.jsx("div",{className:"px-3 py-2",children:a.jsx(yt,{value:S})})}async function w(S){r(S)}return a.jsx(fn,{header:"选择 - "+c.ex,sortField:"id",param:v,query:m,ViewItem:y,onItemClick:w})}}async function o(c){n(a.jsx(qn,{}));const{UomI:d,UomX:h}=await t.GetUomI.query({id:c});r();let m=d[0],v=m;if(h.length===0)return v=await u(void 0),v;let y;function w(g){v.id===g?y=v:y=h.find(f=>f.id===g)}return i.current!==void 0&&w(i.current),y===void 0&&w(c),await n(a.jsx(S,{}));function S(){function g(){r(y)}function f(){r(null)}function p({atom:b,children:k,className:_}){function C(){y=b}return a.jsxs("label",{className:"px-3 py-3 "+(_??""),children:[a.jsx("input",{type:"radio",className:"me-4 form-check-input",name:"uomI-id-"+v.id,value:b.id,defaultChecked:b===y,onChange:C}),k]})}function j({value:b}){const{ex:k,no:_,ratio:C}=b;return a.jsxs(p,{atom:b,children:[a.jsx("b",{className:"d-inline-block w-min-8c me-4",children:k}),a.jsxs("span",{children:[" = ",C," ",v.ex]})]})}return a.jsxs(H,{header:"选择计量单位",children:[a.jsxs(Ve,{className:"px-3 py-3 tonwa-bg-gray-2 border-bottom align-items-center",children:[a.jsxs("div",{children:[m.uomEx," ",m.uomDiscription]}),a.jsxs("button",{className:"btn btn-link",onClick:f,children:["其它计量单位",a.jsx(Nn,{name:"chevron-double-right"})]})]}),a.jsx(p,{atom:v,className:"border-bottom border-2",children:a.jsx("b",{className:"d-inline-block w-min-8c me-4 text-primary",children:v.ex})}),a.jsx(Be,{items:h,ViewItem:j}),a.jsx(Ve,{className:"px-3 py-3",children:a.jsx("button",{className:"btn btn-primary",onClick:g,children:"提交"})})]})}}async function u(c){let d;if(c===void 0){let h=await s(it.Uom);return h===void 0||(d=await l(h),d===void 0)?void 0:d}return d=await o(c),d===null&&(d=await u(void 0)),d}return async function(c){return i.current=c,await u(c)}}function dM({atomId:e,uoms:t,className:n}){G();const[r,i]=E.useState(t);cM();async function s(){}function l({value:o}){const{ex:u,prevEx:c,ratio:d}=o;let h;return c&&(h=a.jsxs("small",{className:"text-secondary",children:[d,c]})),a.jsxs("div",{className:"px-3 py-2",children:[u," ",h]})}return a.jsxs(ga,{className:(n??"")+" border-bottom",vAlign:"top",children:[a.jsx("div",{className:"mt-2",children:a.jsx(Ga,{atom:it.UomI})}),a.jsx(Be,{items:r,ViewItem:l,className:"w-100"}),a.jsx("div",{className:"p-3 text-info cursor-pointer border-start",onClick:s,children:a.jsx(J,{name:"pencil"})})]})}function Qa(e){const{id:t}=un();return xw({...e,id:kn(t)})}function xw(e){const{NOLabel:t,exLabel:n,id:r}=e,{uom:i,getAtom:s,saveField:l,saveBud:o,entity:u}=_u(),[c,d]=E.useState(void 0);if($t(()=>{(async()=>{let k=await s(r);d(k)})()}),c===void 0)return{view:a.jsx(os,{}),page:a.jsx(qn,{})};const{main:h,buds:m}=c;let v=[],{name:y,caption:w,props:S}=u;const f=[{name:"id",label:a.jsxs("span",{className:"text-primary fw-normal",children:[a.jsx(J,{name:"compass",className:"text-danger me-1"})," ID"]}),readonly:!0,type:"number"},{name:"no",label:t??"编号",readonly:!0,type:"string"},{name:"ex",label:n??"名称",type:"string"}];let p;return i===!0&&(p=a.jsx(dM,{atomId:r,uoms:v})),{caption:w,view:a.jsx(j,{}),page:a.jsx(b,{}),obj:h};function j(){return a.jsxs(a.Fragment,{children:[f.map((k,_)=>a.jsxs(re.Fragment,{children:[a.jsx(JO,{...k,id:r,value:h[k.name],saveField:l,saveBud:o},_),a.jsx(ge,{})]},_)),p,S.map(k=>{let{id:_}=k,C=m[_];return a.jsxs(re.Fragment,{children:[a.jsx(vw,{id:r,bizBud:k,value:C}),a.jsx(ge,{})]},_)})]})}function b(){return a.jsx(H,{header:w??y,children:a.jsx(j,{})})}}function fM({entity:e,budNames:t,noMedsMessage:n}){const r=G(),{biz:i}=r,s=i.entities[e.toLowerCase()];let l;switch(typeof t){default:l=t;break;case"undefined":l=[];break;case"string":l=[t];break}let o=l.map(d=>u(d));function u(d){const h=d.toLowerCase().split("."),{length:m}=h;if(m>3)throw new Error(`error Bud name '${d}'`);let v,y;if(m===1)v=s,y=d;else{if(m===3&&h.splice(0,1),v=i.entities[h[0]],v===void 0)throw new Error(`'${d}' is not a valid bud`);y=h[1]}return S(v,y);function S(g,f){if(g===void 0)throw new Error("no Entity in bizBudOfEntity");let p=g.buds[f];if(p!==void 0)return p;throw new Error(`unknown Bud '${f}' of Entity '${g.phrase}'`)}}async function c(d,h){let m=[];for(let y in h){let w=h[y];w!==void 0&&m.push(v(d,Number(y),w))}await Promise.all(m);async function v(y,w,S){let{id:g}=y,f,p,j;switch(y.budDataType.type){case de.int:f=S;break;case de.dec:p=S;break;case de.char:j=S;break}let b={phraseId:g,id:w,int:f,dec:p,str:j},{entity:k}=y;return await k.uq.SaveBudValue.submit({...b})}}return n=n??"no meds",{entity:s,noMedsMessage:n,saveBuds:c,bizBuds:o,getBizBud:u}}function hM(e,t){const{entity:n,bizBuds:r,noMedsMessage:i,saveBuds:s,getBizBud:l}=fM(e);function o(c,d,h){return t.page(c,d,h)}async function u(c,d,h){const m={phrase:n.phrase,budNames:r==null?void 0:r.map(C=>C.phrase).join("	"),key:c==null?void 0:c.key};let v=[],y=await o(m,d,h),{$page:w,meds:S,budsInt:g,budsDec:f,budsStr:p}=y,j={},b={};for(let C of w){let N={atom:C,meds:[]};j[C.id]=N,v.push(N)}for(let C of S){let N={...C,values:[]};b[C.id]=N,j[C.main].meds.push(N)}let k={};function _(C){let{id:N,phrase:D}=C,I=k[D];if(I===void 0){let M=l(D);I=r.indexOf(M),k[D]=I}let A=b[N];A.values[I]=C.value}for(let C of g)_(C);for(let C of f)_(C);for(let C of p)_(C);for(let C of v)for(let N of C.meds)N.atomValues=ze(N.values);return v}return{search:u,saveBuds:s,noMedsMessage:i,bizBuds:r,entity:n}}function mM(e){const{uq:t}=G();return hM(e,t.SearchAtomBuds)}function Lh(){const{openModal:e}=ue();return async function(t,n,r){return await e(a.jsx(ww,{atomName:t,buds:n}))}}function ww(e){const{buds:t,loadOnOpen:n,caption:r,placeholder:i,atomName:s}=e,l=G(),{biz:o}=l,{closeModal:u}=ue();let c=o.entities[s];if(c===void 0){debugger;let p=(s===void 0?"no atomName":`${s} not defined`)+" in PageAtomSelect";throw new Error(p)}const[d,h]=E.useState(n===!1?void 0:{key:void 0}),m=c.caption??c.name,v=a.jsx(nx,{className:"px-3 py-2",onSearch:y,placeholder:i??m+" 编号或描述"});async function y(p){h({key:p})}async function w(p){let j=p.atom;u(j)}let S=mM({entity:s,budNames:t});async function g(p,j,b){return await S.search(p,j,b)}function f({value:p}){return a.jsx("div",{className:"px-3 py-2",children:a.jsx(pM,{value:p.atom})})}return a.jsx(fn,{header:`选择${r??m}`,query:g,param:d,sortField:"id",ViewItem:f,onItemClick:w,children:v})}function pM({value:e}){let{no:t,ex:n}=e;return a.jsxs("div",{children:[a.jsx("div",{children:a.jsx("b",{children:n})}),a.jsx("div",{className:"small text-secondary",children:t})]})}function Ga({atom:e}){const{biz:t}=G(),n=t==null?void 0:t.entities[e];return a.jsx(a.Fragment,{children:n?n.caption:e})}function yt({value:e}){let{no:t,ex:n}=e;return a.jsxs("div",{children:[a.jsx("div",{children:a.jsx("b",{children:n})}),a.jsx("div",{className:"small text-secondary",children:t})]})}function yM({id:e}){const{uq:t}=G();return e===void 0?a.jsx(a.Fragment,{children:"/"}):a.jsx(Ht,{uq:t,id:e,Template:yt})}function vM(){const e=ue();async function t(n,r){let{name:i,caption:s,pick:l}=r,o=l;return await e.open(a.jsx(ww,{atomName:o.from[0].phrase,caption:s??i}))}return E.useCallback(t,[])}function gM(){const{uq:e}=G(),{openModal:t,closeModal:n}=ue();async function r(i){const{base:s,entitySpec:l,viewTop:o}=i,{ix:u}=l;if(u===!0){let{ret:h}=await e.GetSpecsFromBase.query({base:s}),m;switch(h.length){default:return await t(a.jsx(d,{}));case 0:m={id:s};break;case 1:m=h[0];break}return m}else return await t(a.jsx(c,{}));function c(){const{id:h,caption:m,name:v,keys:y,props:w}=l,{register:S,handleSubmit:g,formState:{errors:f}}=En({mode:"onBlur"}),p="提交",j=void 0;let b=[...y.map(_=>Td(_,!0)),...(w??[]).map(_=>Td(_)),{type:"submit",label:p,options:{},className:j}];const k=async _=>{const C={};for(let F of y){const{name:q,budDataType:z}=F;let W=_[q];switch(z.type){case de.date:W=t0(W);break}C[q]=W}const N={};for(let F of w){const{name:q}=F;N[q]=_[q]}const D={spec:h,base:s,keys:C,props:N};let I=await e.SaveSpec.submit(D);const{id:A}=I;let M=Object.assign({id:A},_);n(M)};return a.jsxs(H,{header:m??v,children:[a.jsx("div",{className:"pt-3 tonwa-bg-gray-2",children:a.jsx(Et,{children:a.jsx("div",{className:"mx-3",children:o})})}),a.jsx("div",{className:"m-3",children:a.jsx("form",{className:"container",onSubmit:g(k),children:a.jsx(Wn,{rows:b,register:S,errors:f})})})]})}function d(){function h(){n({id:100})}return a.jsx(H,{header:"选择",children:a.jsx("button",{className:"btn btn-primary",onClick:h,children:"确定"})})}}return E.useCallback(r,[])}function xM(){const e=gM();return E.useCallback(async function(n,r){var v;let{param:i,pick:s}=r,l=s,{from:o}=l,u=n[(v=i[0])==null?void 0:v.bud];const c=a.jsx("div",{children:a.jsx(yt,{value:u})}),d="提交",h="btn btn-primary";return await e({base:u==null?void 0:u.id,entitySpec:o,viewTop:c,buttonCaption:d,buttonClassName:h})},[])}function wM(e){const t=G(),{uq:n,biz:r}=t;let{data:i}=$n([e],async()=>await bM(n,r,e),zn);return i}const my={},py={atom:{entity:void 0,value:void 0},specs:[]};async function bM(e,t,n){if(n===void 0||n===0)return py;let r=my[n];if(r===null)return py;if(r!==void 0)return r;let{props:i}=await e.GetSpec.query({id:n}),s,l=[],o=i.length,u=0;for(;u<o;){let h=i[u++];const{phrase:m}=h;let v=t.entityIds[m],{type:y}=v;if(y==="atom"){s=c(v,h);break}if(y==="spec"){let w=d(v,h);l.push(w)}}function c(h,m){const{id:v,phrase:y,value:[w,S]}=m;return{entity:h,value:{id:v,base:y,no:w,ex:S}}}function d(h,m){let{keys:v,props:y}=h,w={},S=[],g=[];const{id:f,value:p}=m;for(let[j,b]of p)w[j]=b;for(let j of v)S.push(w[j.id]);for(let j of y)g.push(w[j.id]);return{entity:h,id:f,keys:S,props:g}}return my[n]={atom:s,specs:l}}function bw({id:e,ViewAtom:t}){const{atom:n,specs:r}=wM(e);if(n===void 0)return null;const{value:i}=n;let s;if(i!==void 0){const{no:o,ex:u}=i;s=a.jsx(t,{no:o,ex:u})}function l(){return r.length===0?null:a.jsx(a.Fragment,{children:r.map(o=>{const{id:u,keys:c,props:d,entity:h}=o;let m=[];function v(y,w){let{length:S}=y;for(let g=0;g<S;g++){let{id:f,caption:p,name:j,budDataType:b}=y[g],k=a.jsxs("div",{children:[a.jsx("span",{className:"d-inline-block me-2 small text-secondary w-min-4c",children:p??j}),b.valueToContent(w[g])]},f);m.push(k)}}return v(h.keys,c),v(h.props,d),a.jsx("div",{children:m},u)})})}return a.jsxs("div",{children:[s,a.jsx(l,{})]})}function Rr({id:e}){function t({no:n,ex:r}){return a.jsxs("div",{children:[a.jsx("div",{className:"small text-secondary",children:n}),a.jsx("div",{children:a.jsx("b",{children:r})})]})}return a.jsx(bw,{id:e,ViewAtom:t})}function jM({id:e}){function t({no:n,ex:r}){return a.jsxs("div",{children:[a.jsx("div",{children:a.jsx("b",{children:r})}),a.jsx("div",{className:"small text-secondary",children:n})]})}return a.jsx(bw,{id:e,ViewAtom:t})}function SM({phrase:e,props:t,className:n,buildProp:r}){const{biz:i}=G();let s=i.entityIds[e],{keys:l,props:o}=s,u=l.length,c=t.length,d=[];for(let h=0;h<c;h++)h<u?d.push(r(l[h],t[h])):d.push(r(o[h-u],t[h]));return a.jsx("div",{className:n,children:d})}function kM({phrase:e,props:t}){function n(r,i){const{caption:s,name:l,id:o}=r;return a.jsxs("div",{className:"w-min-6c me-2",children:[a.jsxs("div",{className:"small text-secondary w-min-3c me-1",children:[s??l,":"]}),a.jsx("div",{children:r.budDataType.valueToContent(i)})]},o)}return a.jsx(SM,{phrase:e,props:t,className:"d-flex",buildProp:n})}function CM({id:e}){return a.jsx("span",{className:"",children:e})}function _M({value:e}){const{id:t,no:n,i:r,x:i,operator:s}=e;return a.jsx("div",{className:"px-3 py-2",children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"me-3 w-min-10c",children:[a.jsx("small",{className:"text-secondary me-1",children:"编号"}),n]}),a.jsx("div",{children:a.jsxs("small",{className:"text-secondary",children:[a.jsx("small",{className:"text-secondary me-1",children:"录单"}),a.jsx(CM,{id:s})]})})]}),r>0&&a.jsx("div",{className:"w-min-16c me-3",children:a.jsx(Rr,{id:r})}),i>0&&a.jsx("div",{className:"w-min-16c me-3",children:a.jsx(Rr,{id:i})}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("small",{className:"text-secondary",children:a.jsx(su,{date:t/(1024*1024)*60})})]})})}function NM(){const e=ue();return E.useCallback(async function(n,r){let{name:i,caption:s,pick:l}=r,u={caption:s,entity:l.from,search:[]},c=await e.open(a.jsx(DM,{propPend:u}));if(c===void 0)return;let d=[],h=[],m={};for(let v of c){let{i:y,x:w}=v;if(w===void 0)d.push(v);else{let S=m[y];S===void 0?(S=[v],m[y]=S,h.push(y)):S.push(v)}}for(let v of h)d.push([v,m[v]]);return d},[])}function DM({propPend:e}){const t=G(),{uq:n}=t,{closeModal:r}=ue();let{caption:i,entity:s,search:l}=e,{name:o,id:u,predefined:c}=s,{data:d}=$n([o],async()=>{let{$page:f,retSheet:p,retAtom:j}=await n.GetPend.page({pend:u,key:""},void 0,100),b={};for(let _ of p)b[_.id]=_;let k=[];for(let _ of f){let{pendValue:C}=_;if(C===void 0||C<=0)continue;let N={pend:_.pend,sheet:{...b[_.sheet],buds:{}},detail:{..._,buds:{}},value:C};k.push(N)}return k},zn),[h,m]=E.useState({});i===void 0&&(i=s.caption??o);function v(){let f=Object.values(h).sort((j,b)=>{let k=j.pend,_=b.pend;return k<_?-1:k===_?0:1}),p=[];for(let j of f){const{pend:b,detail:k,value:_}=j;let C={...k,value:_,origin:k.id,pendFrom:b,pendValue:_,id:void 0};k.id=void 0,p.push(C)}r(p)}function y({caption:f,value:p}){return a.jsxs("div",{className:"d-flex text-end align-items-center",children:[a.jsx("span",{className:"me-3 small text-secondary",children:f}),a.jsx("span",{className:"w-min-4c",children:p})]})}const w=2;function S({value:f}){const{detail:{i:p,price:j,amount:b},value:k}=f;return a.jsxs("div",{className:"d-flex w-100",children:[a.jsx("div",{className:"",children:a.jsx("div",{className:"py-2",children:a.jsx(Rr,{id:p})})}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"",children:a.jsxs("div",{className:"py-2 d-flex flex-column align-items-end",children:[a.jsx(y,{caption:"单价",value:j==null?void 0:j.toFixed(w)}),a.jsx(y,{caption:"金额",value:b==null?void 0:b.toFixed(w)}),a.jsx(y,{caption:"数量",value:a.jsx("span",{className:"fs-larger fw-bold",children:k})})]})})]})}function g(f,p){const{pend:j}=f;p===!0?h[j]=f:delete h[j],m({...h})}return a.jsxs(H,{header:i,children:[a.jsxs("div",{className:"p-3 border-bottom",children:[a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"me-3",children:["pend: ",o]}),a.jsxs("div",{className:"me-3",children:["search: ",JSON.stringify(l)]}),Object.values(c).map(f=>{const{name:p,caption:j,entity:b}=f;return a.jsxs("div",{className:"me-3",children:[p,": ",j]},p)})]}),a.jsx("div",{children:Object.keys(h).map(f=>f).join(", ")})]}),a.jsx(Be,{items:d,ViewItem:S,className:"",onItemSelect:g}),a.jsx("div",{className:"p-3",children:a.jsx("button",{className:"btn btn-primary",onClick:v,children:"选入"})})]})}function IM(){const{uq:e,biz:t}=G(),n=ue();return E.useCallback(async function(i,s,l){let{name:o,caption:u,pick:c,param:d}=s,h=c,{query:m}=h;const v=u??m.caption??o;let y=await n.open(a.jsx(p,{}));if(y===void 0)return;y=wA(y);let w=await e.DoQuery.submitReturns({query:m.id,json:y,pageStart:void 0,pageSize:100}),S=[];for(let b of w.ret){let k=[],_={$:k,id:b.id};_.ban={name:"ban",bud:void 0,value:b.ban};let C=b.json;for(let N of C){let{length:D}=N,I=N[0],A=N[1],M,F,q;switch(D){default:debugger;continue;case 2:if(typeof I=="string"){switch(I){case"no":_.no=A;continue;case"ex":_.ex=A;continue}M=I,q=A}else F=m.buds[I],M=F.name,q=A;break;case 3:F=t.entityIds[I].buds[A],M=F.name,q=N[2];break}k.push(_[M]={name:M,bud:F,value:q})}S.push(_)}let g=await n.open(a.jsx(j,{}));if(g===void 0)return;function f(b){let k={};for(let _ in b){let C=b[_];typeof C=="object"?k[_]=C.value:k[_]=C}return k}if(l===Fo.single)return f(g);return g.map(b=>f(b));function p(){const{register:b,handleSubmit:k,formState:{errors:_}}=En({mode:"onBlur"}),{params:C}=m;let D=[...C.filter(A=>A.budDataType.type!==0).map(A=>Td(A,!1)),{type:"submit",label:"查找",options:{},className:void 0}];function I(A){n.close(A)}return a.jsx(H,{header:v,children:a.jsx("form",{className:"container my-3",onSubmit:k(I),children:a.jsx(Wn,{rows:D,register:b,errors:_})})})}function j(){let[b,k]=E.useState({});function _(){let O=Object.values(b);O.sort((R,B)=>{let ee=R.id,ae=B.id;return ee===ae?0:ee<ae?-1:1}),n.close(O)}function C(O,R){const{id:B}=O;R===!0?b[B]=O:delete b[B],k({...b})}function N(O){n.close(O)}let D,I=Object.keys(b);I.length===0?D=a.jsx("small",{className:"text-secondary",children:"[无]"}):D=a.jsx(a.Fragment,{children:I.map(O=>O).join(", ")});function A(O){const{ban:R}=O;if(R.value>0){let{ban:B}=m;return B===!0&&(B="不可选"),B}}let M,F,q="d-flex flex-wrap ",z;l===Fo.multiple?(M=C,z="my-2 "):(F=N,q+="ps-3 ",z="my-2 mx-3");function W({value:O}){let R=O.$;function B({name:fe,value:_e,bud:Ne}){let Se;if(Ne===void 0)Se=fe;else{const{name:Nt,caption:hn}=Ne;Se=hn??Nt}return a.jsxs("div",{className:"my-2 me-3 w-min-16c d-flex align-items-center",children:[a.jsx("small",{className:"text-secondary me-2 w-min-4c",children:Se}),a.jsx("span",{children:a.jsx(eM,{bud:Ne,value:_e})})]})}const{no:ee,ex:ae}=O;let Ee;return ae!==void 0?Ee=a.jsxs(a.Fragment,{children:[a.jsx("b",{children:ae}),"     ",ee]}):ee!==void 0&&(Ee=a.jsx(a.Fragment,{children:a.jsx("b",{children:ee})})),Ee!==void 0&&(Ee=a.jsx("div",{className:z,children:Ee})),a.jsxs("div",{children:[Ee,a.jsx("div",{className:q,children:R.map((fe,_e)=>a.jsx(B,{...fe},_e))})]})}return a.jsx(H,{header:v,children:a.jsxs("div",{children:[a.jsxs("div",{className:"tonwa-bg-gray-2 p-3 border-bottom",children:["已选：",D]}),a.jsx("div",{children:a.jsx(Be,{items:S,ViewItem:W,className:"",onItemSelect:M,onItemClick:F,itemBan:A})}),a.jsx("button",{className:"btn btn-primary m-3",onClick:_,children:"选入"})]})})}},[])}var Fo=(e=>(e[e.single=0]="single",e[e.multiple=1]="multiple",e))(Fo||{});function qh(e){const{picks:t}=e,n=vM(),r=xM(),i=NM(),s=IM();return E.useCallback(async function(o=1){if(t===void 0)return;let u={},c,d;for(const h of t){const{name:m,pick:v}=h,{bizPhraseType:y}=v;switch(y){default:debugger;case sn.atom:c=await n(u,h);break;case sn.spec:c=await r(u,h);break;case sn.query:c=await s(u,h,o);break;case sn.pend:c=await i(u,h);break}if(c===void 0)return;d=h,u[m]=c}return[u,d,c]},[])}class EM{add(t,n,r){if(typeof arguments[0]!="string")for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(t)?t:[t]).forEach(function(i){this[i]=this[i]||[],n&&this[i][r?"unshift":"push"](n)},this)}run(t,n){this[t]=this[t]||[],this[t].forEach(function(r){r.call(n&&n.context?n.context:n,n)})}}class PM{constructor(t){this.jsep=t,this.registered={}}register(...t){t.forEach(n=>{if(typeof n!="object"||!n.name||!n.init)throw new Error("Invalid JSEP plugin format");this.registered[n.name]||(n.init(this.jsep),this.registered[n.name]=n)})}}class T{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+T.version}static addUnaryOp(t){return T.max_unop_len=Math.max(t.length,T.max_unop_len),T.unary_ops[t]=1,T}static addBinaryOp(t,n,r){return T.max_binop_len=Math.max(t.length,T.max_binop_len),T.binary_ops[t]=n,r?T.right_associative.add(t):T.right_associative.delete(t),T}static addIdentifierChar(t){return T.additional_identifier_chars.add(t),T}static addLiteral(t,n){return T.literals[t]=n,T}static removeUnaryOp(t){return delete T.unary_ops[t],t.length===T.max_unop_len&&(T.max_unop_len=T.getMaxKeyLen(T.unary_ops)),T}static removeAllUnaryOps(){return T.unary_ops={},T.max_unop_len=0,T}static removeIdentifierChar(t){return T.additional_identifier_chars.delete(t),T}static removeBinaryOp(t){return delete T.binary_ops[t],t.length===T.max_binop_len&&(T.max_binop_len=T.getMaxKeyLen(T.binary_ops)),T.right_associative.delete(t),T}static removeAllBinaryOps(){return T.binary_ops={},T.max_binop_len=0,T}static removeLiteral(t){return delete T.literals[t],T}static removeAllLiterals(){return T.literals={},T}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(t){this.expr=t,this.index=0}static parse(t){return new T(t).parse()}static getMaxKeyLen(t){return Math.max(0,...Object.keys(t).map(n=>n.length))}static isDecimalDigit(t){return t>=48&&t<=57}static binaryPrecedence(t){return T.binary_ops[t]||0}static isIdentifierStart(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!T.binary_ops[String.fromCharCode(t)]||T.additional_identifier_chars.has(String.fromCharCode(t))}static isIdentifierPart(t){return T.isIdentifierStart(t)||T.isDecimalDigit(t)}throwError(t){const n=new Error(t+" at character "+this.index);throw n.index=this.index,n.description=t,n}runHook(t,n){if(T.hooks[t]){const r={context:this,node:n};return T.hooks.run(t,r),r.node}return n}searchHook(t){if(T.hooks[t]){const n={context:this};return T.hooks[t].find(function(r){return r.call(n.context,n),n.node}),n.node}}gobbleSpaces(){let t=this.code;for(;t===T.SPACE_CODE||t===T.TAB_CODE||t===T.LF_CODE||t===T.CR_CODE;)t=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const t=this.gobbleExpressions(),n=t.length===1?t[0]:{type:T.COMPOUND,body:t};return this.runHook("after-all",n)}gobbleExpressions(t){let n=[],r,i;for(;this.index<this.expr.length;)if(r=this.code,r===T.SEMCOL_CODE||r===T.COMMA_CODE)this.index++;else if(i=this.gobbleExpression())n.push(i);else if(this.index<this.expr.length){if(r===t)break;this.throwError('Unexpected "'+this.char+'"')}return n}gobbleExpression(){const t=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",t)}gobbleBinaryOp(){this.gobbleSpaces();let t=this.expr.substr(this.index,T.max_binop_len),n=t.length;for(;n>0;){if(T.binary_ops.hasOwnProperty(t)&&(!T.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!T.isIdentifierPart(this.expr.charCodeAt(this.index+t.length))))return this.index+=n,t;t=t.substr(0,--n)}return!1}gobbleBinaryExpression(){let t,n,r,i,s,l,o,u,c;if(l=this.gobbleToken(),!l||(n=this.gobbleBinaryOp(),!n))return l;for(s={value:n,prec:T.binaryPrecedence(n),right_a:T.right_associative.has(n)},o=this.gobbleToken(),o||this.throwError("Expected expression after "+n),i=[l,s,o];n=this.gobbleBinaryOp();){if(r=T.binaryPrecedence(n),r===0){this.index-=n.length;break}s={value:n,prec:r,right_a:T.right_associative.has(n)},c=n;const d=h=>s.right_a&&h.right_a?r>h.prec:r<=h.prec;for(;i.length>2&&d(i[i.length-2]);)o=i.pop(),n=i.pop().value,l=i.pop(),t={type:T.BINARY_EXP,operator:n,left:l,right:o},i.push(t);t=this.gobbleToken(),t||this.throwError("Expected expression after "+c),i.push(s,t)}for(u=i.length-1,t=i[u];u>1;)t={type:T.BINARY_EXP,operator:i[u-1].value,left:i[u-2],right:t},u-=2;return t}gobbleToken(){let t,n,r,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(t=this.code,T.isDecimalDigit(t)||t===T.PERIOD_CODE)return this.gobbleNumericLiteral();if(t===T.SQUOTE_CODE||t===T.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(t===T.OBRACK_CODE)i=this.gobbleArray();else{for(n=this.expr.substr(this.index,T.max_unop_len),r=n.length;r>0;){if(T.unary_ops.hasOwnProperty(n)&&(!T.isIdentifierStart(this.code)||this.index+n.length<this.expr.length&&!T.isIdentifierPart(this.expr.charCodeAt(this.index+n.length)))){this.index+=r;const s=this.gobbleToken();return s||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:T.UNARY_EXP,operator:n,argument:s,prefix:!0})}n=n.substr(0,--r)}T.isIdentifierStart(t)?(i=this.gobbleIdentifier(),T.literals.hasOwnProperty(i.name)?i={type:T.LITERAL,value:T.literals[i.name],raw:i.name}:i.name===T.this_str&&(i={type:T.THIS_EXP})):t===T.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(t){this.gobbleSpaces();let n=this.code;for(;n===T.PERIOD_CODE||n===T.OBRACK_CODE||n===T.OPAREN_CODE||n===T.QUMARK_CODE;){let r;if(n===T.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==T.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),n=this.code}this.index++,n===T.OBRACK_CODE?(t={type:T.MEMBER_EXP,computed:!0,object:t,property:this.gobbleExpression()},this.gobbleSpaces(),n=this.code,n!==T.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):n===T.OPAREN_CODE?t={type:T.CALL_EXP,arguments:this.gobbleArguments(T.CPAREN_CODE),callee:t}:(n===T.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),t={type:T.MEMBER_EXP,computed:!1,object:t,property:this.gobbleIdentifier()}),r&&(t.optional=!0),this.gobbleSpaces(),n=this.code}return t}gobbleNumericLiteral(){let t="",n,r;for(;T.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(this.code===T.PERIOD_CODE)for(t+=this.expr.charAt(this.index++);T.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(n=this.char,n==="e"||n==="E"){for(t+=this.expr.charAt(this.index++),n=this.char,(n==="+"||n==="-")&&(t+=this.expr.charAt(this.index++));T.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);T.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+t+this.char+")")}return r=this.code,T.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+t+this.char+")"):(r===T.PERIOD_CODE||t.length===1&&t.charCodeAt(0)===T.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:T.LITERAL,value:parseFloat(t),raw:t}}gobbleStringLiteral(){let t="";const n=this.index,r=this.expr.charAt(this.index++);let i=!1;for(;this.index<this.expr.length;){let s=this.expr.charAt(this.index++);if(s===r){i=!0;break}else if(s==="\\")switch(s=this.expr.charAt(this.index++),s){case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=s}else t+=s}return i||this.throwError('Unclosed quote after "'+t+'"'),{type:T.LITERAL,value:t,raw:this.expr.substring(n,this.index)}}gobbleIdentifier(){let t=this.code,n=this.index;for(T.isIdentifierStart(t)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(t=this.code,T.isIdentifierPart(t));)this.index++;return{type:T.IDENTIFIER,name:this.expr.slice(n,this.index)}}gobbleArguments(t){const n=[];let r=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let s=this.code;if(s===t){r=!0,this.index++,t===T.CPAREN_CODE&&i&&i>=n.length&&this.throwError("Unexpected token "+String.fromCharCode(t));break}else if(s===T.COMMA_CODE){if(this.index++,i++,i!==n.length){if(t===T.CPAREN_CODE)this.throwError("Unexpected token ,");else if(t===T.CBRACK_CODE)for(let l=n.length;l<i;l++)n.push(null)}}else if(n.length!==i&&i!==0)this.throwError("Expected comma");else{const l=this.gobbleExpression();(!l||l.type===T.COMPOUND)&&this.throwError("Expected comma"),n.push(l)}}return r||this.throwError("Expected "+String.fromCharCode(t)),n}gobbleGroup(){this.index++;let t=this.gobbleExpressions(T.CPAREN_CODE);if(this.code===T.CPAREN_CODE)return this.index++,t.length===1?t[0]:t.length?{type:T.SEQUENCE_EXP,expressions:t}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:T.ARRAY_EXP,elements:this.gobbleArguments(T.CBRACK_CODE)}}}const AM=new EM;Object.assign(T,{hooks:AM,plugins:new PM(T),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});T.max_unop_len=T.getMaxKeyLen(T.unary_ops);T.max_binop_len=T.getMaxKeyLen(T.binary_ops);const ja=e=>new T(e).parse(),OM=Object.getOwnPropertyNames(T);OM.forEach(e=>{ja[e]===void 0&&e!=="prototype"&&(ja[e]=T[e])});ja.Jsep=T;const MM="ConditionalExpression";var FM={name:"ternary",init(e){e.hooks.add("after-expression",function(n){if(n.node&&this.code===e.QUMARK_CODE){this.index++;const r=n.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;const s=this.gobbleExpression();if(s||this.throwError("Expected expression"),n.node={type:MM,test:r,consequent:i,alternate:s},r.operator&&e.binary_ops[r.operator]<=.9){let l=r;for(;l.right.operator&&e.binary_ops[l.right.operator]<=.9;)l=l.right;n.node.test=l.right,l.right=n.node,n.node=r}}else this.throwError("Expected :")}})}};ja.plugins.register(FM);class TM{constructor(t){x(this,"values");if(t===null||typeof t!="object")debugger;this.values=t}identifier(t){let n=this.values[t];return typeof n=="object"?n.id:n}member(t,n){let r=this.values[t];if(typeof r!="object")return;let i=r[n];return typeof i=="object"?i.id:i}}class RM{constructor(t){x(this,"exp");x(this,"once");let n=t.indexOf(`
`);if(n>0){let r=t.substring(n+1);t=t.substring(0,n),this.once=r==="init"}else this.once=!1;this.exp=ja(t)}run(t){return this.runExp(this.exp,t)}runExp(t,n){switch(t.type){case"BinaryExpression":return this.binary(t,n);case"Identifier":return this.identifier(t,n);case"Literal":return this.literal(t);case"UnaryExpression":return this.unary(t,n);case"MemberExpression":return this.member(t,n)}}binary(t,n){const{operator:r,left:i,right:s}=t;let l=this.runExp(i,n);if(l===void 0)return;let o=this.runExp(s,n);if(o!==void 0)switch(r){default:return;case"-":return l-o;case"+":return l+o;case"*":return l*o;case"/":return o===0?void 0:l/o}}unary(t,n){const{operator:r,argument:i}=t;let s=this.runExp(i,n);switch(r){default:return;case"-":return-s;case"+":return s}}identifier(t,n){const{name:r}=t;return n.identifier(r)}member(t,n){const{object:r,property:i}=t;let{type:s,name:l}=r;if(s!==i.type&&s!=="Identifier")debugger;let{name:o}=i;return n.member(l,o)}literal(t){return Number(t.value)}}class jw{constructor(t,n){x(this,"formulas",{});x(this,"values");for(let r in t){let i=t[r];if(i===void 0)continue;let s=new RM(i);this.formulas[r]=s}this.values=n??{}}init(t){let n=new TM(t);console.log("after let nameValues = new PickedNameValues(picked);");for(let r in this.formulas)this.values[r]=this.formulas[r].run(n)}setValues(t){Object.assign(this.values,t)}immutable(t){let n=this.formulas[t];return n===void 0?!1:n.once===!1}run(t){for(let n in this.formulas){let r=this.formulas[n];if(r.once!==!0)try{let i=r.run(this);if(i===void 0)continue;this.values[n]=i,t(n,i)}catch{}}}setValue(t,n,r){this.values[t]=n,this.run(r)}identifier(t){return this.values[t]}member(t,n){throw new Error}}const Uo=class Uo{constructor(){x(this,"keyId");this.keyId=++Uo.__keyId}};x(Uo,"__keyId",0);let To=Uo;class Du extends To{constructor(n){super();x(this,"sheetStore");this.sheetStore=n}}class LM extends Du{constructor(n){super(n);x(this,"entityMain");x(this,"_binRow",ze({buds:{}}));x(this,"no");this.entityMain=n.entitySheet.main}get binRow(){return ye(this._binRow)}async start(n){const r=this.binRow,{id:i}=r;if(i>0)return;const s=await n(Fo.single);if(s===void 0)return;const{i:l,x:o,props:u}=this.entityMain,c={};l!==void 0&&(c.i=l.defaultValue),o!==void 0&&(c.x=o.defaultValue);for(let m of u)c[m.name]=m.defaultValue;const d=new jw(c);let[h]=s;d.init(h),l!==void 0&&(r.i=d.values.i),o!==void 0&&(r.x=d.values.x);for(let m of u){let v=d.values[m.name];v!==void 0&&(r.buds[m.id]=v)}return oe(this._binRow,r),await this.createIfNotExists()}async createIfNotExists(){const n=this.binRow;let{id:r,i,x:s}=n;if(r>0)return{id:r,no:this.no,i,x:s};const{uq:l,entitySheet:o}=this.sheetStore;let u=await l.SaveSheet.submit({phrase:o.id,no:void 0,i:i===0?void 0:i,x:s===0?void 0:s,value:void 0,price:void 0,amount:void 0}),{id:c,no:d}=u;return n.id=c,oe(this._binRow,{...n}),this.no=d,Object.assign(u,{i})}setValue(n){const{no:r}=n;this.no=r,oe(this._binRow,n)}setId(n){let r=this.binRow;oe(this._binRow,{...r,id:n})}}class Sw extends Du{constructor(n,r,i){super(n);x(this,"entityBin");x(this,"caption");this.entityBin=r,this.caption=i??r.caption}}class qM extends Sw{constructor(){super(...arguments);x(this,"_sections",ze([]));x(this,"origin");x(this,"pending")}addRowValues(n){const r=ye(this._sections);for(let i of n)this.addRowValue(r,i);oe(this._sections,[...r])}addRowValue(n,r){const{i,x:s,value:l}=r;if(i===void 0||l===void 0)return;let o;if(s){let c=n.findIndex(d=>d.i===i);c<0?(o=new Ro(this),o.i=i,n.push(o)):o=n[c]}else o=new Ro(this),n.push(o);let u=new Uh(o);return u.setValue(r),o.addRow(u),u}addSection(n){const r=ye(this._sections);oe(this._sections,[...r,n])}async delEmptySection(n){if(n.isEmpty===!1)return;let r=ye(this._sections),i=r.findIndex(s=>s===n);i>=0&&(r.splice(i,1),oe(this._sections,[...r]))}}class UM extends Sw{addRowValues(t){}}class Uh extends Du{constructor(n){super(n.sheetStore);x(this,"section");x(this,"props",{buds:{}});this.section=n}async save(){const{uq:n,main:r}=this.sheetStore;if(await r.createIfNotExists()===void 0){debugger;let l="新建单据不成功";throw console.error(l),new Error(l)}const{id:s}=await n.SaveDetail.submit({base:r.binRow.id,phrase:this.section.coreDetail.entityBin.id,...this.props});this.props.id=s}async addToSection(){await this.save(),this.section.addRow(this)}async delFromSection(){const{uq:n}=this.sheetStore;await n.DeleteBin.submit({id:this.props.id}),this.section.delRow(this)}async changed(){await this.save(),this.section.rowChanged()}setValue(n){let{i:r,x:i,value:s,price:l,amount:o}=this.section.coreDetail.entityBin;r!==void 0&&(this.props.i=n.i),i!==void 0&&(this.props.x=n.x),s!==void 0&&(this.props.value=n.value),l!==void 0&&(this.props.price=n.price),o!==void 0&&(this.props.amount=n.amount),this.props.origin=n.origin,this.props.buds=n.buds,this.props.pendFrom=n.pendFrom}}class Ro extends Du{constructor(n){super(n.sheetStore);x(this,"coreDetail");x(this,"_rows",ze([]));x(this,"i");this.coreDetail=n}get isEmpty(){return ye(this._rows).length===0}addRow(n){let r=ye(this._rows);oe(this._rows,[...r,n])}async addRowProps(n){let r=new Uh(this);r.setValue(n),await r.addToSection()}delRow(n){let r=ye(this._rows),i=r.findIndex(s=>s===n);i>=0&&(r.splice(i,1),oe(this._rows,[...r])),this.coreDetail.delEmptySection(this)}rowChanged(){let n=ye(this._rows);oe(this._rows,[...n])}}class yy extends To{constructor(n,r,i,s){super();x(this,"uq");x(this,"biz");x(this,"entitySheet");x(this,"main");x(this,"detail");x(this,"detailExs",[]);x(this,"caption");x(this,"idOnUrl");this.uq=n,this.biz=r,this.entitySheet=i,this.main=new LM(this),s>0&&(this.idOnUrl=s,this.main.setId(s));const{details:l}=this.entitySheet;let o=l.length;if(o>0){const{bin:u,caption:c}=l[0];this.detail=new qM(this,u,c)}for(let u=1;u<o;u++){const{bin:c,caption:d}=l[u];this.detailExs.push(new UM(this,c,d))}this.caption=i.caption??i.name}async load(){let{id:n}=this.main.binRow;if(n===void 0||n===0)return;let{main:r,details:i,buds:s}=await this.uq.GetSheet.query({id:n});const l={};for(let{id:u,bud:c,value:d}of s){let h=l[u];h===void 0&&(l[u]=h={}),h[c]=d}let o=r[0];o.buds=l[n]??{},this.main.setValue(o);for(let u of i){const{id:c}=u;u.buds=l[c]??{}}this.detail.addRowValues(i)}async discard(){let{binRow:{id:n}}=this.main;if(n>=0)return await this.uq.RemoveDraft.submit({id:n}),n}async start(n){let r=await this.main.start(n);if(r!==void 0)return r}async saveProp(n,r,i,s,l){await this.uq.SaveBudValue.submit({phraseId:r,id:n,int:i,dec:s,str:l})}}const $M=Math.pow(2,20);function kw({id:e}){return a.jsx("span",{className:"small text-secondary",children:a.jsx(su,{date:e/$M*60})})}function VM({main:e}){const{no:t,entityMain:n,_binRow:r}=e,{i,x:s,props:l}=n,o=je(r),{id:u,i:c,x:d,buds:h}=o;let{length:m}=l,v=[];const y=[v];for(let f=0;f<m;f++){let p=l[f],{id:j,caption:b,name:k}=p,_=h[j];if(v.push(a.jsxs("div",{className:"col-3",children:[a.jsx("div",{className:"small text-secodary",children:b??k}),a.jsx("div",{className:"py-1",children:a.jsx(XO,{bizBud:p,id:u,value:_,onChanged:w})})]},j)),f===m-1)break;f%4===3&&(v=[],y.push(v))}function w(f,p){h[f.id]=p,oe(r,{...o})}let S;m>0&&(S=y.map((f,p)=>a.jsx("div",{className:"row py-3 border-bottom border-secondary-subtle",children:f},p)));function g({bud:f,value:p}){if(f===void 0)return null;const{caption:j,name:b}=f;return a.jsxs("div",{className:"col-3",children:[a.jsx("div",{className:"small text-secondary",children:j??b}),a.jsx(jM,{id:p})]})}return a.jsxs("div",{className:"tonwa-bg-gray-3 px-3 container",children:[a.jsxs("div",{className:"row py-3 border-bottom border-secondary-subtle",children:[a.jsxs("div",{className:"col-3",children:[a.jsx("div",{className:"small text-secondary",children:"单据编号"}),a.jsx("div",{children:a.jsx("b",{children:t})}),a.jsx(kw,{id:u})]}),a.jsx(g,{bud:i,value:c}),a.jsx(g,{bud:s,value:d})]}),S]})}function Cw({row:e,rowStore:t}){const{closeModal:n}=ue(),{register:r,handleSubmit:i,setValue:s,formState:{errors:l}}=En({mode:"onBlur"}),{props:o,section:u}=e,{entityBin:c}=u.coreDetail,{i:d,x:h}=c,[m,v]=E.useState(t.submitable);async function y(b){const{type:k,value:_,name:C}=b.target;let N;if(k==="number")if(_.trim().length===0)N=void 0;else{let D=Number(_);N=Number.isNaN(D)===!0?void 0:D}else N=_;t.setValue(C,N,(D,I)=>{s(D,I)}),v(t.submitable)}const w={onChange:y},S=t.buildFormRows();S.forEach(b=>b.options={...b.options,...w}),S.push({type:"submit",label:"提交",options:{disabled:m===!1}});async function g(b){n(!0)}async function f(){await e.delFromSection(),n()}const p=a.jsx(mi,{onClick:f,className:"btn btn-sm btn-primary me-1",children:a.jsx(J,{name:"trash",fixWidth:!0})});function j({bud:b,value:k}){if(b===void 0)return null;const{caption:_,name:C}=b;return a.jsx(Et,{label:_??C,className:"border-bottom py-2",children:a.jsx("div",{className:"px-3",children:a.jsx(Rr,{id:k})})})}return a.jsxs(H,{header:"输入明细",right:p,children:[a.jsxs("div",{className:"py-1 tonwa-bg-gray-2 mb-3 container",children:[a.jsx(j,{bud:d,value:t.binDetail.i}),a.jsx(j,{bud:h,value:t.binDetail.x})]}),a.jsx("form",{className:"container",onSubmit:i(g),children:a.jsx(Wn,{rows:S,register:r,errors:l})})]})}function zM(e){async function t(n,r){}return E.useCallback(t,[])}class vs{constructor(t,n){x(this,"name");x(this,"bud");x(this,"binDetail");this.name=t.name,this.bud=t,this.binDetail=n}}class BM extends vs{getValue(){return this.binDetail.i}setValue(t){this.binDetail.i=t}}class YM extends vs{getValue(){return this.binDetail.x}setValue(t){this.binDetail.x=t}}class WM extends vs{getValue(){return this.binDetail.value}setValue(t){this.binDetail.value=t}}class HM extends vs{getValue(){return this.binDetail.price}setValue(t){this.binDetail.price=t}}class QM extends vs{getValue(){return this.binDetail.amount}setValue(t){this.binDetail.amount=t}}class GM extends vs{getValue(){return this.binDetail.buds[this.bud.id]}setValue(t){this.binDetail.buds[this.bud.id]=t}}class Rd{constructor(t){x(this,"fields");x(this,"fieldColl",{});x(this,"calc");x(this,"requiredFields",[]);x(this,"binDetail",{buds:{}});this.fields=[];const{i:n,x:r,value:i,price:s,amount:l,props:o}=t;let u=this.requiredFields;n!==void 0&&this.initField(new BM(n,this.binDetail),!1),r!==void 0&&this.initField(new YM(r,this.binDetail),!1),i!==void 0&&this.initField(new WM(i,this.binDetail)),s!==void 0&&this.initField(new HM(s,this.binDetail)),l!==void 0&&this.initField(new QM(l,this.binDetail));for(let d of o)this.initField(new GM(d,this.binDetail));const c={};for(let d in this.fieldColl){let h=this.fieldColl[d],{name:m,bud:v}=h;this.fieldColl[m]=h;let{defaultValue:y}=v;y!==void 0?(c[m]=y,y.endsWith(`
init`)===!0&&u.push(h)):u.push(h)}this.calc=new jw(c,this.binDetail)}initField(t,n=!0){this.fieldColl[t.name]=t,n===!0&&this.fields.push(t)}init(t){this.calc.init(t)}setValues(t){Object.assign(this.binDetail,t),this.calc.setValues(t)}setValue(t,n,r){const i=(s,l)=>{r==null||r(s,l),this.binDetail[s]=l};this.binDetail[t]=n,this.calc.setValue(t,n,i)}get submitable(){let t=!0;for(let n of this.requiredFields)if(this.calc.values[n.name]===void 0)return!1;return t}buildFormRows(){return this.fields.map(t=>{const{name:n,bud:r}=t,{caption:i,budDataType:s}=r;let l=this.calc.immutable(n),o={name:n,label:i??n,type:"number",options:{value:t.getValue(),disabled:l}};switch(s.type){case de.char:case de.str:o.type="text";break;case de.dec:let u="0.000001";const{fraction:c}=s;c!==void 0&&(u=String(1/Math.pow(10,c)),o.step=u),o.options.valueAsNumber=!0;break}return o})}}function KM({detail:e,editable:t}){const n=je(e._sections),{caption:r}=e;return a.jsxs("div",{children:[a.jsx("div",{className:"py-1 px-3 tonwa-bg-gray-2",children:r??"明细"}),a.jsx("div",{children:n.map(i=>a.jsx(XM,{section:i,editable:t},i.keyId))})]})}function XM({section:e,editable:t}){const{coreDetail:n}=e,{entityBin:r}=n,{x:i}=r,s=zM(),l=je(e._rows);async function o(){await s(e,void 0)}let u;if(i===void 0){let c=l[0];c!==void 0&&(u=a.jsx(vy,{row:c,editable:t}))}else u=a.jsxs(a.Fragment,{children:[a.jsxs(Ve,{className:"tonwa-bg-gray-1 pt-1 px-3",children:[a.jsx("div",{className:"small text-secondary",children:"分组"}),a.jsx("button",{className:"btn btn-sm btn-link",disabled:!t,onClick:o,children:a.jsx(J,{name:"plus"})})]}),l.map(c=>a.jsxs(re.Fragment,{children:[a.jsx(vy,{row:c,editable:t}),a.jsx(ge,{sep:2})]},c.keyId))]});return a.jsx("div",{className:"border-top",children:u})}function vy({row:e,editable:t}){const{openModal:n}=ue(),{props:r,section:{coreDetail:{entityBin:i}}}=e,{i:s,x:l,price:o,value:u,amount:c}=i;let{i:d,x:h,value:m,price:v,amount:y}=r;async function w(){if(t===!1)return;const b=new Rd(i);b.setValues(r),await n(a.jsx(Cw,{row:e,rowStore:b}))===!0&&(Object.assign(r,b.binDetail),await e.changed())}function S({caption:b,value:k}){return a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("span",{className:"me-3 small text-secondary",children:b}),a.jsx("span",{className:"w-min-4c",children:k})]})}m===void 0&&(m=0);let g=t===!0?"cursor-pointer":"text-light";function f({bud:b,value:k}){return b===void 0?null:a.jsx("div",{children:a.jsx(Rr,{id:k})})}let p;o!==void 0&&(p=a.jsx(S,{caption:"单价",value:o.valueToContent(v)}));let j;return c!==void 0&&(j=a.jsx(S,{caption:"金额",value:c.valueToContent(y)})),a.jsxs("div",{className:"py-2 align-items-stretch row",children:[a.jsx("div",{className:"col-4",children:a.jsx("div",{className:"ps-3",children:a.jsx(f,{bud:s,value:d})})}),a.jsx("div",{className:"col-4",children:a.jsx("div",{className:"ps-3",children:a.jsx(f,{bud:l,value:h})})}),a.jsx("div",{className:"col-3",children:a.jsxs("div",{className:"pe-3 text-end d-flex flex-column align-items-end",children:[a.jsx(S,{caption:"数量",value:a.jsx("span",{className:"fs-larger fw-bold",children:m})}),p,j]})}),a.jsx("div",{className:"col-1",children:a.jsx("div",{className:"text-end text-info d-flex flex-column ",children:a.jsx("div",{className:"ps-2 pe-3 "+g,onClick:w,children:a.jsx(J,{name:"pencil",fixWidth:!0})})})})]})}function ZM(e){const{openModal:t}=ue(),{entityBin:n}=e,r=qh(n);async function i(){let s=await r();if(s===void 0)return;let[l,o,u]=s;if(Array.isArray(u)===!0){if(e===void 0){alert("Pick Pend on main not implemented");return}for(let c of u){let d=new Ro(e);e.addSection(d),l[o.name]=c;let h=new Rd(n);h.init(l);let{binDetail:m}=h;m.value===void 0&&h.setValue("value",0,void 0),await d.addRowProps(Object.assign({},c,m))}}else{let c=new Ro(e),d=new Uh(c);e.addSection(c);const h=new Rd(n);h.init(l),await t(a.jsx(Cw,{row:d,rowStore:h}))===!0&&(Object.assign(d.props,h.binDetail),await d.addToSection())}}return E.useCallback(i,[])}let JM=1;function gy(){const e=G(),{uq:t,biz:n}=e,{sheet:r,id:i}=un(),s=n.entityFrom62(r),l=kn(i),[o,u]=E.useState(),c=Vr(),d=qh(s.main);return E.useEffect(()=>{if(!c.state)return;let h=new yy(t,n,s,void 0);u(h),_w(e,h,d)},[c.state]),$t(()=>{(async function(){let h=new yy(t,n,s,i===void 0?void 0:l);await h.load(),u(h)})()}),o===void 0?a.jsx(qn,{header:"..."}):a.jsx(eF,{store:o})}async function _w(e,t,n){let r=await t.start(n);if(r===void 0)return;let{id:i,no:s,target:l}=r;if(i>0){let o=e.pageCache.getPrevData();if(o){const{phrase:u}=t.entitySheet;o.addItem({id:i,no:s,target:l,phrase:u})}}}function eF({store:e}){const{uq:t,caption:n,main:r,detail:i}=e,s=G(),l=qh(r.entityMain),{openModal:o,closeModal:u}=ue(),c=Dn(),[d,h]=E.useState(!0),m=ZM(i),v=E.useCallback(async function(){_w(s,e,l)},[]);$t(()=>{v()});async function y(){var D;h(!1),await Xg(3e3);let C=await t.SubmitSheet.submit({id:r.binRow.id});if(w(),h(!0),(D=s.autoRefresh)==null||D.call(s),await o(a.jsxs(H,{header:"提交成功",back:"none",children:[a.jsxs("div",{className:"p-3",children:[n," ",a.jsx("b",{children:r.no})," 已提交 ",JSON.stringify(C)]}),a.jsxs("div",{className:"border-top p-3",children:[a.jsx("button",{className:"btn btn-outline-primary",onClick:u,children:"返回"}),a.jsxs("button",{className:"ms-3 btn btn-outline-secondary",onClick:()=>u(!0),children:["新建",n]})]})]}))===!0){const{entitySheet:I}=e;c(`/sheet/${jn(I.id)}`,{replace:!0,state:JM++})}else c(-1)}function w(){let{binRow:{id:C}}=r,N=s.pageCache.getPrevData();N&&N.removeItem(D=>D.id===C)}async function S(){await m()}async function g(){let C=`${n} ${r.no} 真的要作废吗？`;await o(a.jsx(Fa,{header:"确认",message:C,yes:"单据作废",no:"不作废"}))===!0&&(await e.discard(),w(),c(-1))}let f=je(i._sections),p,j;f.length===0?j="btn btn-primary me-3":(p=a.jsx(mi,{className:"btn btn-primary me",onClick:y,disabled:f.length===0,children:"提交"}),j="btn btn-outline-primary me-3");let b,{id:k}=je(r._binRow);async function _(){await v()===void 0&&await m()}return k===0?b=a.jsx("div",{className:"p-3",children:a.jsx("button",{className:"btn btn-primary",onClick:_,children:"开始录单"})}):b=a.jsxs(a.Fragment,{children:[a.jsx(VM,{main:r}),a.jsx(KM,{detail:i,editable:d}),a.jsxs(Ve,{className:"px-3 py-3 border-top",children:[p,d===!0&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:j,onClick:S,children:[a.jsx(J,{name:"plus",className:"me-1"}),"明细"]}),k&&a.jsx("button",{className:"btn btn-outline-primary",onClick:g,children:"作废"})]})]})]}),a.jsx(H,{header:n,children:b})}function tF(e){if(typeof e=="string"){if(e!==":assign")debugger;return e}return jn(e)}function nF(){const{assign:e}=un();let t=kn(e);const n=G(),{uq:r,biz:i}=n,s=i.entityIds[t];return{page:a.jsx(l,{})};function l(){const{id:o,name:u,caption:c}=s,[d,h]=E.useState({assign:o,params:{}}),m=E.useCallback(async function(w,S,g){return(await r.GetAssigns.page(d,S,g)).$page},[]);function v({value:w}){return a.jsxs("div",{className:"px-3 py-2 d-flex",children:[a.jsx("div",{className:"flex-grow-1",children:a.jsx(yt,{value:w})}),s.titles.map((S,g)=>{async function f(p){let{value:j}=p.currentTarget,b=Number(j);Number.isNaN(b)!==!0&&await r.SaveBudValue.submit({phraseId:S.id,id:w.id,int:void 0,dec:b,str:void 0})}return a.jsx("input",{onBlur:f,defaultValue:w.values[g],className:"w-8c form-control ms-3 text-end align-self-start",type:"number"},g)})]})}const y=s.titles.map(w=>w.caption??w.name);return a.jsxs(fn,{header:c??u,query:m,param:d,sortField:"id",ViewItem:v,children:[a.jsx("div",{className:"px-3 my-3",children:s.atoms.map(w=>w.caption??w.name).join(", ")}),a.jsxs("div",{className:"d-flex px-3",children:[a.jsx("div",{className:"flex-grow-1"}),y.map((w,S)=>a.jsx("div",{className:"w-8c text-end ms-3 me-2 small",children:w},S))]})]})}}function Nw(e){return`assign/${tF(e)}`}function rF({entityReport:e}){const{uq:t}=G(),{id:n,from:r,title:i}=e;let s=8,l=6,o=1;const[u,c]=Dh(s,l,o,m),d=je(u.state),h={reportPhrase:n,atomPhrase:r.id,atomId:void 0,dateStart:d.from,dateEnd:d.to,params:{a:1}};async function m(S){}const v=E.useCallback(async(S,g,f)=>{let{$page:p,specs:j}=await t.GetReport.page(S,g,f),b=[],k={};for(let _ of p){let C={..._,specs:[]};const{id:N}=C;k[N]=C,b.push(C)}for(let _ of j){let{base:C}=_,N=k[C];N!==void 0&&N.specs.push(_)}return b},[]);function y({values:S,titles:g,isSum:f}){let p=f===!0?"fw-bold":"";return a.jsx("div",{className:"d-flex",children:g.map((j,b)=>{const{caption:k,bud:{caption:_,name:C}}=j;return a.jsxs("div",{className:"w-6c",children:[a.jsx("div",{className:"small text-secondary text-end",children:k??_??C}),a.jsx("div",{className:"text-end "+p,children:S[b]})]},b)})})}function w({value:S}){const{no:g,ex:f,specs:p}=S,j=[];for(let b of p){const{value:k}=b;if(k===void 0)continue;const{length:_}=k;for(let C=0;C<_;C++){let N=j[C];N===void 0&&(N=0),N+=k[C],j[C]=N}}return a.jsxs("div",{className:"",children:[a.jsxs("div",{className:"px-3 py-2 tonwa-bg-gray-2 d-flex align-items-end",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("div",{className:"small text-secondary",children:g}),a.jsx("div",{children:a.jsx("b",{children:f})})]}),a.jsx(y,{values:j,titles:i,isSum:!0}),a.jsx(J,{name:"angle-right",className:"ms-5 invisible"})]}),a.jsx("div",{className:"ms-5 border-start",children:p==null?void 0:p.map(b=>{let{id:k,phrase:_,value:C,props:N}=b;return a.jsx(xe,{to:Gr("../history",i[0].bud.id,k),children:a.jsxs("div",{className:"d-flex ps-3 pe-3 py-2 border-bottom align-items-center",children:[a.jsx(kM,{phrase:_,props:N}),a.jsx("div",{className:"flex-grow-1"}),a.jsx(y,{values:C,titles:i}),a.jsx(J,{name:"angle-right",className:"ms-5"})]})},k)})})]})}return a.jsx(fn,{header:e.caption??e.name,query:v,param:h,sortField:"id",ViewItem:w,children:a.jsx(Ih,{period:u,setEnumPeriod:c})})}function iF(e){if(typeof e=="string"){if(e!==":report")debugger;return e}return jn(e)}function Dw(e){return`report/${iF(e)}`}const Iw="sheets",Lo="ref";function sF(){const{report:e}=un();let t=kn(e);const n=G(),{biz:r}=n,i=r.entityIds[t];return{page:a.jsx(rF,{entityReport:i})}}function aF(){const{uq:e,biz:t}=G(),{title:n,id:r}=un(),i=kn(r),s=kn(n),l={objId:i,title:s};function o({value:u}){let{id:c,value:d,ref:h,plusMinus:m,sheetNo:v,sheetPhrase:y,binPhrase:w}=u,S=t.entityIds[w];if(S===void 0)return a.jsxs("div",{className:"px-3 py-2",children:[a.jsx(J,{name:"exclamation-circle",className:"text-danger me-2"}),a.jsxs("span",{className:"text-secondary",children:["数据错误。应该是以前版本的数据 id:",c," ref:",h," ",w]})]});let{caption:g,name:f}=S;return a.jsx(xe,{to:ah(Lo,h,void 0),children:a.jsxs("div",{className:"px-3 py-2 d-flex",children:[a.jsx("div",{className:"w-8c small text-secondary",children:a.jsx(su,{date:c/(1024*1024)*60})}),a.jsx("div",{className:"me-3",children:v}),a.jsx("div",{className:"flex-grow-1",children:g??f}),a.jsx("div",{className:"fw-bold",children:d})]})})}return a.jsx(fn,{header:"流水",query:e.GetHistory,param:l,sortField:"id",ViewItem:o,children:a.jsx("div",{className:"p-3 tonwa-bg-gray-2",children:a.jsx(Rr,{id:i})})})}function xy(){const{uq:e}=G(),{id:t}=un(),n=kn(t),{data:r}=$n([n],async()=>await e.GetSheet.query({id:n}),zn),{main:[i],details:s,origins:l}=r,o="单据详情";let u;if(i===void 0)u=a.jsx("div",{className:"p-3",children:"不可看"});else{const{id:c,no:d,i:h}=i;u=a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"px-3 py-3 tonwa-bg-gray-2 border-bottom",children:[a.jsx("small",{className:"text-secondary",children:"单据编号: "}),a.jsx("b",{children:d}),a.jsx("span",{className:"ms-3 small text-secondary",children:a.jsx(su,{date:c/(1024*1024)*60})})]}),a.jsx("div",{className:"px-3 py-2 tonwa-bg-gray-1",children:a.jsx("div",{children:a.jsx(Rr,{id:h})})}),a.jsx("div",{className:"border-top",children:s.map(m=>a.jsxs("div",{className:"px-3 py-2 d-flex border-bottom",children:[a.jsx("div",{className:"flex-grow-1",children:a.jsx(Rr,{id:m.i})}),a.jsx("div",{className:"fw-bold",children:m.value})]},m.id))}),a.jsxs("div",{className:"px-3 py-2 d-none",children:["orgiins: ",JSON.stringify(l)]})]})}return a.jsx(H,{header:o,children:u})}const Ew="业务单据详情";function lF(){const{uq:e,biz:t}=G();let n=8,r=6,i=1;const[s,l]=Dh(n,r,i,c),o=je(s.state),{data:u}=$n([o.from,o.to],async()=>{let{ret:h}=await e.GetSiteSheets.query({from:o.from,to:o.to,timeZone:n});return h},zn);async function c(h){}function d({value:h}){const{phrase:m,count:v}=h;let y=t.entityIds[m];return a.jsx(xe,{to:ah(Pw,y.id,void 0),children:a.jsxs("div",{className:"px-3 py-3 d-flex",children:[a.jsx("div",{className:"flex-grow-1",children:y.caption??y.name}),a.jsx("div",{className:"fw-bold",children:v}),a.jsx("div",{className:"ms-5",children:a.jsx(J,{name:"angle-right"})})]})})}return a.jsxs(H,{header:Ew,children:[a.jsx(Ih,{period:s,setEnumPeriod:l}),a.jsx(Be,{items:u,ViewItem:d})]})}const Pw="sheets-list";function oF(){const{uq:e,biz:t}=G(),{sheet62:n}=un();let r=kn(n),i=t.entityIds[r];function s({value:l}){return a.jsx(xe,{to:ah(Lo,l.id,void 0),children:a.jsx(_M,{value:l})})}return a.jsx(fn,{header:i.caption??i.name,query:e.GetSiteSheetList,sortField:"id",param:{phrase:i.id},ViewItem:s})}function wy(e,t,n){if(n!==void 0){let r;n.required===!0&&(r="请输入",typeof t=="string"&&(r+=t));let i;const{min:s}=n;s!==void 0&&(i={value:s,message:`最小值${s}`});let l;const{max:o}=n;return o!==void 0&&(l={value:o,message:`最大值${o}`}),{...n,required:r,min:i,max:l}}switch(e){default:return n;case"number":return Object.assign({},n,{valueAsNumber:!0})}}function uF(e){var v;const{inputProps:t,errors:n,type:r,step:i,defaultValue:s,right:l,labelClassName:o}=e;let{label:u}=e;const{name:c}=t;let d=n[c],h="form-control ";d&&(h+="is-invalid");let m=a.jsx("input",{...t,className:h,type:r,step:i,defaultValue:s});return l!==void 0&&!d&&(m=a.jsxs("div",{className:"input-group",children:[m,a.jsx("span",{className:"input-group-text",children:l})]})),r==="hidden"&&(u=null),a.jsxs(Et,{label:u,labelClassName:o,children:[m,d&&a.jsx("div",{className:"invalid-feedback mt-1",children:(v=d.message)==null?void 0:v.toString()})]})}function Et({label:e,labelClassName:t,children:n,className:r}){return t=t??"form-label col-sm-2 col-3 text-end",a.jsxs("div",{className:e===null?"d-none":"row "+(r??"mb-3"),children:[a.jsx("label",{className:t,children:e}),a.jsx("div",{className:"col",children:n})]})}function Wn(e){let{rows:t}=e;return a.jsx(a.Fragment,{children:t.map((n,r)=>a.jsx(cF,{row:n,...e},r))})}function cF({row:e,register:t,errors:n,labelClassName:r,clearErrors:i,setValue:s}){var g;const{label:l,inputs:o}=e;if(t&&o!==void 0)return a.jsx(Et,{label:l,labelClassName:r,children:o.map((f,p)=>{const{label:j,name:b,type:k,options:_,readOnly:C}=f;if(k==="checkbox")return a.jsxs("label",{className:"form-check-label me-3",children:[a.jsx("input",{className:"form-check-input me-1",type:"checkbox",readOnly:C,...t(b)}),j??b]},p);{let N=wy(k,j,_);({...t(b,N)})}})});const{radios:u}=e;if(u!==void 0){const{name:f,default:p,readOnly:j}=e;return a.jsx(Et,{label:l,children:u.map((b,k)=>{const{label:_,value:C}=b;return a.jsxs("label",{className:"form-check-label me-3",children:[a.jsx("input",{className:"form-check-input me-1",defaultChecked:C===p,readOnly:j,value:C,type:"radio",...t(f)}),_??f]},k)})})}const{items:c}=e;if(c!==void 0){const{name:f,multiple:p,default:j,placeHolder:b,options:k,readOnly:_}=e;let C=n[f],N="form-select ";C&&(N+="is-invalid");const D=`
`;return k!==void 0&&k.required===!0&&(k.validate=I=>{let A=I!==D;return console.error("select "+I+" ret "+A),A}),a.jsxs(Et,{label:l,labelClassName:r,children:[a.jsxs("select",{multiple:p,className:N,...t(f,k),children:[j===void 0&&a.jsx("option",{selected:!0,disabled:!0,value:D,children:b??"请选择"+l}),c.map((I,A)=>{const{label:M,value:F}=I;return a.jsx("option",{value:F,selected:j===F,children:M},A)})]}),C&&a.jsx("div",{className:"invalid-feedback mt-1",children:(g=C.message)==null?void 0:g.toString()})]})}const{atom:d}=e;if(d!==void 0){let{name:f,options:p}=e,j=n[f];return a.jsx(dF,{row:e,label:l,error:j,inputProps:t(f,p),setValue:s,clearErrors:i})}const{name:h,type:m,readOnly:v,right:y,step:w,options:S}=e;switch(m){default:const f=S.required===!0?a.jsx("b",{className:"text-primary",children:l}):l;let p=wy(m,l,S);return a.jsx(uF,{label:f,type:m,step:w,errors:n,labelClassName:r,inputProps:t(h,p),defaultValue:S==null?void 0:S.value,right:y});case"submit":return a.jsx(Et,{children:a.jsx("input",{type:"submit",disabled:S==null?void 0:S.disabled,readOnly:v,className:e.className??"btn btn-primary",value:l??"提交"})})}}function dF({row:e,label:t,error:n,inputProps:r,clearErrors:i,setValue:s}){var j;const l=G(),{uq:o}=l,u=Lh(),{name:c,atom:d,default:h,readOnly:m}=e,[v,y]=E.useState(h);async function w(){if(m===!0)return;i==null||i(c);let b=await u(d);if(b===void 0)return;const{id:k}=b;s(c,k),y(k)}function S({value:b}){const{no:k,ex:_}=b;return a.jsxs(a.Fragment,{children:[_,"   ",a.jsx("small",{className:"text-muted",children:k})]})}let g;if(v===void 0){let{placeHolder:b}=e;b||(b="点击选择"),g=a.jsxs("span",{className:"text-black-50",children:[a.jsx(J,{name:"hand"})," ",b]})}else g=a.jsx(Ht,{uq:o,id:v,Template:S});let f="form-control ";m!==!0&&(f+=" cursor-pointer ");let p;return n&&(f+="is-invalid",p=a.jsx("div",{className:"invalid-feedback mt-1",children:(j=n.message)==null?void 0:j.toString()})),a.jsxs(Et,{label:t,children:[a.jsxs("div",{className:f,onClick:w,children:[g,"  ",a.jsx("input",{name:c,type:"hidden",...r})]}),p]})}class fF{constructor(t,n){x(this,"start");x(this,"items");this.start=t,this.items=n}getItem(t,n){return this.items.find(t)}removeItem(t,n){let r=this.items.findIndex(t);r>=0&&this.items.splice(r,1)}addItem(t){this.items.unshift(t)}}function fn(e){if(E.useContext(Xf)===!0)return a.jsx(by,{...e,isPopFirst:!1,isModal:!0});return a.jsx(n,{...e});function n(r){const i=fx();return a.jsx(by,{...r,isPopFirst:i==="POP",isModal:!1})}}function by(e){let{query:t,param:n,sortField:r,pageStart:i,pageSize:s,pageMoreSize:l,ViewItem:o,onItemClick:u,onItemSelect:c,children:d,isPopFirst:h,isModal:m,Top:v,Bottom:y,none:w,itemKey:S}=e;const[g,f]=E.useState(void 0),[p,j]=E.useState(!1),b=E.useRef({param:{...n},pageStart:i,isPopFirst:h,querying:!1,items:void 0,allLoaded:!1}),{current:k}=b;mF(k.param,n)===!1&&(k.allLoaded=!1),s=s??20,l=l??5;const _=G(),C=E.useCallback(async function(z=!1){var Ne;if(n===void 0){f(null),k.items=null;return}let W=await hF(n),{pageStart:O,querying:R,isPopFirst:B,items:ee,allLoaded:ae}=k;if(ae===!0)return;if(B===!0){let Se=_.pageCache.getCache();if(Se&&m===!1&&((Ne=Se.data)==null?void 0:Ne.start)===O&&ee!==void 0)return}if(R===!0||p===!0)return;j(!0),k.querying=!0;let Ee,fe;if(k.isPopFirst===!0){setTimeout(()=>{k.isPopFirst=!1},100);let Se=_.pageCache.getCache(),Nt=Se==null?void 0:Se.data;if(O===i&&Nt&&m===!1){let{items:hn}=Nt;fe=hn,Se.data=void 0}}let _e;if(fe)_e=fe.length;else{let Nt=(z===!0?l:s)+1;if(typeof t=="function")fe=await t(W,O,Nt);else{let hn=await t.page(W,O,Nt),{$page:zr}=hn;fe=zr}_e=fe.length,_e<Nt?k.allLoaded=!0:(fe.splice(_e-1,1),_e--)}if(Ee=O===void 0||ee===void 0?fe:[...ee,...fe],f(Ee),k.items=Ee,_e>0&&(k.pageStart=fe[_e-1][r]),m===!1){let Se=_.pageCache.getCache();Se!==void 0&&(Se.data=new fF(O,Ee))}j(!1),k.querying=!1},[n]);$t(()=>{C()}),E.useEffect(()=>{k.isPopFirst!==!0&&(k.pageStart=void 0,C())},[n]),m===!1&&(_.onCloseModal=()=>{let q=_.pageCache.getCache();if(q===void 0)return;let{data:z}=q;if(z===void 0)return;let{items:W}=z,O=[...W];f(O),k.items=O});let N=!1;function D(q){setTimeout(()=>{let z=document.getElementById(q);z==null||z.scrollIntoView(),N=!1},20)}async function I(q){k.isPopFirst!==!0&&N!==!0&&(N=!0,D("$$bottom"),await C(!0))}o=o??function({value:q}){return a.jsx("div",{className:"px-3 py-2",children:JSON.stringify(q)})};let A;v&&(A=a.jsx(v,{items:g}));let M;y&&(M=a.jsx(y,{items:g}));let F;return p===!0?F=a.jsxs("div",{children:[a.jsx(os,{className:"m-3 text-info"}),a.jsx("div",{id:"$$bottom"})]}):g&&(g.length>0?F=a.jsx(a.Fragment,{children:a.jsx(Be,{items:g,ViewItem:o,onItemClick:u,onItemSelect:c,itemKey:S})}):F=w??a.jsx("div",{className:"m-3",children:"-"})),a.jsxs(H,{...e,onScrollBottom:I,children:[a.jsx("div",{id:"$$top"}),d,A,F,M]})}async function hF(e){if(!e)return e;let t={},n=[],r=[];for(let s in e){let l=e[s];Ox(l)===!0?(n.push(s),r.push(l)):t[s]=l}let i=r.length;if(i>0){let s=await Promise.all(r);for(let l=0;l<i;l++){let o=n[l];t[o]=s[l]}}return t}function mF(e,t){if(e===void 0)return t===void 0;if(t===void 0)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n)if(e[i]!==t[i])return!1;return!0}function Nn({name:e,className:t,iconClassName:n,compact:r}){let i="d-inline-block ";return r!==!0&&(i+="text-center w-1-5c "),t!==void 0&&(i+=t),a.jsx("div",{className:i,children:a.jsx("b",{children:a.jsx("i",{className:`bi-${e} `+(n??"")})})})}const jy="btn btn-sm me-2 btn-";function $h({className:e,color:t,onClick:n,children:r,tag:i}){let s;return t!==void 0?s=jy+t:e===void 0?s=jy+"primary":s=e,re.createElement(i??(n===void 0?"div":"button"),{className:s,onClick:n},r)}function pF(e){return a.jsx($h,{...e,children:a.jsx(Nn,{name:"plus-lg",compact:!0})})}function Vh({onUserAdded:e}){let{openModal:t}=ue();async function n(){let r=a.jsx("div",{className:"my-3",children:Ue("searchUser")}),i=await t(a.jsx(th,{header:Ue("user"),top:r}));if(i===void 0)return;let s=await t(a.jsx(yF,{user:i,assigned:""}));s.trim().length===0&&(s=void 0),await e(i.id,s)}return a.jsxs("button",{className:"btn btn-sm btn-link",onClick:n,children:[a.jsx(J,{name:"plus",className:"me-1"}),Ue("new")]})}function yF({user:e,assigned:t}){const{register:n,handleSubmit:r,formState:{errors:i}}=En({mode:"onBlur"}),{closeModal:s}=ue(),[l,o]=E.useState(t),u=[{name:"assigned",label:"备注名",type:"string",options:{value:t,onChange:c}},{type:"submit",label:"提交",options:{disabled:l===t}}];function c(h){o(h.currentTarget.value)}async function d(h){s(l)}return a.jsx(H,{header:"用户",children:a.jsx("div",{className:"p-3",children:a.jsxs("form",{className:"container",onSubmit:r(d),children:[a.jsx(Et,{label:"用户",children:a.jsx(nh,{user:e})}),a.jsx(Wn,{rows:u,register:n,errors:i})]})})})}function Aw({right:e}){let t=vt(),n=je(t.user);return a.jsxs(Ve,{className:"px-3 py-3 border-bottom align-items-center",children:[a.jsxs("span",{children:["[ ",a.jsx(J,{name:"user-circle",className:"me-2 text-danger"})," ",Ue("self")," - ",a.jsx(Ar,{children:n.name})," ]"]}),a.jsx("span",{children:e})]})}function zh({siteRole:e,userSite:t}){let n=G(),{openModal:r,closeModal:i}=ue(),[s,l]=E.useState(t),{name:o,icon:u,nick:c,assigned:d}=s,h=Ue("user"),m=Ue("admin"),v=Ue("owner"),y;c&&(y=a.jsx("span",{className:"d-inline me-3",children:c}));let w=d?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:d}),c?a.jsxs(Ar,{children:[y," ",h,": ",o]}):o]}):c?a.jsxs(a.Fragment,{children:[y," ",a.jsxs(Ar,{children:[h,": ",o]})]}):o;function S(){function g(){let f=je(n.user),{user:p,isOwner:j,isAdmin:b,addBy:k}=s,_;j===!0?_=v:b===!0?_=m:_=h;async function C(I){let{assigned:A}=I;await e.addUser(p,A),l({...s,assigned:A}),i()}function N(){let I,A;if(j===!0)if(k===f.id)I=rr.owner,A=v;else return null;else b===!0?(I=rr.admin,A=m):(I=rr.user,A=h);async function M(){let q=xp(Ue("userReallyDelete"),A,s.name);await r(a.jsx(Fa,{header:"确认",message:q,yes:"删除",no:"不删除"}))===!0&&(await e.delAdmin(p,I),i())}let F=xp(Ue("deleteThe"),A);return a.jsx("button",{onClick:M,className:"btn btn-sm btn-outline-primary",children:F})}function D(){if(j===!0||b===!0)return null;const I=" my-2 me-4 w-min-6c ",A=" form-check-input ",M=" me-2 ";let{biz:F}=n,{rolesAtom:q}=t,z=je(q);return a.jsx(mt,{label:"角色",children:F.roles.map((W,O)=>{let{name:R,caption:B,phrase:ee}=W,ae=(z==null?void 0:z.findIndex(fe=>fe===ee))>=0;async function Ee(fe,_e){if(await e.setUserRole(p,ee,_e),_e===!0)z.push(ee);else{let Ne=z.findIndex(Se=>Se===ee);Ne>=0&&z.splice(Ne,1)}oe(q,[...z])}return a.jsx(Rf,{onCheckChanged:Ee,labelClassName:I,inputClassName:A,gapClassName:M,defaultChecked:ae,name:R,children:B??R},O)})})}return a.jsx(H,{header:_,children:a.jsxs(pi,{values:s,className:"mx-3",children:[a.jsx(mt,{children:a.jsxs(Ve,{className:"p-3 tonwa-bg-gray-2",children:[a.jsx("div",{children:w}),a.jsx(N,{})]})}),a.jsx(Ia,{name:"assigned",label:Ue("assigned")}),a.jsx(mt,{contentContainerClassName:" my-3",children:a.jsx(yi,{onSubmit:C,children:a.jsx("div",{className:"mx-5",children:Ue("save")})})}),a.jsx("div",{className:"mt-5 mb-3",children:a.jsx(D,{})})]})})}r(a.jsx(g,{}))}return a.jsxs(Ve,{className:"my-2",children:[a.jsx(du,{className:"w-2c h-2c me-3",src:u}),a.jsx("div",{children:w}),a.jsx("div",{className:"cursor-pointer text-info",onClick:S,children:a.jsx(J,{name:"pencil"})})]})}const Bh={cnCard:" card mt-3 mx-2 "};function Ow({siteRole:e}){let t=vt(),{openModal:n,closeModal:r}=ue(),i=je(t.user),{onOwnerAdded:s}=e,l=je(e.unitRoles),{owners:o}=l,u=new ih(o,"site"),c=Ue("owner");function d({value:h}){function m(){function v(){async function y(){await e.quitOwner(),r(),r()}return a.jsx(H,{header:c,children:a.jsx("div",{className:"w-20c rounded border px-3 py-4 mx-auto my-3 text-center",children:a.jsxs(Ve,{children:[a.jsx(J,{name:"question-circle-o",size:"3x",className:"text-danger me-3"}),a.jsxs("div",{className:"text-start",children:[a.jsx("b",{children:Ue("ownerReallyQuit")}),a.jsx("br",{}),a.jsx("small",{className:"text-muted",children:Ue("ownerLost")}),a.jsx("br",{}),a.jsx("br",{}),a.jsx("button",{className:"btn btn-outline-primary",onClick:y,children:Ue("ownerConfirmQuit")})]}),a.jsx("span",{})]})})})}n(a.jsx(v,{}))}if(h.user===i.id){let v;return o.length>1&&(v=a.jsx("span",{className:"cursor-pointer",onClick:m,children:a.jsx(J,{name:"times",className:"text-info"})})),a.jsx(Aw,{right:v})}return a.jsx("div",{className:"px-3 py-2",children:a.jsx(zh,{userSite:h,siteRole:e})})}return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:Bh.cnCard,children:[a.jsx("div",{className:"card-header pe-0 py-0",children:a.jsxs(Ve,{className:"align-items-center",children:[a.jsx("span",{children:c}),a.jsx(Vh,{onUserAdded:s})]})}),a.jsx(sh,{context:u,none:a.jsx(rh,{}),ViewItem:d})]}),a.jsxs("ul",{className:"small text-muted mt-2 mb-5 mx-3",children:[a.jsx("li",{children:Ue("ownerMemo1")}),a.jsx("li",{children:Ue("ownerMemo2")})]})]})}function vF({siteRole:e}){let t=G();const{biz:n}=t;let r=je(e.unitRoles),{users:i}=r,s=new ih(i,(u,c)=>u.user===c.user);function l({value:u}){let{rolesAtom:c,isAdmin:d,isOwner:h,user:m}=u,v=je(t.user),y=je(c);if(m===v.id)return null;let w=n.roles;function S({children:f}){return a.jsxs("label",{className:"me-5",children:[a.jsx("input",{type:"checkbox",className:"form-check-input",checked:!0,disabled:!0}),a.jsx("span",{children:f})]})}let g=a.jsx("div",{className:"ms-4 mt-2 form-check form-check-inline",children:h===!0?a.jsx(S,{children:"roleT('owner')"}):d===!0?a.jsx(S,{children:"roleT('admin')"}):a.jsx(a.Fragment,{children:y.map(f=>{let p=w.find(b=>b.phrase===f),j;if(p===void 0)j="role is not defined in biz";else{let{name:b,caption:k}=p;j=k??b}return a.jsxs("span",{className:"d-inline-block w-min-6c me-3",children:[a.jsx(J,{name:"user",className:"text-info me-1"})," ",j]},f)})})});return a.jsxs("div",{className:"px-3 py-2",children:[a.jsx(zh,{userSite:u,siteRole:e}),g]})}async function o(u,c){let d=await e.addUser(-u,c);d===void 0&&console.error("uqUnit.addUser error",u,c);let{items:h,atomItems:m}=s,v=h.findIndex(w=>w.user===u);v>=0&&h.splice(v,1);let y={...d,id:0,user:d.id,unit:0,admin:0,rolesAtom:ze([])};c!==void 0&&(y.assigned=c),h=[y,...h],oe(m,h)}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:Bh.cnCard,children:[a.jsx("div",{className:"card-header pe-0 py-0",children:a.jsxs(Ve,{className:"align-items-center",children:[a.jsx("span",{children:Ue("user")}),a.jsx(Vh,{onUserAdded:o})]})}),a.jsx(sh,{context:s,ViewItem:l,none:a.jsx(rh,{})})]})})}function Mw(){var t;const e=G();return Fw((t=e.uqSites)==null?void 0:t.userSite)}function gF(){const e=G();return Fw(e.uqSites.userSite0)}function Fw(e){const t=G();let n=ze({});if(E.useEffect(()=>{e!==void 0&&s()}),e===void 0)return{};let r=e.siteId,i=t.uqSites.uqMan;async function s(){try{if(e.isAdmin===!1)return;let b=await o();if(b===void 0)return;oe(n,b)}catch(b){console.error(b)}}let l;async function o(){let k=await i.entities.$role_site_users.query({site:r});if(k===void 0)return;let{users:_,roles:C}=k,N=[],D=[],I=[],A={};for(let q of _){let z={...q,rolesAtom:ze([]),permits:{}},{id:W,admin:O}=q;A[W]=z;let R=z.isAdmin=(O&1)===1;(z.isOwner=(O&2)===2)===!0?D.push(z):R===!0?I.push(z):N.push(z)}let M={},F={};for(let q of C){let{user:z,role:W}=q,O=A[z];if(O!==void 0){let{rolesAtom:B}=O,ee=ye(B);ee===void 0&&(ee=[]),ee.push(W),oe(B,ee)}let R=M[W];R===void 0&&(M[W]=R=[],F[W]=R),R.push(O)}return{owners:D,admins:I,users:N,usersOfRole:F}}async function u(){await(l==null?void 0:l()),await s()}async function c(b,k){let _=rr.admin;await h(b,_,k)}async function d(b,k){let _=rr.owner|rr.admin;await h(b,_,k)}async function h(b,k,_){await S(-b,k,_),u()}async function m(){await p(),await u()}async function v(b,k){await j(b,k),u()}async function y(b,k){return await i.entities.$role_site_add_user.submit({site:r,user:b,assigned:k}),await g(b)}async function w(b,k,_){await f(b,k,_)}async function S(b,k,_){return await i.entities.$role_site_add_admin.submit({site:r,user:b,admin:k,assigned:_}),await g(b)}async function g(b){let k=await i.syncUser(b);return i.idCacheDel(k.id),k}async function f(b,k,_){let C=_===!0?"add":"del";await i.entities.$role_site_user_role.submit({site:r,user:b,action:C,role:k})}async function p(){await i.entities.$role_site_quit_owner.submit({site:r})}async function j(b,k){await i.entities.$role_site_del_admin.submit({site:r,user:b,admin:k})}return{userSite:e,quitOwner:m,unitRoles:n,onAdminAdded:c,onOwnerAdded:d,addUser:y,delAdmin:v,setUserRole:w}}function Tw({siteRole:e}){const t=G();let{onAdminAdded:n}=e,r=je(t.user),i=je(e.unitRoles),{admins:s}=i,l=new ih(s,"site"),o=Ue("admin");function u({value:c}){return c.user===r.id?a.jsx(Aw,{}):a.jsx("div",{className:"px-3 py-2",children:a.jsx(zh,{userSite:c,siteRole:e})})}return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:Bh.cnCard,children:[a.jsx("div",{className:"card-header pe-0 py-0",children:a.jsxs(Ve,{className:"align-items-center",children:[a.jsx("span",{children:o}),a.jsx(Vh,{onUserAdded:n})]})}),a.jsx(sh,{context:l,none:a.jsx(rh,{}),ViewItem:u})]}),a.jsxs("ul",{className:"small text-muted mt-2 mb-5 mx-3",children:[a.jsx("li",{children:Ue("adminMemo1")}),a.jsx("li",{children:Ue("adminMemo2")})]})]})}function xF({admin:e,viewTop:t}){let n=Mw(),{isOwner:r,isAdmin:i}=n.userSite;return a.jsxs(H,{header:Ue(e===rr.admin?"admin":"owner"),children:[t,r===!0&&a.jsxs(a.Fragment,{children:[a.jsx(Ow,{siteRole:n}),a.jsx(Tw,{siteRole:n})]}),i===!0&&a.jsx(vF,{siteRole:n})]})}function wF({onClick:e,content:t,icon:n,iconColor:r}){return a.jsxs(Ve,{className:"p-3 cursor-pointer align-items-center",onClick:e,children:[a.jsx(J,{name:n??"cog",fixWidth:!0,className:" me-3 "+(r??" text-primary "),size:"lg"}),t,a.jsx(J,{name:"angle-right"})]})}function bF(){const e=G(),{uq:t}=e,{openModal:n,closeModal:r}=ue(),i=a.jsx("button",{className:"btn btn-sm btn-success me-1",onClick:c,children:"新增"}),[s,l]=E.useState(void 0);if($t(()=>{(async function(){const{uqMan:h}=e;let v=await h.entities.$sites.page({},void 0,100);l(v.$page)})()}),s===void 0)return a.jsx(qn,{});function o({value:h}){let{no:m,ex:v}=h;return a.jsxs("div",{className:"d-flex",children:[a.jsx("small",{className:"text-secondary me-5 w-8c",children:m}),a.jsx("b",{children:v??"(无名机构)"})]})}function u({value:h}){return a.jsx("div",{className:"px-3 py-2",children:a.jsx(o,{value:h})})}return a.jsx(H,{header:"机构管理",right:i,children:a.jsx(Be,{items:s,ViewItem:u})});async function c(){let h=a.jsx("div",{className:"my-3",children:Ue("searchUser")}),m=await n(a.jsx(th,{header:Ue("user"),top:h}));m!==void 0&&await n(a.jsx(d,{user:m}))}function d({user:h}){const{id:m,name:v,assigned:y,nick:w}=h,[S,g]=E.useState(void 0);$t(()=>{(async function(){let _=await t.IDNO({ID:"$site"});g(_)})()});const{register:f,handleSubmit:p,formState:{errors:j}}=En({mode:"onBlur"});async function b(_){const{ex:C}=_;let N=await t.CreateSiteForUser.submit({no:S,ex:C,tonwaUser:h.id}),{site:D,userSite:I}=N;l([{id:D,no:S,ex:C},...s]),r()}if(S===void 0)return a.jsx(qn,{});const k=[{name:"no",label:"编号",type:"text",options:{maxLength:20,disabled:!0,value:S}},{name:"ex",label:"名称",type:"text",options:{maxLength:50}},{type:"submit",label:"提交"}];return a.jsxs(H,{header:"新增机构",children:[a.jsxs("div",{className:"p-3 d-flex",children:[a.jsx("small",{className:"me-3",children:"机构拥有者"}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx("b",{children:y??w??v})," ",v]}),a.jsx("div",{className:"small text-secondary",children:m})]})]}),a.jsx("form",{onSubmit:p(b),className:"container my-3 pe-5",children:a.jsx(Wn,{rows:k,register:f,errors:j})})]})}}function jF(){const{openModal:e}=ue(),t=gF();function n(){e(a.jsx(bF,{}))}let{isOwner:r}=t.userSite,i=r===!0?a.jsxs(a.Fragment,{children:[a.jsx(ge,{}),a.jsx(Ow,{siteRole:t}),a.jsx(Tw,{siteRole:t})]}):void 0;return a.jsxs(H,{header:"系统管理",children:[a.jsx(wF,{content:"机构管理",onClick:n}),i,a.jsx(ge,{})]})}function Yh({value:e}){let{no:t,ex:n}=e;return a.jsxs(a.Fragment,{children:[a.jsx("b",{children:n??"(无名机构)"}),"   ",a.jsx("small",{className:"text-secondary",children:t})]})}const Rw="初始设置",SF="currency",kF="startsummonth",CF="startfiscalmonth",_F="startfiscalday",NF={[SF]:{},[kF]:{min:1,max:12},[CF]:{min:1,max:12},[_F]:{min:1,max:28}};function DF(){const e=G(),{uq:t,biz:n}=e,{data:r}=$n([],i,zn);return a.jsxs(H,{header:Rw,children:[a.jsx(Be,{items:r,ViewItem:s,onItemClick:void 0}),a.jsx(ge,{})]});async function i(){let l=await t.GetSiteSetting.query({});const{buds:o}=Xx(void 0,l),u=n.entities.sitesetting,{buds:c,props:d}=u;return d.map(m=>{const{id:v,name:y}=m,w=`${u.name}.${y}`,S=NF[w],g=o[v];return{bud:c[v],value:g,options:S}})}function s({value:l}){const{value:o,options:u,bud:c}=l;let d;return a.jsx(vw,{id:d,bizBud:c,value:o==null?void 0:o.value,options:u})}}const Lw="admin-sum-group";it.SumGroup;function IF(){const e=_u(),{entity:t,searchAtoms:n}=e;let r=t;const i=a.jsx(xe,{className:"btn btn-sm btn-success me-2",to:`../${Th(r.name)}`,children:a.jsx(J,{name:"plus"})});return a.jsx(s,{});function s(){let l=r.caption??r.name,o={atom:r.phrase,key:void 0};function u({value:d}){async function h(){return a.jsx(EF,{group:d})}return a.jsx(AN,{modal:h,children:a.jsx("div",{className:"px-3 py-2",children:a.jsx(yt,{value:d})})})}const c=a.jsxs("div",{className:"m-3 small text-muted",children:["[无",l,"]"]});return a.jsx(fn,{header:`${l}列表`,right:i,query:n,param:o,sortField:"id",ViewItem:u,none:c})}}function EF({group:e}){const{uq:t}=G(),n=a.jsx("div",{className:"m-3 small text-muted",children:"[无]"});function r({value:i}){async function s(l,o){let u=o===!0?1:-1;await t.SetSumGroupPerson.submit({group:e.id,person:i.id,act:u})}return a.jsx(Rf,{labelClassName:"d-flex px-3 py-2",onCheckChanged:s,defaultChecked:i.selected===1,children:a.jsx(yt,{value:i})})}return a.jsx(fn,{header:"成员",query:t.SearchGroupPersons,param:{group:e.id,key:void 0},sortField:"id",ViewItem:r,none:n,children:a.jsx("div",{className:"p-3 tonwa-bg-gray-2",children:a.jsx(yt,{value:e})})})}const qw="admin-sum-formula",tt={caption:"标题",person:"个人",group:"小组",sourceSubject:"源科目",peronPost:"岗位",groupPost:"职能组",sumSubject:"科目",ratio:"换算率",formula:"公式",input:"请输入"},PF={postAtom:it.SumPersonPost,postLabel:tt.peronPost,header:tt.person},AF=[["subject",tt.sourceSubject],["post",tt.peronPost],["sumSubject",tt.sumSubject]],OF={postAtom:it.SumGroupPost,postLabel:tt.groupPost,header:tt.group},MF=[["subject",tt.sourceSubject],["post",tt.groupPost],["sumSubject",tt.sumSubject]];function FF(){const{uq:e}=G(),{openModal:t,closeModal:n}=ue(),{data:[r,i]}=$n("formulas",async()=>{let{ret:h}=await e.GetAllFormula.query({}),m=[],v=[];for(let y of h)switch(y.formulaType){case ki.person:m.push(y);break;case ki.group:v.push(y);break}return[m,v]},zn);function s(h){return h.map(([m,v],y)=>a.jsxs("div",{className:"me-5",children:[a.jsx("div",{className:"small text-secondary my-1",children:m}),a.jsx(Ht,{uq:e,id:v,Template:Uw})]},y))}function l({value:h,arr:m}){const{caption:v,ratio:y}=h;return a.jsxs("div",{className:"px-3 py-2 d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("div",{children:a.jsx("b",{children:v})}),a.jsx("div",{className:"d-flex",children:s(m)})]}),a.jsx("div",{className:"fs-4 me-5",children:y})]})}function o({items:h,arr:m,caption:v,type:y}){const[w,S]=E.useState(h);function g(_){async function C(){let{id:D}=_;await e.ChangeSumFormula.submit({id:D,start:void 0,end:void 0,ratio:void 0});let I=w.findIndex(A=>A.id===D);I>=0&&w.splice(I,1),S([...w]),n()}async function N(D,I){let{id:A}=_,M=w.findIndex(W=>W.id===A);if(M<0)return;let F=w[M];async function q(){await e.ChangeSumFormulaCaption.submit({id:A,caption:I}),F.caption=I}async function z(){let W=await e.ChangeSumFormula.submit({id:A,start:void 0,end:void 0,ratio:I});F.id=W.id,F.ratio=I}switch(D){case"caption":await q();break;case"ratio":await z();break}w.splice(M,1,F),S([...w])}t(a.jsx(RF,{value:_,onInvalid:C,onValueChanged:N,arr:m}))}function f({value:_}){const C=m.map(([N,D])=>[D,_[N]]);return a.jsx(l,{value:_,arr:C})}const p=" px-3 pt-2 pb-2 tonwa-bg-gray-2 small d-flex align-items-end";async function j(_){const C={..._,formulaType:y};let{id:N}=await e.SaveSumFormula.submit(C);C.id=N,w.unshift(C),S([...w]),n()}function b(){const _=y===ki.person?PF:OF;t(a.jsx(TF,{onSubmit:j,..._}))}function k(){return a.jsxs("div",{className:p,children:[a.jsx("div",{className:"flex-grow-1",children:v}),a.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:b,children:a.jsx(J,{name:"plus"})})]})}return a.jsxs(a.Fragment,{children:[a.jsx(k,{}),a.jsx(Be,{items:w,ViewItem:f,onItemClick:g})]})}const{formula:u,person:c,group:d}=tt;return a.jsxs(H,{header:u,children:[a.jsx(o,{caption:c+u,type:ki.person,items:r,arr:AF}),a.jsx(ge,{className:"mb-3"}),a.jsx(o,{caption:d+u,type:ki.group,items:i,arr:MF})]})}function TF({postAtom:e,postLabel:t,header:n,onSubmit:r}){const{input:i,caption:s,sourceSubject:l,sumSubject:o,ratio:u}=tt,c=[{name:"caption",label:tt.caption,type:"text",options:{maxLength:100,required:i+s}},{name:"subject",label:tt.sourceSubject,atom:it.Subject,options:{required:i+l}},{name:"post",label:t,atom:e,options:{required:i+t}},{name:"sumSubject",label:tt.sumSubject,atom:it.Subject,options:{required:i+o}},{name:"ratio",label:tt.ratio,type:"number",options:{required:i+u}},{type:"submit"}],{register:d,handleSubmit:h,formState:{errors:m},clearErrors:v,setValue:y}=En({mode:"onBlur"});return a.jsx(H,{header:n+tt.formula,children:a.jsx("form",{onSubmit:h(r),className:"container my-3 pe-5",children:a.jsx(Wn,{rows:c,setValue:y,clearErrors:v,register:d,errors:m})})})}function RF({value:e,arr:t,onInvalid:n,onValueChanged:r}){const{uq:i}=G();async function s({name:o,value:u,preValue:c},d){await r(o,u)}const{caption:l}=e;return a.jsxs(H,{header:l??tt.formula,children:[a.jsxs(Yx,{className:"container",values:e,onValuesChanged:s,labelSize:3,children:[a.jsx(Ia,{label:tt.caption,name:"caption",placeholder:"公式标题"}),a.jsx(ge,{}),t.map((o,u)=>{const[c,d]=o,h=e[c];return a.jsxs(re.Fragment,{children:[a.jsx(wd,{label:d,children:a.jsx(Ht,{uq:i,id:h,Template:Uw})}),a.jsx(ge,{})]},u)}),a.jsx(Fk,{label:tt.ratio,name:"ratio"}),a.jsx(ge,{})]}),a.jsx("div",{className:"text-end p-3",children:a.jsx(mi,{className:"btn btn-sm btn-outline-primary",onClick:n,children:a.jsx(J,{name:"trash"})})})]})}function Uw({value:e}){const{no:t,ex:n}=e;return a.jsxs(a.Fragment,{children:[n,"   ",a.jsx("small",{className:"text-muted",children:t})]})}const Iu={atomName:it.Subject,NOLabel:void 0,exLabel:void 0};function LF(){let{page:e}=Ha(Iu);return e}function Sy(){let{page:e}=Qa(Iu);return e}function qF(){let e=Object.assign({},Iu,{ViewItemAtom:yt,top:void 0}),{page:t}=Wa(e);return t}const UF={name:Iu.atomName,pageNew:a.jsx(LF,{}),pageEdit:a.jsx(Sy,{}),pageList:a.jsx(qF,{}),pageView:a.jsx(Sy,{}),ViewItem:yt},Eu={atomName:it.SumPersonPost,NOLabel:void 0,exLabel:void 0};function $F(){let{page:e}=Ha(Eu);return e}function ky(){let{page:e}=Qa(Eu);return e}function VF(){let e=Object.assign({},Eu,{ViewItemAtom:yt,top:void 0}),{page:t}=Wa(e);return t}const zF={name:Eu.atomName,pageNew:a.jsx($F,{}),pageEdit:a.jsx(ky,{}),pageList:a.jsx(VF,{}),pageView:a.jsx(ky,{}),ViewItem:yt},Pu={atomName:it.SumGroupPost,NOLabel:void 0,exLabel:void 0};function BF(){let{page:e}=Ha(Pu);return e}function Cy(){let{page:e}=Qa(Pu);return e}function YF(){let e=Object.assign({},Pu,{ViewItemAtom:yt,top:void 0}),{page:t}=Wa(e);return t}const WF={name:Pu.atomName,pageNew:a.jsx(BF,{}),pageEdit:a.jsx(Cy,{}),pageList:a.jsx(YF,{}),pageView:a.jsx(Cy,{}),ViewItem:yt},Wh="admin-achieve",Hh="业绩设置";function HF(){const e=G();let t=[{path:qw,caption:"公式"},{path:Lw,caption:"销售小组"}],n=[UF,zF,WF];return a.jsxs(H,{header:Hh,children:[a.jsx(ge,{sep:3}),t.map((r,i)=>{let{path:s,caption:l}=r;return a.jsxs(re.Fragment,{children:[a.jsx(xe,{to:`../${s}`,className:"px-3 py-2 border-bottom align-items-center",children:l}),a.jsx(ge,{})]},i)}),n.map((r,i)=>{const{name:s,caption:l}=e.biz.entities[r.name];return a.jsxs(re.Fragment,{children:[a.jsx(xe,{to:`../${Ya(s)}`,className:"px-3 py-2 border-bottom align-items-center",children:l}),a.jsx(ge,{})]},i)})]})}const QF=a.jsxs(a.Fragment,{children:[a.jsx(ie,{path:Wh,element:a.jsx(HF,{})}),a.jsx(ie,{path:Lw,element:a.jsx(IF,{})}),a.jsx(ie,{path:qw,element:a.jsx(FF,{})})]}),Qh="admin-user",Gh="用户管理";function GF(){const{uq:e}=G(),{openModal:t}=ue(),[n,r]=E.useState(void 0);$t(()=>{(async function(){let u=await i(void 0);r(u)})()});async function i(u){let{users:c,atoms:d}=await e.GetIxMySum.query({userSite:u}),h=[],m={};for(let{tonwaUser:v,userSite:y}of c){let w={tonwaUser:v,userSite:y,persons:[],groups:[]};m[y]=w,h.push(w)}for(let{userSite:v,atom:y,phrase:w,no:S,ex:g}of d){let f=m[v],p;switch(w){default:debugger;break;case"person":p=f.persons;break;case"sumgroup":p=f.groups;break}p.push({id:y,no:S,ex:g})}return h}async function s(u){let[c]=await i(u),d=n.findIndex(h=>h.userSite===u);d<0?n.unshift(c):n.splice(d,1,c),r([...n])}async function l(){let u=await t(a.jsx(th,{}));if(!u)return;let{userSite:c}=await e.UserSiteFromTonwaUser.submit({tonwaUser:u.id}),[d]=await i(c);await t(a.jsx(_y,{userItems:d,onChanged:s}))}function o({value:u}){const{userSite:c,persons:d,groups:h}=u;function m({caption:y,items:w}){return w.length===0?null:a.jsxs("div",{className:"bg-white",children:[a.jsx($w,{caption:y,onEdit:void 0}),a.jsx(Be,{items:w,className:"d-flex",ViewItem:Vw,itemKey:S=>S.id})]})}async function v(){let[y]=await i(c);await t(a.jsx(_y,{userItems:y,onChanged:s}))}return a.jsxs("div",{className:"pt-3 mb-3 border-bottom bg-white",children:[a.jsxs(Ve,{className:"px-3 pb-3",children:[a.jsx(zw,{uq:e,userSite:c}),a.jsx("div",{className:"text-info cursor-pointer",onClick:v,children:a.jsx(J,{name:"pencil"})})]}),a.jsx(m,{caption:"个人",items:d}),a.jsx(m,{caption:"小组",items:h})]})}return a.jsx(H,{header:Gh,right:a.jsx(pF,{onClick:l}),children:a.jsx("div",{className:"tonwa-bg-gray-3",children:a.jsx(Be,{items:n,ViewItem:o,itemKey:u=>u.userSite})})})}function $w({caption:e,onEdit:t}){const n=" tonwa-bg-gray-1 small d-flex align-items-end";let r;return t!==void 0&&(r=a.jsx("div",{className:"text-primary cursor-pointer py-2 px-3",onClick:t,children:a.jsx(J,{name:"pencil"})})),a.jsxs("div",{className:n,children:[a.jsx("div",{className:"flex-grow-1 ps-3 py-2",children:e}),r]})}function Vw({value:e}){return a.jsx("div",{className:"px-3 py-2 mx-3 my-2 border rounded-2 w-min-12c",children:a.jsx(yt,{value:e})})}function _y({userItems:e,onChanged:t}){const{uq:n,biz:r}=G(),{userSite:i,persons:s,groups:l}=e;function o({caption:d,atomPhrase:h,items:m}){const{openModal:v}=ue(),y=E.useRef(void 0),w=E.useRef(!1),[S,g]=E.useState(m);$t(()=>{(async function(){const{$page:j}=await n.SearchAtom.page({atom:h,key:void 0},void 0,1e3);y.current=j})()});function f(j){let b=y.current.filter(k=>{let{id:_}=k;return j.find(C=>C===_)>=0});g(b)}async function p(){w.current=!1;async function j(k){let{selected:_,added:C,removed:N}=k;await n.ChangeIxMySum.submit({userSite:i,added:C.map(D=>({id:D})),removed:N.map(D=>({idDel:D}))}),f(_),w.current=!0}let b=S.map(k=>k.id);await v(a.jsx(KF,{atoms:y.current,selected:b,onSelectChanged:j})),w.current===!0&&await t(i)}return a.jsxs(a.Fragment,{children:[a.jsx($w,{caption:d,onEdit:p}),a.jsx(Be,{items:S,className:"d-flex",ViewItem:Vw})]})}const u=r.entities.person,c=r.entities.sumgroup;return a.jsxs(H,{header:"用户账户",children:[a.jsx("div",{className:"p-3",children:a.jsx(zw,{uq:n,userSite:i})}),a.jsx(o,{caption:"个人",atomPhrase:u.id,items:s}),a.jsx(o,{caption:"小组",atomPhrase:c.id,items:l})]})}function KF({atoms:e,selected:t,onSelectChanged:n}){const{closeModal:r}=ue(),i=E.useRef({selected:[...t],added:[],removed:[]}),s=e.map(u=>{const{id:c}=u;return{atom:u,sel:t.find(d=>d===c)!==void 0}});function l({value:{atom:u,sel:c}}){async function d(h){let{id:m}=u;const{selected:v,added:y,removed:w}=i.current;let S=t.findIndex(j=>j===m),g=v.findIndex(j=>j===m),f=y.findIndex(j=>j===m),p=w.findIndex(j=>j===m);h.currentTarget.checked===!0?(S<0?y.push(m):p>=0&&w.splice(p,1),g<0&&v.push(m)):(S<0?f>=0&&y.splice(f,1):w.push(m),g>=0&&v.splice(g,1)),await n(i.current)}return a.jsxs("label",{className:"d-flex p-3",children:[a.jsx("input",{type:"checkbox",className:"form-check-input me-3",defaultChecked:c,onChange:d}),a.jsx(yt,{value:u})]})}function o(){r(i.current)}return a.jsxs(H,{header:"请选择",children:[a.jsx(Be,{items:s,ViewItem:l}),a.jsx("div",{className:"p-3",children:a.jsx("button",{className:"btn btn-primary",onClick:o,children:"关闭"})})]})}function zw({uq:e,userSite:t}){function n({value:r}){const{assigned:i}=r;function s({value:l}){return a.jsx(NN,{user:l,assigned:i})}return a.jsx(Ht,{uq:e,id:r.user,Template:s})}return a.jsx(Ht,{uq:e,id:t,Template:n})}const XF=a.jsx(a.Fragment,{children:a.jsx(ie,{path:Qh,element:a.jsx(GF,{})})});function ZF({content:e}){const t=G(),{openModal:n,closeModal:r}=ue();async function i(){const{uqMan:s,biz:l}=t;let{uqApi:o}=s,{schemas:u,logs:c,hasError:d}=await o.compile(e),h,m;function v({children:w,icon:S,color:g}){return a.jsxs("div",{className:"p-3 border-bottom tonwa-bg-gray-2",children:[a.jsx(J,{className:"me-3 "+g,name:S}),w]})}d===!1?(h=ru.unpack(u),l.buildEntities(h),m=a.jsx(v,{icon:"check-circle",color:"text-success",children:"提交成功"})):m=a.jsx(v,{icon:"exclamation-circle",color:"text-danger",children:"发生错误"});let y;if(c.length>0){let w=[];c.forEach(S=>{S!==null&&w.push(...S.split(`
`))}),y=w.join(`
`)}else y=JSON.stringify(h,null,4);r(),n(a.jsxs(H,{header:"业务设计已提交",children:[m,a.jsx("pre",{className:"p-3 text-break",style:{whiteSpace:"pre-wrap"},children:y})]}))}return a.jsxs(H,{header:"业务设计",children:[a.jsx("div",{className:"px-3 py-1 tonwa-bg-gray-2 d-flex",children:a.jsx(mi,{className:"btn btn-primary me-3",onClick:i,children:"提交"})}),a.jsx("div",{className:"p-1",children:a.jsx("pre",{className:"p-3 text-break",style:{whiteSpace:"pre-wrap"},children:e})})]})}var Bw={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,l={},o={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function f(p){return p instanceof u?new u(p.type,f(p.content),p.alias):Array.isArray(p)?p.map(f):p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(f){return Object.prototype.toString.call(f).slice(8,-1)},objId:function(f){return f.__id||Object.defineProperty(f,"__id",{value:++s}),f.__id},clone:function f(p,j){j=j||{};var b,k;switch(o.util.type(p)){case"Object":if(k=o.util.objId(p),j[k])return j[k];b={},j[k]=b;for(var _ in p)p.hasOwnProperty(_)&&(b[_]=f(p[_],j));return b;case"Array":return k=o.util.objId(p),j[k]?j[k]:(b=[],j[k]=b,p.forEach(function(C,N){b[N]=f(C,j)}),b);default:return p}},getLanguage:function(f){for(;f;){var p=i.exec(f.className);if(p)return p[1].toLowerCase();f=f.parentElement}return"none"},setLanguage:function(f,p){f.className=f.className.replace(RegExp(i,"gi"),""),f.classList.add("language-"+p)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(b){var f=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(b.stack)||[])[1];if(f){var p=document.getElementsByTagName("script");for(var j in p)if(p[j].src==f)return p[j]}return null}},isActive:function(f,p,j){for(var b="no-"+p;f;){var k=f.classList;if(k.contains(p))return!0;if(k.contains(b))return!1;f=f.parentElement}return!!j}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(f,p){var j=o.util.clone(o.languages[f]);for(var b in p)j[b]=p[b];return j},insertBefore:function(f,p,j,b){b=b||o.languages;var k=b[f],_={};for(var C in k)if(k.hasOwnProperty(C)){if(C==p)for(var N in j)j.hasOwnProperty(N)&&(_[N]=j[N]);j.hasOwnProperty(C)||(_[C]=k[C])}var D=b[f];return b[f]=_,o.languages.DFS(o.languages,function(I,A){A===D&&I!=f&&(this[I]=_)}),_},DFS:function f(p,j,b,k){k=k||{};var _=o.util.objId;for(var C in p)if(p.hasOwnProperty(C)){j.call(p,C,p[C],b||C);var N=p[C],D=o.util.type(N);D==="Object"&&!k[_(N)]?(k[_(N)]=!0,f(N,j,null,k)):D==="Array"&&!k[_(N)]&&(k[_(N)]=!0,f(N,j,C,k))}}},plugins:{},highlightAll:function(f,p){o.highlightAllUnder(document,f,p)},highlightAllUnder:function(f,p,j){var b={callback:j,container:f,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",b),b.elements=Array.prototype.slice.apply(b.container.querySelectorAll(b.selector)),o.hooks.run("before-all-elements-highlight",b);for(var k=0,_;_=b.elements[k++];)o.highlightElement(_,p===!0,b.callback)},highlightElement:function(f,p,j){var b=o.util.getLanguage(f),k=o.languages[b];o.util.setLanguage(f,b);var _=f.parentElement;_&&_.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(_,b);var C=f.textContent,N={element:f,language:b,grammar:k,code:C};function D(A){N.highlightedCode=A,o.hooks.run("before-insert",N),N.element.innerHTML=N.highlightedCode,o.hooks.run("after-highlight",N),o.hooks.run("complete",N),j&&j.call(N.element)}if(o.hooks.run("before-sanity-check",N),_=N.element.parentElement,_&&_.nodeName.toLowerCase()==="pre"&&!_.hasAttribute("tabindex")&&_.setAttribute("tabindex","0"),!N.code){o.hooks.run("complete",N),j&&j.call(N.element);return}if(o.hooks.run("before-highlight",N),!N.grammar){D(o.util.encode(N.code));return}if(p&&r.Worker){var I=new Worker(o.filename);I.onmessage=function(A){D(A.data)},I.postMessage(JSON.stringify({language:N.language,code:N.code,immediateClose:!0}))}else D(o.highlight(N.code,N.grammar,N.language))},highlight:function(f,p,j){var b={code:f,grammar:p,language:j};if(o.hooks.run("before-tokenize",b),!b.grammar)throw new Error('The language "'+b.language+'" has no grammar.');return b.tokens=o.tokenize(b.code,b.grammar),o.hooks.run("after-tokenize",b),u.stringify(o.util.encode(b.tokens),b.language)},tokenize:function(f,p){var j=p.rest;if(j){for(var b in j)p[b]=j[b];delete p.rest}var k=new h;return m(k,k.head,f),d(f,k,p,k.head,0),y(k)},hooks:{all:{},add:function(f,p){var j=o.hooks.all;j[f]=j[f]||[],j[f].push(p)},run:function(f,p){var j=o.hooks.all[f];if(!(!j||!j.length))for(var b=0,k;k=j[b++];)k(p)}},Token:u};r.Prism=o;function u(f,p,j,b){this.type=f,this.content=p,this.alias=j,this.length=(b||"").length|0}u.stringify=function f(p,j){if(typeof p=="string")return p;if(Array.isArray(p)){var b="";return p.forEach(function(D){b+=f(D,j)}),b}var k={type:p.type,content:f(p.content,j),tag:"span",classes:["token",p.type],attributes:{},language:j},_=p.alias;_&&(Array.isArray(_)?Array.prototype.push.apply(k.classes,_):k.classes.push(_)),o.hooks.run("wrap",k);var C="";for(var N in k.attributes)C+=" "+N+'="'+(k.attributes[N]||"").replace(/"/g,"&quot;")+'"';return"<"+k.tag+' class="'+k.classes.join(" ")+'"'+C+">"+k.content+"</"+k.tag+">"};function c(f,p,j,b){f.lastIndex=p;var k=f.exec(j);if(k&&b&&k[1]){var _=k[1].length;k.index+=_,k[0]=k[0].slice(_)}return k}function d(f,p,j,b,k,_){for(var C in j)if(!(!j.hasOwnProperty(C)||!j[C])){var N=j[C];N=Array.isArray(N)?N:[N];for(var D=0;D<N.length;++D){if(_&&_.cause==C+","+D)return;var I=N[D],A=I.inside,M=!!I.lookbehind,F=!!I.greedy,q=I.alias;if(F&&!I.pattern.global){var z=I.pattern.toString().match(/[imsuy]*$/)[0];I.pattern=RegExp(I.pattern.source,z+"g")}for(var W=I.pattern||I,O=b.next,R=k;O!==p.tail&&!(_&&R>=_.reach);R+=O.value.length,O=O.next){var B=O.value;if(p.length>f.length)return;if(!(B instanceof u)){var ee=1,ae;if(F){if(ae=c(W,R,f,M),!ae||ae.index>=f.length)break;var Ne=ae.index,Ee=ae.index+ae[0].length,fe=R;for(fe+=O.value.length;Ne>=fe;)O=O.next,fe+=O.value.length;if(fe-=O.value.length,R=fe,O.value instanceof u)continue;for(var _e=O;_e!==p.tail&&(fe<Ee||typeof _e.value=="string");_e=_e.next)ee++,fe+=_e.value.length;ee--,B=f.slice(R,fe),ae.index-=R}else if(ae=c(W,0,B,M),!ae)continue;var Ne=ae.index,Se=ae[0],Nt=B.slice(0,Ne),hn=B.slice(Ne+Se.length),zr=R+B.length;_&&zr>_.reach&&(_.reach=zr);var Br=O.prev;Nt&&(Br=m(p,Br,Nt),R+=Nt.length),v(p,Br,ee);var Ka=new u(C,A?o.tokenize(Se,A):Se,q,Se);if(O=m(p,Br,Ka),hn&&m(p,O,hn),ee>1){var xs={cause:C+","+D,reach:zr};d(f,p,j,O.prev,R,xs),_&&xs.reach>_.reach&&(_.reach=xs.reach)}}}}}}function h(){var f={value:null,prev:null,next:null},p={value:null,prev:f,next:null};f.next=p,this.head=f,this.tail=p,this.length=0}function m(f,p,j){var b=p.next,k={value:j,prev:p,next:b};return p.next=k,b.prev=k,f.length++,k}function v(f,p,j){for(var b=p.next,k=0;k<j&&b!==f.tail;k++)b=b.next;p.next=b,b.prev=p,f.length-=k}function y(f){for(var p=[],j=f.head.next;j!==f.tail;)p.push(j.value),j=j.next;return p}if(!r.document)return r.addEventListener&&(o.disableWorkerMessageHandler||r.addEventListener("message",function(f){var p=JSON.parse(f.data),j=p.language,b=p.code,k=p.immediateClose;r.postMessage(o.highlight(b,o.languages[j],j)),k&&r.close()},!1)),o;var w=o.util.currentScript();w&&(o.filename=w.src,w.hasAttribute("data-manual")&&(o.manual=!0));function S(){o.manual||o.highlightAll()}if(!o.manual){var g=document.readyState;g==="loading"||g==="interactive"&&w&&w.defer?document.addEventListener("DOMContentLoaded",S):window.requestAnimationFrame?window.requestAnimationFrame(S):window.setTimeout(S,16)}return o}(t);e.exports&&(e.exports=n),typeof Ut<"u"&&(Ut.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,s){var l={};l["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};o["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var u={};u[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:o},n.languages.insertBefore("markup","cdata",u)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(w,S){return"✖ Error "+w+" while fetching file: "+S},s="✖ Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",u="loading",c="loaded",d="failed",h="pre[data-src]:not(["+o+'="'+c+'"]):not(['+o+'="'+u+'"])';function m(w,S,g){var f=new XMLHttpRequest;f.open("GET",w,!0),f.onreadystatechange=function(){f.readyState==4&&(f.status<400&&f.responseText?S(f.responseText):f.status>=400?g(i(f.status,f.statusText)):g(s))},f.send(null)}function v(w){var S=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(w||"");if(S){var g=Number(S[1]),f=S[2],p=S[3];return f?p?[g,Number(p)]:[g,void 0]:[g,g]}}n.hooks.add("before-highlightall",function(w){w.selector+=", "+h}),n.hooks.add("before-sanity-check",function(w){var S=w.element;if(S.matches(h)){w.code="",S.setAttribute(o,u);var g=S.appendChild(document.createElement("CODE"));g.textContent=r;var f=S.getAttribute("data-src"),p=w.language;if(p==="none"){var j=(/\.(\w+)$/.exec(f)||[,"none"])[1];p=l[j]||j}n.util.setLanguage(g,p),n.util.setLanguage(S,p);var b=n.plugins.autoloader;b&&b.loadLanguages(p),m(f,function(k){S.setAttribute(o,c);var _=v(S.getAttribute("data-range"));if(_){var C=k.split(/\r\n?|\n/g),N=_[0],D=_[1]==null?C.length:_[1];N<0&&(N+=C.length),N=Math.max(0,Math.min(N-1,C.length)),D<0&&(D+=C.length),D=Math.max(0,Math.min(D,C.length)),k=C.slice(N,D).join(`
`),S.hasAttribute("data-start")||S.setAttribute("data-start",String(N+1))}g.textContent=k,n.highlightElement(g)},function(k){S.setAttribute(o,d),g.textContent=k})}}),n.plugins.fileHighlight={highlight:function(S){for(var g=(S||document).querySelectorAll(h),f=0,p;p=g[f++];)n.highlightElement(p)}};var y=!1;n.fileHighlight=function(){y||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),y=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Bw);var JF=Bw.exports,Yw={},eT=Ut&&Ut.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=Ut&&Ut.__assign||function(){return ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ot.apply(this,arguments)},tT=Ut&&Ut.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),nT=Ut&&Ut.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rT=Ut&&Ut.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&tT(t,e,n);return nT(t,e),t},iT=Ut&&Ut.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(Yw,"__esModule",{value:!0});var Ms=rT(E),sT=13,aT=9,lT=8,oT=89,xl=90,uT=77,Ny=57,Dy=219,Iy=222,Ey=192,cT=27,Py=100,dT=3e3,fT=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),xc=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Ul="npm__react-simple-code-editor__textarea",hT=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(Ul,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(Ul,` {
    color: transparent !important;
  }

  .`).concat(Ul,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),mT=function(e){eT(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={capture:!0},n._recordCurrentState=function(){var r=n._input;if(r){var i=r.value,s=r.selectionStart,l=r.selectionEnd;n._recordChange({value:i,selectionStart:s,selectionEnd:l})}},n._getLines=function(r,i){return r.substring(0,i).split(`
`)},n._recordChange=function(r,i){var s,l,o;i===void 0&&(i=!1);var u=n._history,c=u.stack,d=u.offset;if(c.length&&d>-1){n._history.stack=c.slice(0,d+1);var h=n._history.stack.length;if(h>Py){var m=h-Py;n._history.stack=c.slice(m,h),n._history.offset=Math.max(n._history.offset-m,0)}}var v=Date.now();if(i){var y=n._history.stack[n._history.offset];if(y&&v-y.timestamp<dT){var w=/[^a-z0-9]([a-z0-9]+)$/i,S=(s=n._getLines(y.value,y.selectionStart).pop())===null||s===void 0?void 0:s.match(w),g=(l=n._getLines(r.value,r.selectionStart).pop())===null||l===void 0?void 0:l.match(w);if(S!=null&&S[1]&&(!((o=g==null?void 0:g[1])===null||o===void 0)&&o.startsWith(S[1]))){n._history.stack[n._history.offset]=ot(ot({},r),{timestamp:v});return}}}n._history.stack.push(ot(ot({},r),{timestamp:v})),n._history.offset++},n._updateInput=function(r){var i=n._input;i&&(i.value=r.value,i.selectionStart=r.selectionStart,i.selectionEnd=r.selectionEnd,n.props.onValueChange(r.value))},n._applyEdits=function(r){var i=n._input,s=n._history.stack[n._history.offset];s&&i&&(n._history.stack[n._history.offset]=ot(ot({},s),{selectionStart:i.selectionStart,selectionEnd:i.selectionEnd})),n._recordChange(r),n._updateInput(r)},n._undoEdit=function(){var r=n._history,i=r.stack,s=r.offset,l=i[s-1];l&&(n._updateInput(l),n._history.offset=Math.max(s-1,0))},n._redoEdit=function(){var r=n._history,i=r.stack,s=r.offset,l=i[s+1];l&&(n._updateInput(l),n._history.offset=Math.min(s+1,i.length-1))},n._handleKeyDown=function(r){var i=n.props,s=i.tabSize,l=i.insertSpaces,o=i.ignoreTabKey,u=i.onKeyDown;if(!(u&&(u(r),r.defaultPrevented))){r.keyCode===cT&&r.currentTarget.blur();var c=r.currentTarget,d=c.value,h=c.selectionStart,m=c.selectionEnd,v=(l?" ":"	").repeat(s);if(r.keyCode===aT&&!o&&n.state.capture)if(r.preventDefault(),r.shiftKey){var y=n._getLines(d,h),w=y.length-1,S=n._getLines(d,m).length-1,g=d.split(`
`).map(function(A,M){return M>=w&&M<=S&&A.startsWith(v)?A.substring(v.length):A}).join(`
`);if(d!==g){var f=y[w];n._applyEdits({value:g,selectionStart:f!=null&&f.startsWith(v)?h-v.length:h,selectionEnd:m-(d.length-g.length)})}}else if(h!==m){var y=n._getLines(d,h),p=y.length-1,j=n._getLines(d,m).length-1,f=y[p];n._applyEdits({value:d.split(`
`).map(function(F,q){return q>=p&&q<=j?v+F:F}).join(`
`),selectionStart:f&&/\S/.test(f)?h+v.length:h,selectionEnd:m+v.length*(j-p+1)})}else{var b=h+v.length;n._applyEdits({value:d.substring(0,h)+v+d.substring(m),selectionStart:b,selectionEnd:b})}else if(r.keyCode===lT){var k=h!==m,_=d.substring(0,h);if(_.endsWith(v)&&!k){r.preventDefault();var b=h-v.length;n._applyEdits({value:d.substring(0,h-v.length)+d.substring(m),selectionStart:b,selectionEnd:b})}}else if(r.keyCode===sT){if(h===m){var C=n._getLines(d,h).pop(),N=C==null?void 0:C.match(/^\s+/);if(N!=null&&N[0]){r.preventDefault();var D=`
`+N[0],b=h+D.length;n._applyEdits({value:d.substring(0,h)+D+d.substring(m),selectionStart:b,selectionEnd:b})}}}else if(r.keyCode===Ny||r.keyCode===Dy||r.keyCode===Iy||r.keyCode===Ey){var I=void 0;r.keyCode===Ny&&r.shiftKey?I=["(",")"]:r.keyCode===Dy?r.shiftKey?I=["{","}"]:I=["[","]"]:r.keyCode===Iy?r.shiftKey?I=['"','"']:I=["'","'"]:r.keyCode===Ey&&!r.shiftKey&&(I=["`","`"]),h!==m&&I&&(r.preventDefault(),n._applyEdits({value:d.substring(0,h)+I[0]+d.substring(h,m)+I[1]+d.substring(m),selectionStart:h,selectionEnd:m+2}))}else(xc?r.metaKey&&r.keyCode===xl:r.ctrlKey&&r.keyCode===xl)&&!r.shiftKey&&!r.altKey?(r.preventDefault(),n._undoEdit()):(xc?r.metaKey&&r.keyCode===xl&&r.shiftKey:fT?r.ctrlKey&&r.keyCode===oT:r.ctrlKey&&r.keyCode===xl&&r.shiftKey)&&!r.altKey?(r.preventDefault(),n._redoEdit()):r.keyCode===uT&&r.ctrlKey&&(!xc||r.shiftKey)&&(r.preventDefault(),n.setState(function(A){return{capture:!A.capture}}))}},n._handleChange=function(r){var i=r.currentTarget,s=i.value,l=i.selectionStart,o=i.selectionEnd;n._recordChange({value:s,selectionStart:l,selectionEnd:o},!0),n.props.onValueChange(s)},n._history={stack:[],offset:-1},n._input=null,n}return t.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(t.prototype,"session",{get:function(){return{history:this._history}},set:function(n){this._history=n.history},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this,r=this.props,i=r.value,s=r.style,l=r.padding,o=r.highlight,u=r.textareaId,c=r.textareaClassName,d=r.autoFocus,h=r.disabled,m=r.form,v=r.maxLength,y=r.minLength,w=r.name,S=r.placeholder,g=r.readOnly,f=r.required,p=r.onClick,j=r.onFocus,b=r.onBlur,k=r.onKeyUp;r.onKeyDown,r.onValueChange,r.tabSize,r.insertSpaces,r.ignoreTabKey;var _=r.preClassName,C=iT(r,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),N={paddingTop:typeof l=="object"?l.top:l,paddingRight:typeof l=="object"?l.right:l,paddingBottom:typeof l=="object"?l.bottom:l,paddingLeft:typeof l=="object"?l.left:l},D=o(i);return Ms.createElement("div",ot({},C,{style:ot(ot({},Fs.container),s)}),Ms.createElement("pre",ot({className:_,"aria-hidden":"true",style:ot(ot(ot({},Fs.editor),Fs.highlight),N)},typeof D=="string"?{dangerouslySetInnerHTML:{__html:D+"<br />"}}:{children:D})),Ms.createElement("textarea",{ref:function(I){return n._input=I},style:ot(ot(ot({},Fs.editor),Fs.textarea),N),className:Ul+(c?" ".concat(c):""),id:u,value:i,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:p,onKeyUp:k,onFocus:j,onBlur:b,disabled:h,form:m,maxLength:v,minLength:y,name:w,placeholder:S,readOnly:g,required:f,autoFocus:d,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),Ms.createElement("style",{dangerouslySetInnerHTML:{__html:hT}}))},t.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t}(Ms.Component),pT=Yw.default=mT,Fs={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}};const yT={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\-\-.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:ATOM|SHEET|prop)\b/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/};function vT({entity:e}){const t=G(),{uq:n,uqMan:r,biz:i}=t,{uqApi:s}=r,{openModal:l,closeModal:o}=ue(),{id:u,caption:c,name:d}=e,{data:h}=$n([u],async()=>{let{ret:R}=await n.GetEntityCode.query({id:u});return R[0]},zn),m=E.useRef(),v=E.useRef(),y=E.useRef(),[w,S]=E.useState(c??d);E.useEffect(()=>{let{current:R}=v;R!==void 0&&(R.style.maxHeight=R.parentElement.clientHeight+"px")});const{code:g,schema:f}=h??{},[p,j]=E.useState(g),[b,k]=E.useState(!1),[_,C]=E.useState(!0),[N,D]=E.useState(!1);if(h===void 0)return a.jsx(H,{header:"错误",children:a.jsxs("div",{className:"p-3",children:["没有能够拿到",e.name,"的code"]})});function I(R){j(R),C(!1)}async function A(){const{current:R}=m;let B=0;y.current=setInterval(()=>{R.value+=".",B+=1,B>5&&(R.value="Overtime! 5 seconds",k(!1),clearInterval(y.current),y.current=void 0)},1e3),k(!0),R.value="......";let{schemas:ee,hasError:ae,logs:Ee}=await s.compileEntity(u,p),fe;if(ae===!0)Ee===void 0&&(Ee=["编译出现内部错误"]),fe=Ee.join(`
`);else{let Ne=ru.unpack(ee);i.buildEntities(Ne),fe=`提交成功!
`+JSON.stringify(Ne,null,4)}R.value=fe,k(!1),clearInterval(y.current),y.current=void 0;let _e=i.entityIds[e.id];S(_e.caption??_e.name),C(!0)}function M(){y.current!==void 0&&clearInterval(y.current)}function F(R,B,ee){return JF.highlight(R,B,ee)}function q(R){return"btn btn-sm mx-2 my-1 "+(R??"")}async function z(){var B;function R(){const{register:ee,handleSubmit:ae,setError:Ee,formState:{errors:fe}}=En({mode:"onBlur"}),_e=async Se=>{alert("改名有问题，以后再实现")};let Ne=[{name:"name",label:"新名字",type:"text",options:{maxLength:150}},{type:"submit",label:"提交"}];return a.jsxs(H,{header:"改名",children:[a.jsx("div",{className:"container border-bottom tonwa-bg-gray-2",children:a.jsx("div",{className:"m-3 mb-0",children:a.jsx(Et,{label:"名字",children:a.jsx("div",{className:"mx-1 fw-bold",children:d})})})}),a.jsx("div",{className:"m-3",children:a.jsx("form",{className:"container",onSubmit:ae(_e),children:a.jsx(Wn,{rows:Ne,register:ee,errors:fe})})})]})}if(await l(a.jsx(R,{}))===!0){let{ret:ee}=await n.GetEntityCode.query({id:u});j((B=ee[0])==null?void 0:B.code)}}async function W(){function R(){async function ae(){let Ee=await s.delEntity(u);o(Ee)}return a.jsx(H,{header:`删除 - ${e.name}`,children:a.jsx("div",{className:"p-3",children:a.jsx("button",{className:"btn btn-primary",onClick:ae,children:"确定删除"})})})}let{hasError:B,logs:ee}=await l(a.jsx(R,{}));B===!0?m.current.value=ee===void 0?"删除出错":ee.join(`
`):(D(!0),i.delEntity(e),m.current.value="成功删除")}let O={fontSize:18,border:"none",outline:"none",overflowY:"visible",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"};return N===!0&&(O.textDecoration="line-through",O.color="lightgray"),a.jsx(H,{header:w,onClosed:M,hideScroll:!0,children:a.jsxs("div",{className:"d-flex flex-column",style:{height:"calc(100% - 1em)"},children:[N===!1&&a.jsxs("div",{className:"text-secondary tonwa-bg-gray-2 d-flex align-items-center px-1 border-bottom",children:[a.jsx(mi,{overtime:5,className:q("btn-primary"),disabled:_,onClick:A,children:"提交"}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("button",{className:q("btn-outline-primary"),onClick:z,children:"改名"}),a.jsx("button",{className:q("btn-outline-primary"),onClick:W,children:"删除"})]}),a.jsx("div",{className:"border-info rounded flex-grow-1",children:a.jsx("div",{ref:v,className:"container_editor_area w-100",children:a.jsx(pT,{className:"container__editor",autoFocus:!0,spellCheck:!1,readOnly:b||N,placeholder:"Type some code…",value:p,onValueChange:I,highlight:R=>F(R,yT,"uq"),padding:10,tabSize:4,style:O})})}),a.jsx("div",{className:"border-top border-dark h-16c",children:a.jsx("textarea",{ref:m,spellCheck:!1,readOnly:!0,className:"p-2 h-100 w-100 border-0",style:{border:"none",outline:"none",fontFamily:"monospace",resize:"none"}})})]})})}function gT(){const{right:e,view:t}=Ww();return a.jsx(H,{header:Kh,right:e,children:t})}function Ww(){const e=G(),{biz:t}=e,{openModal:n}=ue();je(t._refresh);const r=E.useRef();function i(d){n(a.jsx(ZF,{content:d}))}function s(){r.current.click()}async function l(d){let{files:h}=d.target;await o(h[0]),r.current.value=""}async function o(d){return new Promise(h=>{let m=new FileReader;m.readAsText(d),m.onloadend=async function(v){h(),i(v.target.result)}})}function u({value:d,icon:h}){const{id:m,caption:v,name:y}=d;function w(){n(a.jsx(vT,{entity:d}))}let S;return v===void 0||v===y?S=a.jsx("div",{children:y}):S=a.jsxs("div",{children:[a.jsx("div",{className:"small text-secondary",children:y}),a.jsx("div",{children:v})]}),a.jsxs("div",{className:"px-2 py-2 border border-secondary-subtle shadow-sm mx-2 my-1 rounded h-min-3c w-16c w-max-16c cursor-pointer link-primary bg-white d-flex",onClick:w,children:[a.jsx(J,{name:h,className:"mt-1 me-2 text-success"}),S]},m)}function c({entitys:d,icon:h}){let m;return d.length===0?m=a.jsx("div",{className:"m-1 text-secondary small",children:"无"}):m=d.map((v,y)=>a.jsx(u,{value:v,icon:h},v.id)),a.jsx("div",{className:"d-flex flex-wrap px-2 py-1",children:m})}return{right:a.jsx("button",{className:"btn btn-primary btn-sm me-1",onClick:s,children:"上传业务"}),view:a.jsxs("div",{className:"",children:[a.jsx("div",{className:"tonwa-bg-gray-1",children:t.all.map((d,h)=>{let{name:m,caption:v,entities:y}=d;async function w(S){S.preventDefault();const{uqMan:g}=e;let{uqApi:f}=g;await f.source(m)}return a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"bg-info-subtle bg-gradient px-3 pb-2 pt-2 small d-flex",children:[a.jsx("b",{className:"flex-grow-1",children:v}),a.jsx("a",{className:"",href:"#",onClick:w,children:"下载代码"})]}),y.map((S,g)=>{let[f,p,j]=S;if(p===void 0||f.length===0)return null;let b;return y.length>1&&(b=a.jsx("div",{className:"px-3 pt-1 pb-1 border-bottom small",children:p})),a.jsxs("div",{className:"",children:[b,a.jsx(c,{entitys:f,icon:j})]},g)})]},h)})}),a.jsx("div",{children:a.jsx("input",{ref:r,type:"file",className:"w-100 form-control-file d-none",name:"files",multiple:!1,onChange:l})})]})}}const Hw="compile",Kh="业务设计",xT=a.jsx(ie,{path:`${Hw}`,element:a.jsx(gT,{})});function wT(){const{uq:e,uqSites:t}=G(),{openModal:n}=ue(),{site:r}=un();function i({onClick:u,content:c,icon:d,iconColor:h}){return a.jsxs(Ve,{className:"px-3 py-2 align-items-center",onClick:u,children:[a.jsx(Nn,{name:d??"cog",className:" fs-x-large me-3 my-1 "+(h??" text-primary ")}),c,a.jsx(Nn,{name:"chevron-right"})]})}function s(){let{userSite0:u}=t;if(u===void 0)return null;async function c(){n(a.jsx(DF,{}))}return a.jsxs(a.Fragment,{children:[a.jsx(i,{onClick:c,content:Rw,icon:"laptop",iconColor:"text-warning"}),a.jsx(ge,{})]})}function l(){async function u(){n(a.jsx(xF,{admin:rr.owner,viewTop:a.jsx(a.Fragment,{})}))}return a.jsxs(a.Fragment,{children:[a.jsx(i,{onClick:u,content:"机构角色",icon:"person-fill-gear"}),a.jsx(ge,{})]})}const o=[{label:Hh,path:Wh},{label:Gh,path:Qh},{label:Kh,path:Hw}];return a.jsxs(H,{header:a.jsx(Ht,{uq:e,id:Number(r),Template:Yh}),children:[a.jsx(l,{}),o.map((u,c)=>{const{label:d,path:h}=u;return a.jsx(xe,{to:`../${h}`,className:"border-bottom",children:a.jsx(i,{icon:"caret-right-fill",content:d,iconColor:"text-info"})},c)}),a.jsx(s,{})]})}const Qw="site-admin",bT=a.jsx(ie,{path:`${Qw}/:site`,element:a.jsx(wT,{})}),jT="about";function ST(){const e=rx(X0),t=G(),{openModal:n}=ue(),{uq:r,user:i,uqSites:s}=t,l=je(i);function o(){if(!l)return null;let{id:v,name:y,nick:w,icon:S}=l;return a.jsx(xe,{to:tw,children:a.jsxs(Ve,{className:"py-3 px-3 w-100",children:[a.jsx(du,{className:"w-3c h-3c me-3",src:S||".user-o"}),a.jsxs("div",{children:[a.jsx("div",{children:kT(y,w)}),a.jsxs("div",{className:"small",children:[a.jsx("span",{className:"text-muted",children:"ID:"})," ",v>1e4?v:String(v+1e4).substring(1)]})]}),a.jsx(J,{className:"align-self-end",name:"angle-right"})]})})}function u({onClick:v,content:y,icon:w,iconColor:S}){return a.jsxs(Ve,{className:"p-3 cursor-pointer align-items-center",onClick:v,children:[a.jsx(J,{name:w??"cog",fixWidth:!0,className:" me-3 "+(S??" text-primary "),size:"lg"}),y,a.jsx(J,{name:"angle-right"})]})}function c(){const{uq:v}=G(),{data:y}=$n(["adminIsMe"],async()=>await v.AdminIsMe(),zn);if(y===!1)return null;let{userSite0:w}=s;if(w===void 0)return null;async function S(){n(a.jsx(jF,{}))}return a.jsxs(a.Fragment,{children:[a.jsx(u,{onClick:S,content:"系统管理",icon:"database",iconColor:"text-warning"}),a.jsx(ge,{})]})}function d(){let{mySites:v,userSite:y}=s;return a.jsx(a.Fragment,{children:v.map((w,S)=>{let{siteId:g}=w,f=(y==null?void 0:y.siteId)===g,p,j,b,k;f===!0?(p="check-circle-o",b="",j=" text-success "):(p="angle-right",b=" text-primary ",j="",k=C);let _=a.jsxs(Ve,{className:"p-3 align-items-center "+b,onClick:k,children:[a.jsx(J,{name:p,fixWidth:!0,className:" me-3 "+j,size:"lg"}),a.jsx(Ht,{uq:r,id:g,Template:Yh}),a.jsx(sw,{permit:[],children:a.jsxs("div",{children:["管理 ",a.jsx("i",{className:"bi-chevron-right"})]})})]});async function C(){f!==!0&&(await t.uqSites.setSite(g),document.location.reload())}return aw(t,[])===!0&&(_=a.jsx(xe,{to:`/${Qw}/${g}`,children:_})),a.jsxs(re.Fragment,{children:[_,a.jsx(ge,{})]},S)})})}function h(){return a.jsx(xe,{to:jT,children:a.jsxs(Ve,{className:"w-100 py-3 px-3 align-items-center",children:[a.jsx(J,{className:"text-info me-3",name:"smile-o",fixWidth:!0,size:"lg"}),a.jsxs("b",{className:"",children:[e(ce.aboutTheApp)," ",a.jsxs("small",{children:[e(ce.version)," ",t.version]})]}),a.jsx(J,{className:"align-self-center",name:"angle-right"})]})})}return a.jsx(H,{header:e(ce.me),back:"none",children:a.jsxs("div",{children:[a.jsx(o,{}),a.jsx(ge,{}),a.jsx(c,{}),a.jsx(d,{}),a.jsx(h,{}),a.jsx(ge,{})]})})}function kT(e,t){return t?a.jsx(a.Fragment,{children:a.jsxs("b",{children:[t,"   ",a.jsx("small",{className:"muted",children:e})]})}):a.jsx("b",{children:e})}const Gw="atom-center",Kw="sheet-center",Xw="report",Zw="assign-center",Jw="my",eb="act-setting",CT=[{label:"单据中心",path:Kw,icon:"file-o",phrase:sn.sheet},{label:"档案中心",path:Gw,icon:"database",iconColor:"text-succeed"},{label:"报表中心",path:Xw,icon:"calculator",iconColor:"text-info"},{label:"赋值中心",path:Zw,icon:"calculator",iconColor:"text-info"},{label:"我的",path:Jw,icon:"user-o",iconColor:"text-warning"},{label:"操作设置",path:eb,icon:"cog",iconColor:"text-info"}];function Ay(){const e=G(),{uq:t,uqSites:n}=e;let{mySites:r,userSite:i}=n;const s=" px-4 py-3 border-bottom align-items-center";return a.jsxs(H,{header:"同花",back:"none",children:[a.jsx("div",{className:"px-3 py-2 border-bottom small tonwa-bg-gray-1 text-center",children:a.jsx(Ht,{uq:t,id:i.site,Template:Yh})}),CT.map((l,o)=>{const{label:u,icon:c,iconColor:d,path:h,phrase:m}=l;function v(){e.clearNotifyCount(m)}return a.jsxs(xe,{to:h,className:s,onClick:v,children:[a.jsx(J,{name:c??"file",className:(d??"text-primary")+" me-4",fixWidth:!0,size:"lg"}),u,a.jsx(Zx,{phrase:m})]},o)})]})}function _T({balances:e}){async function t(n){}return a.jsx(a.Fragment,{children:e.map((n,r)=>a.jsx(xe,{to:"PageObjectAccountHistory/accountId",onClick:()=>t(),children:a.jsx(NT,{balance:n})},r))})}function NT({balance:e}){const{obj:t,post:n,subject:r,value:i}=e;let s="元",l=2;return a.jsxs("div",{className:"m-2 p-3 border border-3 border-info-subtle rounded rounded-3 bg-white text-center cursor-pointer w-min-12c",children:[a.jsxs("div",{className:"mb-1",children:[a.jsxs("span",{className:"text-secondary small",children:[t," ",n,"  "]}),a.jsx("span",{className:"text-primary",children:r})]}),a.jsx("div",{className:"fs-larger",children:aD(i,s,l)})]})}function DT(){const{uq:e}=G();let t=8,n=6,r=1;const[i,s]=Dh(t,n,r,m),[l,o]=E.useState(void 0),[u,c]=E.useState(void 0);async function d(y){let{from:w,to:S}=ye(y.state),g={start:w,end:S},{ret:f}=await e.GetMySums.query(g);c(f)}async function h(){let{ret:y}=await e.GetMyBalance.query({});o(y)}$t(()=>{(async()=>await Promise.all([d(i),h()]))()});async function m(y){await d(y)}let v;return l!==void 0&&(v=a.jsx(_T,{balances:l})),a.jsxs(H,{header:"我的",children:[a.jsx("div",{className:"d-flex flex-wrap p-2 justify-content-center",children:v}),a.jsx(Ih,{period:i,setEnumPeriod:s}),a.jsx(Be,{items:u})]})}const IT=a.jsx(ie,{path:Jw,element:a.jsx(DT,{})});function ET(){const{biz:e}=G(),t=e.atomRoots;function n({value:r}){const{id:i,name:s,caption:l}=r;return a.jsx(xe,{to:`../${Ya(i)}`,children:a.jsxs("div",{className:"px-3 py-2 align-items-center d-flex",children:[a.jsx(Nn,{name:"credit-card-2-front",className:"fs-larger me-3 text-info"}),a.jsx("span",{className:"text-body",children:l??s})]})})}return a.jsxs(H,{header:"档案中心",children:[a.jsx(ge,{}),a.jsx(Be,{items:t,ViewItem:n})]})}const Xh={atomName:"atom",NOLabel:void 0,exLabel:void 0};function PT(){let{page:e}=Ha(Xh);return e}function wc(){let{page:e}=Qa(Xh);return e}function AT(){let e=Object.assign({},Xh,{ViewItemAtom:yt,top:void 0}),{page:t}=Wa(e);return t}function OT(){const e=":atom";return a.jsxs(a.Fragment,{children:[a.jsx(ie,{path:Gw,element:a.jsx(ET,{})}),a.jsx(ie,{path:Th(e),element:a.jsx(PT,{})}),a.jsx(ie,{path:Ya(e),element:a.jsx(AT,{})}),a.jsx(ie,{path:RO(e),element:a.jsx(wc,{})}),a.jsx(ie,{path:Rh(e),element:a.jsx(wc,{})}),a.jsx(ie,{path:LO(e),element:a.jsx(wc,{})})]})}it.SumGroup;function MT(){const e=ue(),t=G(),{uq:n,biz:r}=t,i=r.sheets,s=E.useCallback(async(h,m,v)=>{let{$page:y}=await n.GetMyDrafts.page({},m,v);return y},[]),[l,o]=E.useState(!0);function u({value:h}){var g,f;let{caption:m,name:v,id:y,coreDetail:w}=h,S;return w!==void 0&&(S=(f=(g=w.pend)==null?void 0:g.entity)==null?void 0:f.id),a.jsx(xe,{to:`/sheet/${jn(y)}`,children:a.jsxs("div",{className:"px-3 py-2 align-items-center d-flex",children:[a.jsx(Nn,{name:"card-list",className:"fs-larger me-3 text-primary"}),a.jsx("span",{className:"text-body",children:m??v}),a.jsx(Zx,{phrase:S})]})})}function c({value:h}){const{id:m,no:v,phrase:y,i:w}=h,[S,g]=E.useState(0);let f=r.entities[y],p;if(f===void 0)p=y;else{const{caption:b,name:k}=f;p=b??k}function j({value:b}){return a.jsx("span",{children:b.ex})}if(f===void 0){async function b(){g(1),await n.RemoveDraft.submit({id:m}),g(2)}let k="px-3 py-2 small text-secondary flex-fill ";const _="px-3 text-secondary py-2 ";let C;switch(S){default:C=a.jsx("div",{className:_+"cursor-pointer",onClick:b,children:a.jsx(J,{name:"trash"})});break;case 1:C=a.jsx("div",{className:_,children:a.jsx(J,{name:"spinner",spin:!0})});break;case 2:C=a.jsx("div",{className:_,children:"已删除"}),k+="text-decoration-line-through";break}return a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:k,children:[m,": 单据定义不存在"]}),C]})}return a.jsx(xe,{to:`/sheet/${jn(f.id)}/${jn(m)}`,children:a.jsxs("div",{className:"d-flex px-3 py-3",children:[a.jsx(J,{name:"file",className:"me-3 text-danger"}),a.jsx("span",{className:"d-inline-block w-min-8c",children:p}),a.jsx("span",{className:"d-inline-block w-min-10c",children:v}),a.jsx("span",{className:"d-inline-block w-min-8c",children:a.jsx(Ht,{uq:n,id:w,Template:j})}),a.jsx("div",{className:"flex-grow-1"}),a.jsx(kw,{id:m})]})})}async function d(){await e.open(a.jsx(Fa,{header:"单据草稿",message:"真的要删除全部单据草稿吗？",yes:"删除",no:"不删除"}))===!0&&(o(!1),await n.DeleteMyDrafts.submit({}),await Xg(10),o(!0))}return l===!1?a.jsx(qn,{}):a.jsxs(fn,{header:"单据中心",query:s,param:{},sortField:"id",ViewItem:c,none:a.jsx("div",{className:"small text-secondary p-3",children:"[无]"}),children:[a.jsx(Be,{items:i,ViewItem:u}),a.jsxs("div",{className:"d-flex tonwa-bg-gray-2 ps-3 pe-2 pt-1 mt-4 align-items-end",children:[a.jsx("div",{className:"small text-secondary pb-1 flex-grow-1",children:"单据草稿"}),a.jsx("button",{className:"btn btn-sm btn-link",onClick:d,children:"全部清除"})]})]})}function FT(){return a.jsxs(a.Fragment,{children:[a.jsx(ie,{path:Kw,element:a.jsx(MT,{})}),a.jsx(ie,{path:"sheet/:sheet/:id",element:a.jsx(gy,{})}),a.jsx(ie,{path:"sheet/:sheet",element:a.jsx(gy,{})})]})}function TT(){const{biz:e}=G(),{reports:t}=e;function n({value:r}){const{id:i,caption:s,name:l}=r;return a.jsx(xe,{to:`../${Dw(i)}`,children:a.jsxs("div",{className:"py-3 pe-3",children:[a.jsx(J,{name:"id-card-o",className:"mx-4"}),s??l]})})}return a.jsx(H,{header:"报表中心",children:a.jsxs("div",{className:"mb-3",children:[a.jsx(xe,{to:`../${Iw}`,children:a.jsxs("div",{className:"pe-3 py-3",children:[a.jsx(J,{name:"address-card-o",className:"mx-4 text-info"}),Ew]})}),a.jsx(ge,{sep:2}),t.map(r=>a.jsxs(re.Fragment,{children:[a.jsx(n,{value:r}),a.jsx(ge,{})]},r.id))]})})}function RT(){let{page:e}=sF();return e}function LT(){const e=":report";return a.jsxs(a.Fragment,{children:[a.jsx(ie,{path:Xw,element:a.jsx(TT,{})}),a.jsx(ie,{path:Dw(e),element:a.jsx(RT,{})}),a.jsx(ie,{path:Gr("history","title","id"),element:a.jsx(aF,{})}),a.jsx(ie,{path:Gr(Lo,"id","d"),element:a.jsx(xy,{})}),a.jsx(ie,{path:Gr(Lo,"id",void 0),element:a.jsx(xy,{})}),a.jsx(ie,{path:Gr(Iw,void 0,void 0),element:a.jsx(lF,{})}),a.jsx(ie,{path:Gr(Pw,"sheet62",void 0),element:a.jsx(oF,{})})]})}function qT(){const e=G(),t=je(e.user),{biz:n}=e,{roles:r}=n,{uqSites:{userSite:i}}=e,s=i.permits;function l({phrase:c}){let d,h;return s[c]===!0?(d="text-success",h="check"):(d="text-danger",h="times"),a.jsx(J,{name:h,className:"me-3 "+d})}function o({permit:c,caption:d}){function h(){alert(`${d}: ${c}`)}return a.jsx(sw,{permit:c,children:a.jsxs("button",{className:"btn btn-outline-primary",onClick:h,children:[d,": ",c]})})}function u({value:c}){let{phrase:d,name:h,caption:m}=c;return a.jsxs("div",{className:"px-3 py-2 text-primary",children:[a.jsxs("div",{children:[a.jsx(l,{phrase:d}),"角色 ",d," ",h,"  ",m]}),a.jsx("div",{className:"ps-4 py-1",children:a.jsx(o,{permit:d,caption:m??h})})]})}return a.jsx(H,{header:"权限演示",children:a.jsxs("div",{children:[a.jsx("div",{className:"p-3",children:a.jsx(nh,{user:t})}),a.jsx(Be,{items:r,ViewItem:u})]})})}const tb="permits";function UT(){const{biz:e}=G();function t({value:n}){const{name:r,type:i}=n;return a.jsxs("div",{className:"px-3 py-2 d-flex",children:[a.jsx("div",{className:"me-3 w-8c",children:i}),a.jsx("div",{children:r})]})}return a.jsxs(H,{header:"操作设置",children:[a.jsx(xe,{to:"../"+tb,children:a.jsx("div",{className:"p-3",children:"权限演示"})}),a.jsx(ge,{}),a.jsx("div",{className:"",children:a.jsx(Be,{items:e.roles,ViewItem:t})})]})}const $T=a.jsxs(a.Fragment,{children:[a.jsx(ie,{path:eb,element:a.jsx(UT,{})}),a.jsx(ie,{path:tb,element:a.jsx(qT,{})})]});function VT(){const{page:e}=nF();return e}function zT(){const{biz:e}=G(),t=e.assigns;function n({value:r}){const{id:i,name:s,caption:l}=r;return a.jsx(xe,{to:`../${Nw(i)}`,children:a.jsxs("div",{className:"px-3 py-2 align-items-center d-flex",children:[a.jsx(Nn,{name:"credit-card-2-front",className:"fs-larger me-3 text-info"}),a.jsx("span",{className:"text-body",children:l??s})]})})}return a.jsxs(H,{header:"赋值中心",children:[a.jsx(ge,{}),a.jsx(Be,{items:t,ViewItem:n})]})}function BT(){return a.jsxs(a.Fragment,{children:[a.jsx(ie,{path:Zw,element:a.jsx(zT,{})}),a.jsx(ie,{path:Nw(":assign"),element:a.jsx(VT,{})})]})}const Ld="home";function YT(e){const t=a.jsxs(a.Fragment,{children:[OT(),FT(),LT(),BT(),IT,$T]});return a.jsxs(a.Fragment,{children:[a.jsx(ie,{path:`${Ld}/*`,children:t}),a.jsx(ie,{path:"/*",children:t})]})}const nb=[],qo={};(function(){for(let e of nb)qo[e].type=e})();function WT(){const e=G(),{uq:t}=e;let n={};async function r(l){let o=n[l];if(o!==void 0)return o}async function i(l){let{IxBud:o}=t,u=await r(l),[c,d]=await Promise.all([t.IX({IX:o,ix:u}),t.IX({IX:o,IX1:o,ix:u})]),h=[];for(let{ix:m,xi:v}of c){let y=[];for(let{ix:w,xi:S}of d)w===v&&y.push({id:S});y.length===0&&(y=void 0),h.push({id:v,items:y})}return h}async function s(l,o){}return{loadIDPropId:r,loadIDProps:i,setRadioItem:s}}function HT(){return a.jsx(H,{header:"属性",children:a.jsx(ge,{})})}function QT(){const{uq:e}=G(),t=WT(),{openModal:n}=ue(),{prop:r}=un(),[i,s]=E.useState(void 0);$t(()=>{(async function(){let d=await t.loadIDProps(r);s(d)})()});function l({value:d}){let{id:h,items:m}=d;function v({value:y}){const{id:w,name:S,ex:g,type:f,$removed:p}=y,{caption:j,PageNext:b,memo:k}=qo[f];function _(){b!==void 0?n(a.jsx(b,{id:w,name:S,caption:g,type:f,items:m})):(y.$removed=p!==!0,s([...i]))}let C,N,D="",I=" fw-bold";return p===!0?(C="undo",N="text-muted",D=" text-decoration-line-through text-muted",I=""):b!==void 0?(C="angle-right",N="text-secondary"):(C="trash",N="text-info"),a.jsx("div",{className:"ps-3 py-2",children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-fill me-3 "+D,children:[a.jsxs("div",{className:"mb-1 d-flex",children:[a.jsx("span",{className:"w-min-8c me-3"+I,children:S}),a.jsx("small",{className:"text-muted",children:g})]}),a.jsxs(Ve,{children:[a.jsx("span",{children:j}),a.jsx("small",{className:"text-muted",children:k})]})]}),a.jsx("div",{className:"d-flex align-items-center ps-3 pe-3 cursor-pointer",onClick:_,children:a.jsx(J,{name:C,fixWidth:!0,className:N})})]})})}return a.jsx(Ht,{uq:e,id:h,Template:v})}async function o(){let d=await n(a.jsx(GT,{IDName:r}));if(!d)return;let h=await t.loadIDPropId(r),m=d;s([...i,{ix:h,xi:m}])}const u=a.jsx("button",{className:"btn btn-sm btn-success me-2",onClick:o,children:a.jsx(J,{name:"plus"})}),c="collIDCustom[prop as EnumID].caption";return a.jsx(H,{header:c+"属性编辑",right:u,children:i&&i.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Be,{items:i,ViewItem:l}),a.jsx(ge,{})]})})}function GT({IDName:e}){const{register:t,handleSubmit:n,getValues:r}=En(),[i,s]=E.useState(void 0),[l,o]=E.useState(!1),[u]=E.useState(!1);async function c(y){}function d(y){let w=Number(y.target.value),S=qo[w];s(S);let g=r("name");o(g.trim().length>0&&S!==void 0)}function h(y){o(y.target.value.trim().length>0&&i!==void 0)}let m,v="提交";if(i!==void 0){const{PageNext:y,memo:w}=i;w!==void 0&&(m=a.jsxs("div",{className:"mt-1 mb-2 py-2 px-2 text-muted small",children:["说明：",w]})),y!==void 0&&(v="下一步")}return a.jsx(H,{header:"新增属性",children:a.jsxs("form",{className:"container my-3",onSubmit:n(c),children:[a.jsx(Et,{label:"名称",labelClassName:"text-end",children:a.jsx("input",{className:"form-control",...t("name",{maxLength:50,onChange:h})})}),a.jsx(Et,{label:"标识",labelClassName:"text-end",children:a.jsx("input",{className:"form-control",...t("caption",{maxLength:100})})}),a.jsxs(Et,{label:"类型",labelClassName:"text-end",children:[a.jsxs("select",{className:"form-select",...t("type",{onChange:d}),defaultValue:"$",children:[a.jsx("option",{disabled:!0,value:"$",children:"请选择数据类型"}),nb.map(y=>{const{caption:w}=qo[y];return a.jsx("option",{className:"me-3 w-min-8c mb-2 py-3",value:y,children:w},y)})]}),m]}),a.jsx(Et,{children:a.jsx(ZS,{isSubmiting:u,className:"btn btn-primary",disabled:!l,children:v})})]})})}const Oy="prop",KT=a.jsxs(a.Fragment,{children:[a.jsx(ie,{path:Oy,element:a.jsx(HT,{})}),a.jsx(ie,{path:`${Oy}/:prop`,element:a.jsx(QT,{})})]});function XT({caption:e,right:t,onAdd:n}){return t===void 0&&n&&(t=a.jsx("button",{className:"mt-1 btn btn-sm btn-outline-primary",onClick:n,children:a.jsx(J,{name:"plus"})})),a.jsxs(Ve,{className:"px-3 py-1 tonwa-bg-gray-2 small text-black-50 align-items-end",children:[a.jsx("div",{className:"pt-2",children:e}),t]})}function ZT(){const{biz:e}=G();return e.entities[it.Uom].buds.type.budDataType,a.jsx("div",{})}const rb="/uom";function JT(){return a.jsx(H,{header:a.jsx(Ga,{atom:it.Uom}),children:a.jsx(ZT,{})})}const gs={atomName:it.UomI,NOLabel:"编号",exLabel:"名称"};function eR(){let{header:e,right:t,query:n,param:r,sortField:i,ViewItem:s,none:l}=Wa({...gs,ViewItemAtom:Zh});const o=a.jsx(xe,{to:rb,children:a.jsxs(Ve,{className:"px-3 py-2 border-bottom border-3 align-items-center cursor-pointer",children:[a.jsx(Nn,{name:"archive-fill",className:"w-2c me-4 text-primary",iconClassName:"fs-4"}),a.jsx("span",{className:"text-black",children:a.jsx(Ga,{atom:it.Uom})}),ib]})});return a.jsx(fn,{header:e,query:n,param:r,sortField:i,ViewItem:s,none:l,right:t,children:o})}const ib=a.jsx(Nn,{name:"chevron-right",className:"text-secondary"});function Zh({value:e}){const{no:t,ex:n}=e;return a.jsxs(Ve,{className:"align-items-center",children:[a.jsx(Nn,{name:"basket3",className:"w-2c me-4 text-info",iconClassName:"fs-4"}),a.jsxs("span",{children:[a.jsx("b",{className:"me-3 text-black",children:n}),a.jsx("small",{className:"text-secondary",children:t})]}),ib]})}function tR(){let{page:e}=Ha(gs);return e}function nR(){let{view:e,caption:t}=Qa(gs);return a.jsxs(H,{header:t,children:[a.jsx("div",{children:"EDIT"}),e,a.jsx("div",{children:"UomXList"})]})}const rR={name:gs.atomName,pageNew:a.jsx(tR,{}),pageEdit:a.jsx(nR,{}),pageList:a.jsx(eR,{}),pageView:a.jsx(iR,{}),ViewItem:Zh};function iR(){const e=Dn(),t=G(),{uq:n,biz:r}=t,{openModal:i}=ue(),{id:s}=un(),l=Number(s),{caption:o}=r.entities[gs.atomName],{data:{uomI:u,uomxList:c}}=$n(["GetUomI",s],async()=>{let{UomI:m,UomX:v}=await n.GetUomI.query({id:l}),y;if(m.length>0){let{id:S,no:g,ex:f,discription:p,ratio:j,uom:b,uomNo:k,uomEx:_,uomDiscription:C}=m[0];y={id:S,no:g,ex:f,discription:p,ratio:j,uom:{id:b,no:k,ex:_,discription:C,type:0}}}const w=v.map(S=>({...S}));return{uomI:y,uomxList:w}},zn);async function d(){let m="真的要删除这个计量单位吗？";if(await i(a.jsx(Fa,{header:"确认",message:m,yes:"删除",no:"不删除"}))===!0){await n.DelAtom.submit({id:l});let y=t.pageCache.getPrevData();y&&y.removeItem(w=>w.id===l),e(-1)}}const h=a.jsx($h,{color:"outline-info",onClick:d,children:a.jsx(J,{name:"trash"})});return a.jsxs(H,{header:o,right:h,children:[u===void 0?a.jsx("div",{className:"p-3",children:"unknown UomI"}):a.jsx(sR,{uomI:u}),a.jsx(lR,{uomI:u,uomxList:c})]})}function sR({uomI:e}){const{uq:t,biz:n}=G(),{openModal:r}=ue(),[i,s]=E.useState(e);async function l(){const{id:h}=i;await r(a.jsx(aR,{id:h})),s(null);let m=await qO(n,t,h);s(m)}if(i===null)return a.jsx(os,{className:"m-3 text-info"});const{ex:o,discription:u,uom:c,ratio:d}=i;return a.jsxs(Ve,{className:"ps-3",children:[a.jsxs("div",{className:"py-3",children:[a.jsx("div",{children:u}),a.jsxs("div",{children:[a.jsx("b",{className:"fs-larger me-3",children:o}),a.jsxs("span",{children:[d,c==null?void 0:c.ex]})]})]}),a.jsx("div",{className:"p-3 cursor-pointer",onClick:l,children:a.jsx(J,{name:"pencil-square-o",className:"text-info"})})]})}function aR({id:e}){const{page:t}=xw({...gs,id:e});return t}function lR({uomI:e,uomxList:t}){const{uq:n,biz:r}=G(),{openModal:i,closeModal:s}=ue(),[l,o]=E.useState(t),{caption:u}=r.entities[it.UomX];async function c(){const w={no:await n.IDNO({ID:n.Atom})},S=await i(a.jsx(h,{uomX:w}));await d(S)}async function d(y){if(y===void 0)return;const{no:w,ex:S,ratio:g}=y;let f=await n.SaveUomX.submit({i:e.id,no:w,ex:S,ratio:g});if(y.id!==f.id)y.id=f.id,l.push(y);else{let p=l.findIndex(j=>j.id===y.id);Object.assign(l[p],y)}l.sort((p,j)=>{const{ratio:b}=p,{ratio:k}=j;return b<k?-1:b>k?1:0}),o([...l])}function h({uomX:y}){const{register:w,handleSubmit:S,formState:{errors:g},setError:f}=En({mode:"onBlur"}),{id:p}=y;function j(C){const{ex:N}=C;let D=l.findIndex(A=>A.ex===N);if(D>=0&&l[D].id!==p){f("ex",{message:"重复了"});return}const I={...y,...C};s(I)}const b=[{name:"ex",label:"简称",type:"text",options:{maxLength:30,value:y.ex}},{name:"ratio",label:"换算率",type:"number",options:{required:!0,valueAsNumber:!0,value:y.ratio}},{type:"submit"}];async function k(){let C=`真的要删除这个${u}吗？`;if(await i(a.jsx(Fa,{header:"确认",message:C,yes:"删除",no:"不删除"}))===!0){await n.DelUomX.submit({uomI:e.id,uomX:p});let D=l.findIndex(I=>I.id===p);if(D>=0){let I=l.splice(D,1);o(I)}s()}}let _;return p>0&&(_=a.jsx($h,{color:"outline-info",onClick:k,children:a.jsx(J,{name:"trash"})})),a.jsxs(H,{header:"换算率",right:_,children:[a.jsx(Et,{children:a.jsxs("div",{className:"mt-3 small text-secondary",children:[a.jsx(J,{name:"exclamation-circle",className:"text-info me-3"}),"相对",e.ex,"的换算率"]})}),a.jsx("form",{onSubmit:S(j),className:"container my-3 pe-5",children:a.jsx(Wn,{rows:b,register:w,errors:g})})]})}function m(y){const{value:w,index:S}=y;let g,f;if(S===0)g=e.ex,f=1;else{let{ex:N,ratio:D}=l[S-1];g=N,f=D}const{no:p,ratio:j,ex:b}=w,k=j/f,_=Number.isInteger(k)===!0?k:k.toFixed(2);async function C(){let N=await i(a.jsx(h,{uomX:w}));N!==void 0&&await d(N)}return a.jsxs(Ve,{className:"ps-3",children:[a.jsxs("div",{className:"py-2 w-min-12c",children:["1 ",a.jsx("b",{className:"fs-larger",children:b})]}),a.jsxs("div",{className:"py-2",children:[" = ",_," ",g]}),a.jsx("div",{className:"px-3 py-2 cursor-pointer",onClick:C,children:a.jsx(J,{name:"angle-right"})})]})}const v=a.jsxs("div",{className:"p-3 text-secondary small",children:[a.jsx(Nn,{name:"info-circle",className:"me-1 text-info"}),"无",u]});return a.jsxs("div",{children:[a.jsx(XT,{caption:u,onAdd:c}),a.jsx(Be,{items:l,ViewItem:m,itemKey:y=>y.ex,none:v})]})}it.Uom;function oR(e){return"/uomi-list-of-uom/"+e}function uR(){const{uq:e}=G(),{id:t}=un(),n=Number(t);async function r(u,c,d){let m=await e.GetUomIListOfUom.page(u,c,d),{$page:v}=m;return v}let i={uom:n};function s({value:u}){return a.jsx(xe,{to:`/uomi/${u.id}`,children:a.jsx("div",{className:"px-3 py-2",children:a.jsx(Zh,{value:u})})})}const l=a.jsx(a.Fragment,{children:"R"}),o=a.jsxs("div",{children:[a.jsx("div",{className:"m-3",children:a.jsx(Ht,{uq:e,id:n,Template:yt})}),a.jsx(ge,{})]});return a.jsx(fn,{header:a.jsx(Ga,{atom:it.Uom}),query:r,param:i,sortField:"id",ViewItem:s,right:l,children:o})}const cR="admin";function dR(){const e=[{label:Hh,path:Wh},{label:Gh,path:Qh},{label:a.jsx(Ga,{atom:it.UomI}),path:Ya(rR.name)}];return a.jsx(H,{header:"管理员",children:e.map((t,n)=>{const{label:r,path:i}=t;return a.jsx(xe,{to:`../${i}`,className:"px-3 py-2 border-bottom align-items-center",children:r},n)})})}const fR=a.jsx(a.Fragment,{children:a.jsx(ie,{path:cR,element:a.jsx(dR,{})})});function hR(e){return a.jsxs(a.Fragment,{children:[KT,fR,QF,xT,XF,a.jsx(ie,{path:rb,element:a.jsx(JT,{})}),a.jsx(ie,{path:oR(":id"),element:a.jsx(uR,{})})]})}function mR(){return a.jsx(H,{header:null,children:a.jsxs("div",{className:"m-3",children:[a.jsx("i",{className:"bi-dash-circle-fill text-danger fs-larger me-3"}),"没有授权。请联系管理员"]})})}function pR(){const{right:e,view:t}=Ww();return a.jsx(H,{header:Kh,back:"none",right:e,children:t})}function bc({children:e}){let t=G();const{pathBase:n,pathLogin:r}=t;return a.jsx(E.Suspense,{fallback:a.jsx(qn,{header:"..."}),children:a.jsx(rk,{basename:n,children:a.jsxs(Vf,{children:[e,a.jsx(ie,{path:`${r}/*`,element:a.jsx(lO,{})}),a.jsx(ie,{path:"/register",element:a.jsx(oO,{})}),iO]})})})}function yR(){let e=G(),{user:t,atomSiteLogined:n,pathLogin:r}=e,i=je(t),s=je(n),{userSite:l}=Mw();if(l===void 0)return a.jsx(bc,{children:a.jsx(ie,{path:"/",element:a.jsx(X1,{replace:!0,to:r})})});let o;if(s!==!0)return o=a.jsx(qn,{}),a.jsx(bc,{children:a.jsx(ie,{path:"/",element:o})});if(i===void 0)o=a.jsx(mR,{});else{const u={to:"/"+Ld,caption:"首页",icon:"home"},c={to:"/"+Md,caption:"我的",icon:"user"},d={to:"/biz",caption:"业务",icon:"user"},{isAdmin:h}=l;let m=h===!0?[u,d,c]:[u,c];o=a.jsx(_N,{tabs:m})}return a.jsxs(bc,{children:[a.jsxs(ie,{path:"/",element:o,children:[a.jsx(ie,{index:!0,element:a.jsx(Ay,{})}),a.jsx(ie,{path:Ld+"/*",element:a.jsx(Ay,{})}),a.jsx(ie,{path:"biz/*",element:a.jsx(pR,{})}),a.jsx(ie,{path:Md+"/*",element:a.jsx(ST,{})})]}),hO,YT(),hR(),bT,a.jsx(ie,{path:"/test",element:a.jsx(H,{header:"Test",children:"test"})})]})}const vR="",gR={version:"0.1.0",center:"https://tv.jkchemical.com",noUnit:!0,oem:void 0,pathBase:vR};function xR(e){let t=[],{devs:n,uqs:r}=e;for(let i of r){let{dev:s,name:l,alias:o}=i;t.push({dev:n[s],name:l,alias:o})}return t}function G(){return E.useContext(Jf)}class wR extends vN{constructor(){super(...arguments);x(this,"timezone");x(this,"unitTimezone");x(this,"unitBizDate");x(this,"unitBizMonth");x(this,"biz");x(this,"uq");x(this,"refresh",async()=>{let n=Date.now()/1e3,r=ye(this.refreshTime);n-r<30||oe(this.refreshTime,n)});x(this,"_notifyCounts",ze({}));x(this,"atomSiteLogined",ze(!1));x(this,"loginSite",async()=>{if(this.uqSites!==void 0)return this.biz;this.uqSites=new oN(this.uqMan),await this.uqSites.login();let{userSite:n}=this.uqSites,r;if(n!==void 0){this.uqMan.unit=n.siteId,r=!0;let{uqApi:i}=this.uqMan,{schemas:s,logs:l}=await i.biz();if(s===void 0){debugger;console.error("uq-api compile saved bizobject error",l),this.biz=new iy(this,void 0)}else{let o=ru.unpack(s);this.biz=new iy(this,o)}}else r=!1;return oe(this.atomSiteLogined,r),this.biz});x(this,"gSpecs",{})}get pathLogin(){return"/login"}get uqMan(){return this.uq.$.$_uqMan}async loadUnitTime(n){let i=(await n.query({})).ret[0];this.timezone=i.timezone??8,this.unitTimezone=i.unitTimeZone??8,this.unitBizMonth=(i.unitBizMonth??1)-1,this.unitBizDate=i.unitBizDate??1}loadWithoutLogin(){}onLoadUQs(){this.uq=this.uqs.UqDefault}async loadOnLogined(){await this.loginSite(),console.log("site logined")}get autoRefresh(){return async()=>{let{ret:n}=await this.uq.GetPendsNotify.query({}),r=ye(this._notifyCounts),i=0;for(let s of this.biz.pends)r[s.id]=0;for(let s of n){let{phrase:l,count:o}=s;r[l]=o,i+=o}r[sn.sheet]=i,oe(this._notifyCounts,{...r})}}clearNotifyCount(n){let r=ye(this._notifyCounts);r[n]=0,oe(this._notifyCounts,{...r})}specFromAtom(n){if(this.biz.entities[n]!==void 0)debugger}}const bR=xR(JN);function jR(){const e=()=>new wR(gR,bR,GN,eD);return a.jsx(wN,{createUqApp:e,children:a.jsx(yR,{})})}Sc.createRoot(document.getElementById("root")).render(a.jsx(re.StrictMode,{children:a.jsx(jR,{})}))});export default SR();
